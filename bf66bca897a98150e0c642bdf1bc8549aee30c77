{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d7f4caf9_67bf7cee",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2021-04-22T08:26:00Z",
      "side": 1,
      "message": "May I ask if this whole PCIe SMC support is actually useful, as it seems the Linux support has been NAKed? There may have not been the last work spoken on this, but I wonder if we should commit code at this point, as future acceptance might be dependent on spec changes?",
      "revId": "bf66bca897a98150e0c642bdf1bc8549aee30c77",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ad3ec86_378c2ed6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 1000503
      },
      "writtenOn": "2021-04-22T14:36:21Z",
      "side": 1,
      "message": "I\u0027m not sure I can do the entire topic justice without writing a book at this point. The short answer is yes its absolutely useful. The Linux NAK is mislead and hardly unanimous, while upsetting a fair number of Arm\u0027s partners, and continuing the failure of requiring kernel changes for what are common \"quirks\" on ARM platforms. This has a financial impact as a result of both time to market limitations as well as creating unnecessary maintenance issues in the kernel as well as the distros. It also continues to propagate the perception that the Arm ecosystem continues to fail at \"just works\".\n\nIts quite helpful from a TFA perspective at the moment to consider that Linux is _one_ of a half dozen common OS\u0027s, of which at least one has already made this interface mandatory, and there is strong interest from a couple others because they share the perspective that custom host bridge drivers are less than ideal. \n\nWhat the NAK has done, is forced ATG to begin to promote this as less of an escape hatch for these platforms and more as a 1st class PCIe interface. I\u0027m not sure how much I can detail, but the expectation is that there will be PCIe spec updates as well as BSA changes as a result.\n\nIn none of the proposed changes am I aware of actually will affect the TFA bits. Its possible the ACPI bindings may change slightly (or at least the way detection of the interface is triggered), and I\u0027ve offered the possibly that we add DT bindings in various conversations because DT has the same problems in this area. Either way, if you look at the existing PCIe wording, it doesn\u0027t detail the platform specific bits for the Itanium, so I wouldn\u0027t expect it to detail the platform specific Arm bits.\n\nFinally, at the moment we need this for the CM4 because unlike the base RPI4 where we know whats plugged into the PCIe slot, and effectively hide the PCIe bus from the OS, we can\u0027t pull that off with the CM4 and there is a desire to extend ACPI support to CM4 based platforms.\n\nI will stop now, before I actually write said book... ðŸ˜‰",
      "parentUuid": "d7f4caf9_67bf7cee",
      "revId": "bf66bca897a98150e0c642bdf1bc8549aee30c77",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}