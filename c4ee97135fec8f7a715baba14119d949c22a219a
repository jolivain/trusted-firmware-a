{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d3a3cabd_94fa443d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-12-05T14:52:08Z",
      "side": 1,
      "message": "It will be good if you add motivation behind this change i.e. which platform needs the ROTPK RSA key instead of its hash.",
      "revId": "c4ee97135fec8f7a715baba14119d949c22a219a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b64730e1_0fb92c23",
        "filename": "drivers/auth/auth_mod.c",
        "patchSetId": 1
      },
      "lineNbr": 226,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2022-12-05T14:33:54Z",
      "side": 1,
      "message": "Sorry Lauren, I think I had overlooked these changes... We absolutely don\u0027t want to do this, as this would completely break the root of trust and undermine all security guarantees normally brought by trusted boot...\n\nIn this patch, root certificates are now only self-verified against their own key. This means I can craft a certificate with a custom key, sign it with this same key, deploy that on the target as a \"root\" certificate and TF-A will happily let it go! Without proper verification of the root certificate key against the hardware-provided ROTPK (which I originally said was something we could add in the future...), \"root\" certificates would no longer be rooted into the hardware ROTPK!\n\nSo please revert these changes and only keep Arm platform specific changes. The scenario at hand will fall into lines 228-232, which means root certificates are properly verified against the hardware-provided ROTPK. We can add the missing memcmp(hardware_rotpk, root_certificate_pk) operation in a subsequent patch.",
      "range": {
        "startLine": 215,
        "startChar": 0,
        "endLine": 226,
        "endChar": 23
      },
      "revId": "c4ee97135fec8f7a715baba14119d949c22a219a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94b51d34_2e6b8710",
        "filename": "drivers/auth/auth_mod.c",
        "patchSetId": 1
      },
      "lineNbr": 226,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-12-05T14:52:08Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "b64730e1_0fb92c23",
      "range": {
        "startLine": 215,
        "startChar": 0,
        "endLine": 226,
        "endChar": 23
      },
      "revId": "c4ee97135fec8f7a715baba14119d949c22a219a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0595ecf5_2269abc2",
        "filename": "include/plat/arm/common/arm_def.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2022-12-05T14:33:54Z",
      "side": 1,
      "message": "Suggest adding a small comment to clarify that ARM_ROTPK_KEY_LEN account for the DER header + raw key material. This sounds important to me, as it contrasts with ARM_ROTPK_HASH_LEN, which only accounts for the raw key hash (no DER header).",
      "revId": "c4ee97135fec8f7a715baba14119d949c22a219a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e20c074_91855275",
        "filename": "include/plat/arm/common/plat_arm.h",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-12-05T14:52:08Z",
      "side": 1,
      "message": "Can we rename this to *_RSA_HASH_ID?",
      "range": {
        "startLine": 160,
        "startChar": 8,
        "endLine": 160,
        "endChar": 30
      },
      "revId": "c4ee97135fec8f7a715baba14119d949c22a219a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4888486_f89bfe6b",
        "filename": "include/plat/arm/common/plat_arm.h",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2022-12-05T16:08:44Z",
      "side": 1,
      "message": "I\u0027d rather not change any of the existing build options, as I think it will create unnecessary churn in TF-A codebase, not to mention TF-A CI scripts updates.",
      "parentUuid": "6e20c074_91855275",
      "range": {
        "startLine": 160,
        "startChar": 8,
        "endLine": 160,
        "endChar": 30
      },
      "revId": "c4ee97135fec8f7a715baba14119d949c22a219a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d03c9ce6_1cc25dea",
        "filename": "include/plat/arm/common/plat_arm.h",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-12-05T14:52:08Z",
      "side": 1,
      "message": "Similarly, will rename this to ARM_ROTPK_DEVEL_RSA_ID as it specifies full RSA key.",
      "range": {
        "startLine": 162,
        "startChar": 8,
        "endLine": 162,
        "endChar": 39
      },
      "revId": "c4ee97135fec8f7a715baba14119d949c22a219a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "977d9f7b_7d2ab354",
        "filename": "plat/arm/board/common/board_common.mk",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-12-05T14:52:08Z",
      "side": 1,
      "message": "Do we need to handle full key for PROT and SWD_ROT also?",
      "range": {
        "startLine": 105,
        "startChar": 0,
        "endLine": 108,
        "endChar": 82
      },
      "revId": "c4ee97135fec8f7a715baba14119d949c22a219a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}