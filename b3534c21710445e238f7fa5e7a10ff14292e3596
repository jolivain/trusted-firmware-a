{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ea866742_8ed8ffdb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-11T10:52:55Z",
      "side": 1,
      "message": "Thanks Sandrine for review!",
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "048a1f3c_82a5b075",
        "filename": "Makefile",
        "patchSetId": 4
      },
      "lineNbr": 966,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-11T09:43:07Z",
      "side": 1,
      "message": "(minor) Indent with spaces rather than tabs for consistency.",
      "range": {
        "startLine": 966,
        "startChar": 0,
        "endLine": 966,
        "endChar": 1
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5a6a395_f90a93c5",
        "filename": "Makefile",
        "patchSetId": 4
      },
      "lineNbr": 966,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-11T09:43:07Z",
      "side": 1,
      "message": "Should we prefix these build options with \"FWU_\"? The current names look a bit too generic to me.",
      "range": {
        "startLine": 966,
        "startChar": 1,
        "endLine": 966,
        "endChar": 15
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "11b744e8_1391242a",
        "filename": "Makefile",
        "patchSetId": 4
      },
      "lineNbr": 966,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-11T10:52:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "048a1f3c_82a5b075",
      "range": {
        "startLine": 966,
        "startChar": 0,
        "endLine": 966,
        "endChar": 1
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c739df5a_b63a687c",
        "filename": "Makefile",
        "patchSetId": 4
      },
      "lineNbr": 966,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-11T10:52:55Z",
      "side": 1,
      "message": "\u0027FWU_\u0027 should not give any impression that this bank is for updated firmware.\nWhen there is no update we still use either of firmware bank to boot the board as per metadata. Let me know what do you think? I am still fine to change this to FWU_.",
      "parentUuid": "d5a6a395_f90a93c5",
      "range": {
        "startLine": 966,
        "startChar": 1,
        "endLine": 966,
        "endChar": 15
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c8bc39c7_c92e03bb",
        "filename": "Makefile",
        "patchSetId": 4
      },
      "lineNbr": 966,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-11T11:15:49Z",
      "side": 1,
      "message": "Good point. OK let\u0027s keep the names you\u0027ve used then.",
      "parentUuid": "c739df5a_b63a687c",
      "range": {
        "startLine": 966,
        "startChar": 1,
        "endLine": 966,
        "endChar": 15
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ede98c8_ebc5113d",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-11T09:43:07Z",
      "side": 1,
      "message": "I am not sure include/plat/common is the best place for this header file... I don\u0027t see anything platform-specific in there. What was the rationale for choosing this location?",
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92c78d26_3f35b261",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-11T10:52:55Z",
      "side": 1,
      "message": "That\u0027s correct this header does not have any platform specific information.\nI added in this location so that any platforms can make use of it. \nDo you have any other prefer location? \nCan we put this header in \u0027include/common/\u0027 instead?",
      "parentUuid": "5ede98c8_ebc5113d",
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bea48df5_c0986392",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-11T11:15:49Z",
      "side": 1,
      "message": "\u003e I added in this location so that any platforms can make use of it.\n\nIn my mind, include/plat/common is for things that all platforms must implement. For example, include/plat/common/platform.h contains the prototypes of all platform interfaces. I don\u0027t think this quite fits the FWU metadata, does it?\n\n\u003e Can we put this header in \u0027include/common/\u0027 instead?\n\nI think include/common is for header files that are shared across multiple BL images. Is this the case for the FWU code? I can\u0027t quite say for now, I\u0027ll have to go through the whole patch series to get a better understanding first. Possible alternatives could be include/drivers or include/lib, if that makes sense. Any of these 3 locations can still be used by any platform.",
      "parentUuid": "92c78d26_3f35b261",
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "02131329_e5f00773",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-11T11:46:40Z",
      "side": 1,
      "message": "Please see below how this header is used and what is the future plan.\n\n1. As per patches in this series, this header is used by Arm platforms, but only in case of BL2.\n2. There is a plan to use this header in BL1 code, but only in case of Arm platform. I will post a patch for this soon.\n3. Any other platforms can use this header in their own implementation to load the FWU metadata.\n\nAs of now, this header is used only in Arm platforms, and giving opportunity to other platforms to include it in their own implementation. \nThat means, FWU header is common (every platform should abide with that), but implementation to use this header is platform specific.\n\nI am not quite sure then where to fit this header. Please provide your suggestion here? Thanks!",
      "parentUuid": "bea48df5_c0986392",
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc0e59e1_32be6728",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-15T11:34:39Z",
      "side": 1,
      "message": "\u003e Please see below how this header is used and what is the future plan.\n\u003e \u003csnip\u003e\n\nThanks for clarifying the intent, Manish.\n\n\u003e I am not quite sure then where to fit this header. Please provide your suggestion here? Thanks!\n\nI think we could put the implementation under lib/. The header file could go under include/lib/. Probably as a single file to start with - if in the future this ends up growing too much we might want to consider moving this under its own sub-directory (e.g. include/lib/firmware_update/).\n\nAlternatively, we might want to put the header file under include/export/. Why? Because the update client will need to have the same view of the FWU metadata structures and potentially the update client project might want to pull the header file from the TF-A project. That being said, it\u0027s probably too early days and I guess we don\u0027t have visibility on such a requirement as of now (unless you\u0027ve heard otherwise?). Maybe something to keep on the back of our minds...",
      "parentUuid": "02131329_e5f00773",
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a82a1229_5c696913",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-15T14:20:35Z",
      "side": 1,
      "message": "As we are thinking to make FWU metadata as generic module then can we put this header under \u0027driver\u0027?\n1. include/drivers/fwu/fwu_metadata.h -\u003e FWU metadata header\n2. drivers/fwu/fwu_metadata.c -\u003e FWU metadata load implementation.\n\nLet me know what do you think?\n\nI didn\u0027t get any requirement as such to expose this file, and hence to put it under \u0027export\u0027 folder. I think better scope this header only for internal TF-A purpose as of now.",
      "parentUuid": "dc0e59e1_32be6728",
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "47ce1464_b22039b4",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-15T15:17:40Z",
      "side": 1,
      "message": "\u003e As we are thinking to make FWU metadata as generic module then can we put this header under \u0027driver\u0027?\n\u003e 1. include/drivers/fwu/fwu_metadata.h -\u003e FWU metadata header\n\u003e 2. drivers/fwu/fwu_metadata.c -\u003e FWU metadata load implementation.\n\u003e \n\u003e Let me know what do you think?\n\nYes, I guess drivers/ is just as good as lib/. TBH I never quite got the difference between the two in TF-A, I think some of the \"drivers\" could be \"libraries\" and vice-versa... I am not sure we ever got a good definition of what to put under each directory.\n\n\u003e I didn\u0027t get any requirement as such to expose this file, and hence to put it under \u0027export\u0027 folder. I think better scope this header only for internal TF-A purpose as of now.\n\nOK. I agree with you.",
      "parentUuid": "a82a1229_5c696913",
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eea3f6a1_1cbbc6f2",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-11T09:43:07Z",
      "side": 1,
      "message": "Should be \"Arm Limited\", drop the \"and Contributors\".",
      "range": {
        "startLine": 2,
        "startChar": 23,
        "endLine": 2,
        "endChar": 51
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1b40e3b8_2fb5c7cf",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-11T10:52:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "eea3f6a1_1cbbc6f2",
      "range": {
        "startLine": 2,
        "startChar": 23,
        "endLine": 2,
        "endChar": 51
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9be7807a_564d83a7",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-14T15:13:40Z",
      "side": 1,
      "message": "This structure name sounds misleading to me, it reads to me as \"information for an image *bank*\", whereas it\u0027s supposed to be holding information for an *image* (within a bank). How about \"image_properties\" [*], to reuse the terminology used in the spec? \"image_info\" is fine too IMO. I don\u0027t think we need to refer to the bank at all in the structure name.\n\n[*] or fwu_image_properties/fwu_image_info, as I suggest in my next comment.",
      "range": {
        "startLine": 17,
        "startChar": 7,
        "endLine": 17,
        "endChar": 22
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6904a687_830e78fa",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-14T17:40:29Z",
      "side": 1,
      "message": "\u0027fwu_image_properties\u0027 makes more sense.",
      "parentUuid": "9be7807a_564d83a7",
      "range": {
        "startLine": 17,
        "startChar": 7,
        "endLine": 17,
        "endChar": 22
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d18393cb_770bcacc",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-14T15:13:40Z",
      "side": 1,
      "message": "Should we call this fwu_image_entry (and fwu_image_properties for the one above)? Just like we\u0027ve called the one below fwu_metadata? Namespacing all these structures names sounds like a good idea to me. If we keep such generic names, I am worried that they will be too close to the existing structures we use for image loading, such as \u0027struct image_desc\u0027 or \u0027struct image_info\u0027 defined in bl_common_exp.h.",
      "range": {
        "startLine": 34,
        "startChar": 7,
        "endLine": 34,
        "endChar": 18
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b7ec044_efcccec3",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-14T17:40:29Z",
      "side": 1,
      "message": "Okay, I will change this to \u0027fwu_image_entry\u0027",
      "parentUuid": "d18393cb_770bcacc",
      "range": {
        "startLine": 34,
        "startChar": 7,
        "endLine": 34,
        "endChar": 18
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "252b6c0a_13b53551",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 37,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-11T09:43:07Z",
      "side": 1,
      "message": "The FWU spec expects UUIDs to be 10 bytes. It looks like our UUIDs (as defined in include/tools_share/uuid.h) are bigger than that (16 bytes)...",
      "range": {
        "startLine": 37,
        "startChar": 1,
        "endLine": 37,
        "endChar": 7
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20e50751_8cee7e11",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 37,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-11T10:52:55Z",
      "side": 1,
      "message": "No, As per FWU specs size of UUIDs should be 0x10h i.e. 16 bytes (see table 6 in specification).",
      "parentUuid": "252b6c0a_13b53551",
      "range": {
        "startLine": 37,
        "startChar": 1,
        "endLine": 37,
        "endChar": 7
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6f0be838_e25d4c1e",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 37,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-11T11:15:49Z",
      "side": 1,
      "message": "Aaah I missed the hexadecimal base of these numbers, thanks for pointing this out!",
      "parentUuid": "20e50751_8cee7e11",
      "range": {
        "startLine": 37,
        "startChar": 1,
        "endLine": 37,
        "endChar": 7
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b231205e_f1434ed4",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 62,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-14T15:13:40Z",
      "side": 1,
      "message": "(minor) boots?",
      "range": {
        "startLine": 62,
        "startChar": 33,
        "endLine": 62,
        "endChar": 37
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "875c13f1_07c32a9d",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 62,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-14T17:40:29Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b231205e_f1434ed4",
      "range": {
        "startLine": 62,
        "startChar": 33,
        "endLine": 62,
        "endChar": 37
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "50d26b49_d156772a",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 65,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-06-14T15:13:40Z",
      "side": 1,
      "message": "(minor) booted?",
      "range": {
        "startLine": 65,
        "startChar": 42,
        "endLine": 65,
        "endChar": 46
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa14ef05_51da92c9",
        "filename": "include/plat/common/fwu_metadata.h",
        "patchSetId": 4
      },
      "lineNbr": 65,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-06-14T17:40:29Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "50d26b49_d156772a",
      "range": {
        "startLine": 65,
        "startChar": 42,
        "endLine": 65,
        "endChar": 46
      },
      "revId": "b3534c21710445e238f7fa5e7a10ff14292e3596",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}