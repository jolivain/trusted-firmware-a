{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8a98f578_4a781726",
        "filename": "lib/el3_runtime/aarch64/context_mgmt.c",
        "patchSetId": 2
      },
      "lineNbr": 620,
      "author": {
        "id": 1000102
      },
      "writtenOn": "2023-12-18T17:11:34Z",
      "side": 1,
      "message": "can we not incorporate this in RESET value? Or the RESET_VAL is intentionally kept this way for EL3 execution ?",
      "range": {
        "startLine": 620,
        "startChar": 39,
        "endLine": 620,
        "endChar": 65
      },
      "revId": "108d244a349f04520304c87d65492ab863534c9c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87bb7f63_1d747416",
        "filename": "lib/el3_runtime/aarch64/context_mgmt.c",
        "patchSetId": 2
      },
      "lineNbr": 620,
      "author": {
        "id": 1000660
      },
      "writtenOn": "2023-12-18T18:39:40Z",
      "side": 1,
      "message": "Could be done. I opted for retaining the legacy code and making changes on top of it.\n\nWill push a patch and retry CI again to ensure its not affecting other bits.",
      "parentUuid": "8a98f578_4a781726",
      "range": {
        "startLine": 620,
        "startChar": 39,
        "endLine": 620,
        "endChar": 65
      },
      "revId": "108d244a349f04520304c87d65492ab863534c9c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "005f4067_9f211b3d",
        "filename": "lib/el3_runtime/aarch64/context_mgmt.c",
        "patchSetId": 2
      },
      "lineNbr": 620,
      "author": {
        "id": 1000660
      },
      "writtenOn": "2023-12-19T14:37:18Z",
      "side": 1,
      "message": "The modified CPTR_RESET_VALUE worked without any real errors/failed test configs in CI.\n\nHowever, the previous patches specify there is a need to retain the CPTR_EL3_RESET value and later modify for each world. Attaching the patch link here: https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/20623\n\nWe need to discuss and finalise on this bit before getting it merged.",
      "parentUuid": "87bb7f63_1d747416",
      "range": {
        "startLine": 620,
        "startChar": 39,
        "endLine": 620,
        "endChar": 65
      },
      "revId": "108d244a349f04520304c87d65492ab863534c9c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "169018c4_18591f8a",
        "filename": "lib/el3_runtime/aarch64/context_mgmt.c",
        "patchSetId": 2
      },
      "lineNbr": 620,
      "author": {
        "id": 1000660
      },
      "writtenOn": "2023-12-19T22:28:56Z",
      "side": 1,
      "message": "I believe, we need to maintain CPTR_EL3_RESET value as it is for the reasons that, by default the bits in this register contains unknown value on reset. Hence we need to set the bits rather on relying on hw.\nFurther, these bits TCPAC and TFP needs to be set during reset, to ensure the features are disbaled for all the worlds from the security aspect.\n\nFurther, while we prepare context for individual worlds, wherein we switch to each world, we need to unset these bits, wherein the lower exception levels in each security state could access the registers guarded by these bits.\n\nHenceforth, its good not to incorporate these changes to RESET value.",
      "parentUuid": "005f4067_9f211b3d",
      "range": {
        "startLine": 620,
        "startChar": 39,
        "endLine": 620,
        "endChar": 65
      },
      "revId": "108d244a349f04520304c87d65492ab863534c9c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd8f0f3d_1561e7f5",
        "filename": "lib/el3_runtime/aarch64/context_mgmt.c",
        "patchSetId": 2
      },
      "lineNbr": 620,
      "author": {
        "id": 1000102
      },
      "writtenOn": "2023-12-20T16:26:49Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "169018c4_18591f8a",
      "range": {
        "startLine": 620,
        "startChar": 39,
        "endLine": 620,
        "endChar": 65
      },
      "revId": "108d244a349f04520304c87d65492ab863534c9c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}