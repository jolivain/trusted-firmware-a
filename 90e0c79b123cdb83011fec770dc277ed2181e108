{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3026ecb9_ca282287",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000998
      },
      "writtenOn": "2023-03-04T04:24:56Z",
      "side": 1,
      "message": "I was just aware that Marcin had already pushed the patch about “hardware assisted coherency” after I finished this. Not sure if these two patches were preferable. Any comments is welcome.",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a1e0d41c_f8e20d18",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000443
      },
      "writtenOn": "2023-03-04T21:15:33Z",
      "side": 1,
      "message": "Does tf-a boots in qemu/sbsa-ref/neoverse-n1 for you with this patch?",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6f36cc5d_77398a51",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000998
      },
      "writtenOn": "2023-03-05T02:10:58Z",
      "side": 1,
      "message": "Yes. But need extra Qemu support patches (I also posted to qemu-devel, see: https://lore.kernel.org/qemu-devel/20230303161518.3411149-1-chenbaozi@phytium.com.cn/), which added all implementation defined registers accessed by erratum cpu_ops.",
      "parentUuid": "a1e0d41c_f8e20d18",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "07c1775c_e8caf9bb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000443
      },
      "writtenOn": "2023-03-06T08:48:12Z",
      "side": 1,
      "message": "I booted Linux using TF-A with those patches (QEMU with N1 patches too)\n\n~ # cat /proc/cpuinfo\nprocessor       : 0\nBogoMIPS        : 125.00\nFeatures        : fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp ssbs\nCPU implementer : 0x41\nCPU architecture: 8\nCPU variant     : 0x4\nCPU part        : 0xd0c\nCPU revision    : 1",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b24bb05b_e6a7b295",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000443
      },
      "writtenOn": "2023-03-06T09:07:46Z",
      "side": 1,
      "message": "TBH we can have A57/A72/N1/max support at once and it boots Linux just fine.",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1dd769e0_63ea2b7b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000443
      },
      "writtenOn": "2023-03-06T09:10:27Z",
      "side": 1,
      "message": "https://paste.centos.org/view/43124676 does the same in (imho) nicer way",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7d69d481_092233ef",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000998
      },
      "writtenOn": "2023-03-06T10:44:03Z",
      "side": 1,
      "message": "I have no problem with it if we may accept no AArch32 support for A57/A72 cases and make qemu not strictly align with the real hardware (e.g., ignore the HW_ASSISTED_COHERENCY differences). Otherwise, we might reserve this divergence if we treated sbsa-ref a platform to be similar to a real SBSA-compatible server as much as possible.",
      "parentUuid": "1dd769e0_63ea2b7b",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "23f046cb_b11e0356",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000443
      },
      "writtenOn": "2023-03-06T10:57:02Z",
      "side": 1,
      "message": "Both BSA and SBSA suck in this regard:\n\n\"It is consistent with this specification to implement PEs with support for the AArch32 Execution state.\"\n\nWithout \"mandatory\" or \"optional\" it feels like \"you are free to ignore this sentence\" to me.",
      "parentUuid": "7d69d481_092233ef",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8eabbac0_57d25a9e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000998
      },
      "writtenOn": "2023-03-06T11:09:10Z",
      "side": 1,
      "message": "I can understand this feeling. However, some scenarios do require to keep AArch32 for backward compatibility AFAIK, which makes me not sure to drop it.",
      "parentUuid": "23f046cb_b11e0356",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b69af20_9092f5ae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000541
      },
      "writtenOn": "2023-03-06T15:23:13Z",
      "side": 1,
      "message": "I don\u0027t see any need for SBSA-ref to keep AArch32 support, but I also don\u0027t see any need to delete it. Unless it causes issues for AArch64 platforms. And either way, we want to keep parity with virt on the CPU side.",
      "parentUuid": "8eabbac0_57d25a9e",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "29558439_7d2dedb3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000443
      },
      "writtenOn": "2023-03-06T17:04:41Z",
      "side": 1,
      "message": "A57/A72 support AArch32 in EL0-EL3 while N1 only in EL0.\n\nSo for TF-A it does not make a difference as it is EL3 and 64-bit.\n\nAArch32 support for userspace stays and it is something firmware does not have to worry about.",
      "parentUuid": "1b69af20_9092f5ae",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3d2ed97_ddf6f576",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000443
      },
      "writtenOn": "2023-03-08T10:20:58Z",
      "side": 1,
      "message": "Pure 64-bit TF-A, booted N1 cpu. Both armel (armv5te) and armhf (armv7) binaries work:\n\nroot@klapouchy:~/armhf# file usr/bin/hello\nusr/bin/hello: ELF 32-bit LSB pie executable, ARM, EABI5 version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux-armhf.so.3, for GNU/Linux 3.2.0, BuildID[sha1]\u003d3b3e707ad00b05d2c6857b684b8144f60d9e79bf, stripped\nroot@klapouchy:~/armhf# ./lib/ld-linux-armhf.so.3 usr/bin/hello\nHello, world!\n\nroot@klapouchy:~/armel# file usr/bin/hello\nusr/bin/hello: ELF 32-bit LSB pie executable, ARM, EABI5 version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.3, for GNU/Linux 3.2.0, BuildID[sha1]\u003d597090601c79e80b5d2605aa4eab2e1350174f06, stripped\nroot@klapouchy:~/armel# ./lib/ld-linux.so.3 usr/bin/hello\nHello, world!",
      "parentUuid": "29558439_7d2dedb3",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "59335937_5712e38c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000998
      },
      "writtenOn": "2023-03-12T13:31:13Z",
      "side": 1,
      "message": "\u003e I don\u0027t see any need for SBSA-ref to keep AArch32 support, but I also don\u0027t see any need to delete it. Unless it causes issues for AArch64 platforms. And either way, we want to keep parity with virt on the CPU side.\n\nMaybe this would be determined on whether it would be Ok to drop AArch32 support on virt for all ARMv8 cores (a53/a57/a72)?",
      "parentUuid": "d3d2ed97_ddf6f576",
      "revId": "90e0c79b123cdb83011fec770dc277ed2181e108",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}