{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3642147d_97e5cfa7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000542
      },
      "writtenOn": "2021-03-17T06:14:21Z",
      "side": 1,
      "message": "Thank you for your comments.\nActually I did both SD boot and eMMC boot test on NXP LS1046ARDB board whose peripheral circuit supports switching signals betwenn SD card and eMMC. Worked fine.\nI kown this is not any standard method, but it benefits developers and users, like current u-boot and linux do.\nPlease let me know if I can help during your tests.\nThanks.",
      "revId": "40430c3dd72008aa42bab86df53e9b0a1a659c50",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd054e75_96d350b6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000542
      },
      "writtenOn": "2021-03-17T06:16:31Z",
      "side": 1,
      "message": "Unfortunately, NXP LS1046ARDB hasn\u0027t been upstreamed in TFA:)",
      "parentUuid": "3642147d_97e5cfa7",
      "revId": "40430c3dd72008aa42bab86df53e9b0a1a659c50",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7cfe5455_73db4e44",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-03-22T14:55:45Z",
      "side": 1,
      "message": "Hi,\n\nI\u0027ve tested the patch and it is not very good for SD-card boot. As CMD1 can loop 100 times, I can see that the boot time increased on STM32MP1 platform (~1second but I didn\u0027t measure it precisely).\nMost of the platforms you\u0027ve changed have a way to determine the boot device, or have only one.\nIf you need to have some detection in the framework, maybe we could add an entry at the beginning of enum mmc_device_type (e.g. MMC_IS_UNKNOWN), and in this case check eMMC or SD, and not touch the platforms code?\n\nRegards,\nYann",
      "revId": "40430c3dd72008aa42bab86df53e9b0a1a659c50",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7c3d64d_b28c01d8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000542
      },
      "writtenOn": "2021-03-23T04:32:53Z",
      "side": 1,
      "message": "Hi Yann,\nThank you so much for testing.\nAs I understand, CMD1 is not valid for SD. So there is no response for CMD1 for SD, and command timeout interrupt will generate.(This is also what I oberseved on my board.) The command error should not trigger retrying.\nI assume ST is using driver stm32_sdmmc2.c. In stm32_sdmmc2_send_cmd(), I see 0 is returned for CMD1 error to let framework retry. Is this causing the long boot time with my patch?\nOf course, using MMC_IS_UNKNOWN is a safe plan. I just would like to confirm do you want me to use MMC_IS_UNKNOWN after seeing the anylisis on ST code?\nThank you:)",
      "parentUuid": "7cfe5455_73db4e44",
      "revId": "40430c3dd72008aa42bab86df53e9b0a1a659c50",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef6607f7_1d8c0559",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-03-23T08:52:12Z",
      "side": 1,
      "message": "Hi,\nAfter re-reading the code and specs, you may be right on the CMD1 handling. I need to make some extra tests to confirm.\nYann",
      "parentUuid": "c7c3d64d_b28c01d8",
      "revId": "40430c3dd72008aa42bab86df53e9b0a1a659c50",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b4f854f_c21dd38e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000542
      },
      "writtenOn": "2021-03-25T03:18:43Z",
      "side": 1,
      "message": "Thank you, Yann.\nShall I wait a ST patch, or continue to add MMC_IS_UNKNOWN?\nIf add MMC_IS_UNKNOWN, should I leave all platforms code as they are?",
      "parentUuid": "ef6607f7_1d8c0559",
      "revId": "40430c3dd72008aa42bab86df53e9b0a1a659c50",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}