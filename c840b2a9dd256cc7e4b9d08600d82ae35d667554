{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "be9ad255_c3ad8fc0",
        "filename": "include/lib/psa/rss_crypto_defs.h",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-03T13:22:18Z",
      "side": 1,
      "message": "I suspect we can trim this header file down. I\u0027ll have another look later on to see if I can identify things we can remove.",
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "80ef225e_f599e04c",
        "filename": "include/lib/psa/rss_crypto_defs.h",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2023-07-06T20:22:27Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "be9ad255_c3ad8fc0",
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bdda04bf_7a428336",
        "filename": "include/lib/psa/rss_crypto_defs.h",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-03T13:22:18Z",
      "side": 1,
      "message": "This should be RSS_CRYPTO_DEFS_H according to TF-A coding guidelines (no underscores at the beginning / end).",
      "range": {
        "startLine": 8,
        "startChar": 8,
        "endLine": 8,
        "endChar": 29
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c692b042_429e2566",
        "filename": "include/lib/psa/rss_crypto_defs.h",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2023-07-05T20:56:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bdda04bf_7a428336",
      "range": {
        "startLine": 8,
        "startChar": 8,
        "endLine": 8,
        "endChar": 29
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13656f3f_f2da402f",
        "filename": "include/lib/psa/rss_crypto_defs.h",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-03T13:22:18Z",
      "side": 1,
      "message": "Let\u0027s keep only these 3 values and remove others. I prefer we introduce the others if and when we need them.",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 38,
        "endChar": 35
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c0c6ba6c_570bc1de",
        "filename": "include/lib/psa/rss_crypto_defs.h",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2023-07-06T20:22:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "13656f3f_f2da402f",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 38,
        "endChar": 35
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18dc19f6_e4b6000e",
        "filename": "include/lib/psa/rss_crypto_defs.h",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-03T13:22:18Z",
      "side": 1,
      "message": "I suppose the limitation this comment refers to lies within RSS implementation of psa_aead_encrypt and psa_aead_decrypt? If yes, then I think we should make this explicit. For example:\n\n This type is used to overcome a limitation within RSS firmware in the number of maximum\n IOVECs it can use especially in psa_aead_encrypt and psa_aead_decrypt.",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 44,
        "endChar": 3
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a9004db_12c74be3",
        "filename": "include/lib/psa/rss_crypto_defs.h",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2023-07-05T20:56:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "18dc19f6_e4b6000e",
      "range": {
        "startLine": 41,
        "startChar": 0,
        "endLine": 44,
        "endChar": 3
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06f9c8da_5aa2e985",
        "filename": "include/lib/psa/rss_crypto_defs.h",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-04T09:38:27Z",
      "side": 1,
      "message": "Although this pre-processor logic surely makes sense in the context of RSS firmware, since they\u0027ve got many service ids to define, this seems a bit over the top to me for TF-A. AFAIU, we\u0027re only interested in the macro RSS_CRYPTO_EXPORT_PUBLIC_KEY_SID in our case and I don\u0027t foresee us needing more service ids in the future. With this in mind, could we hard-code the value of the RSS_CRYPTO_EXPORT_PUBLIC_KEY_SID macro with a simple #define? This would greatly simplify this header file.",
      "range": {
        "startLine": 64,
        "startChar": 0,
        "endLine": 121,
        "endChar": 8
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0c37993f_b06238fd",
        "filename": "include/lib/psa/rss_crypto_defs.h",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2023-07-06T20:22:27Z",
      "side": 1,
      "message": "Agreed!",
      "parentUuid": "06f9c8da_5aa2e985",
      "range": {
        "startLine": 64,
        "startChar": 0,
        "endLine": 121,
        "endChar": 8
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1ef5cc1_785dc621",
        "filename": "include/lib/psa/rss_platform_api.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-03T13:22:18Z",
      "side": 1,
      "message": "I would drop this part of the comment, as it refers to the PSA specification and we\u0027ve chosen to make this an RSS interface instead.",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 55,
        "endChar": 35
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "07703203_d56c1866",
        "filename": "include/lib/psa/rss_platform_api.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2023-07-05T20:56:16Z",
      "side": 1,
      "message": "Whoops, this whole intro to the function was meant to be changed, adding those changes now.",
      "parentUuid": "d1ef5cc1_785dc621",
      "range": {
        "startLine": 47,
        "startChar": 0,
        "endLine": 55,
        "endChar": 35
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f1b1dc93_edb05d6a",
        "filename": "include/lib/psa/rss_platform_api.h",
        "patchSetId": 1
      },
      "lineNbr": 85,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-03T13:22:18Z",
      "side": 1,
      "message": "Same comment here. Either let\u0027s remove it or make this information a lot more specific to what key format RSS actually returns.",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 85,
        "endChar": 57
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "459b4d73_69f2999b",
        "filename": "include/lib/psa/rss_platform_api.h",
        "patchSetId": 1
      },
      "lineNbr": 85,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2023-07-05T20:56:16Z",
      "side": 1,
      "message": "Same as above",
      "parentUuid": "f1b1dc93_edb05d6a",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 85,
        "endChar": 57
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90fb2d27_a5d298e8",
        "filename": "include/lib/psa/rss_platform_api.h",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2023-07-03T14:28:08Z",
      "side": 1,
      "message": "It seems like we should document this API somewhere in this document [1].\n\n[1]: https://trustedfirmware-a.readthedocs.io/en/latest/design_documents/rss.html",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 21
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "596a137c_5ee65d56",
        "filename": "include/lib/psa/rss_platform_api.h",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-03T14:59:17Z",
      "side": 1,
      "message": "See https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/21775",
      "parentUuid": "90fb2d27_a5d298e8",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 21
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "39f90939_3e8d3047",
        "filename": "include/lib/psa/rss_platform_api.h",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2023-07-03T15:21:06Z",
      "side": 1,
      "message": "Ack, thanks!",
      "parentUuid": "596a137c_5ee65d56",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 21
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "afe79ce5_3a7fd63d",
        "filename": "lib/psa/rss_platform.c",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2023-07-03T14:28:08Z",
      "side": 1,
      "message": "Could you please let me know why this PSA call is wrapped under a  macro? It appears to be used only during key reading.\nIMO, for this to be really used as a macro, it should be named correctly and used during the NV-counter read and increment and key read functions.",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 17,
        "endChar": 31
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d41ed3b8_6cbb326e",
        "filename": "lib/psa/rss_platform.c",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-03T15:02:32Z",
      "side": 1,
      "message": "I\u0027ll let Lauren comment but my personal opinion on this is that it\u0027s ok to keep this local macro, I don\u0027t mind. I don\u0027t think it should be named \"correctly\", so long as its scope is restricted to this file, it\u0027s really just a local helper macro which can improve readability of the code in this case.",
      "parentUuid": "afe79ce5_3a7fd63d",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 17,
        "endChar": 31
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9a31df4_2ee6f8e7",
        "filename": "lib/psa/rss_platform.c",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2023-07-03T15:21:06Z",
      "side": 1,
      "message": "As \u0027psa_call\u0027 appears many times in this file, I think we could make this macro more generic in order to make it more readable in that case. \nIMHO, using it exclusively for \u0027key read\u0027 is a bit odd.",
      "parentUuid": "d41ed3b8_6cbb326e",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 17,
        "endChar": 31
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa559308_874041bd",
        "filename": "lib/psa/rss_platform.c",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1000101
      },
      "writtenOn": "2023-07-05T20:56:16Z",
      "side": 1,
      "message": "Ah yes, I actually meant to remove this since I wasn\u0027t sure how to reuse/make more generic since the other PSA calls differ, so for each case you would need to pass the full PSA call info anyway. I have removed at this time, but could add back with a 1:1 call to the macro.\n\ni.e.\nAPI_DISPATCH(RSS_PLATFORM_SERVICE_HANDLE, RSS_PLATFORM_API_ID_NV_READ,\n             in_vec, 1, out_vec, 1)\n\nAPI_DISPATCH(RSS_CRYPTO_HANDLE, PSA_IPC_CALL,\n             in_vec, IOVEC_LEN(in_vec), out_vec, IOVEC_LEN(out_vec))\n\nNot sure that makes the macro valuable though. Thoughts?",
      "parentUuid": "a9a31df4_2ee6f8e7",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 17,
        "endChar": 31
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "10d3bfef_c317ba7f",
        "filename": "lib/psa/rss_platform.c",
        "patchSetId": 1
      },
      "lineNbr": 17,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2023-07-07T10:07:20Z",
      "side": 1,
      "message": "Dropping it makes sense IMO but I will leave it to you 😊.",
      "parentUuid": "fa559308_874041bd",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 17,
        "endChar": 31
      },
      "revId": "c840b2a9dd256cc7e4b9d08600d82ae35d667554",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}