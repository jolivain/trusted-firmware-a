{
  "comments": [
    {
      "key": {
        "uuid": "8bf5514b_f829e982",
        "filename": "plat/nvidia/tegra/soc/t194/plat_psci_handlers.c",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-11-05T10:11:19Z",
      "side": 1,
      "message": "All of these are static values so could be statically initialized instead when declaring the struct at line 97:\n\n mce_cstate_info_t cstate_info \u003d {\n   .cluster \u003d TEGRA_NVG_CLUSTER_CC6,\n   .system \u003d TEGRA_NVG_SYSTEM_SC7,\n   .system_state_force \u003d 1,\n   .update_wake_mask \u003d 1,\n };\n\nIt might be more efficient if the compiler is not able to figure that out by itself.",
      "range": {
        "startLine": 137,
        "startChar": 16,
        "endLine": 140,
        "endChar": 49
      },
      "revId": "c2dae2e16d87a05a222a5eab94a96665c1817e81",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7b382c29_ea056ebe",
        "filename": "plat/nvidia/tegra/soc/t194/plat_psci_handlers.c",
        "patchSetId": 3
      },
      "lineNbr": 140,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2019-11-11T17:57:21Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8bf5514b_f829e982",
      "range": {
        "startLine": 137,
        "startChar": 16,
        "endLine": 140,
        "endChar": 49
      },
      "revId": "c2dae2e16d87a05a222a5eab94a96665c1817e81",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e933ccec_e4db2f19",
        "filename": "plat/nvidia/tegra/soc/t194/plat_psci_handlers.c",
        "patchSetId": 3
      },
      "lineNbr": 144,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2019-11-05T19:57:11Z",
      "side": 1,
      "message": "There seems to be a mismatch in data types. val is unsigned but mce_command_handler() can return negative value.",
      "revId": "c2dae2e16d87a05a222a5eab94a96665c1817e81",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b79f1ab_e7a786ab",
        "filename": "plat/nvidia/tegra/soc/t194/plat_psci_handlers.c",
        "patchSetId": 3
      },
      "lineNbr": 144,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-11-08T14:38:33Z",
      "side": 1,
      "message": "There\u0027s a follow-up patch that casts the return value of mce_command_handler into uint32_t here: https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/2073/4/plat/nvidia/tegra/soc/t194/plat_psci_handlers.c#164\n\nI guess a cast is fine if the mce_command_handler() is always returning a positive value for the MCE_CMD_IS_SC7_ALLOWED command (which I haven\u0027t double-checked).",
      "parentUuid": "e933ccec_e4db2f19",
      "revId": "c2dae2e16d87a05a222a5eab94a96665c1817e81",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9e7d5e35_098edd3f",
        "filename": "plat/nvidia/tegra/soc/t194/plat_psci_handlers.c",
        "patchSetId": 3
      },
      "lineNbr": 149,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-11-05T10:11:19Z",
      "side": 1,
      "message": "Is there a risk the MCE might never authorize the system suspend operation, turning this into an infinite loop? Should there be a maximum number of attempts before giving up?",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 149,
        "endChar": 21
      },
      "revId": "c2dae2e16d87a05a222a5eab94a96665c1817e81",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aaaed3c6_672c803e",
        "filename": "plat/nvidia/tegra/soc/t194/plat_psci_handlers.c",
        "patchSetId": 3
      },
      "lineNbr": 149,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2019-11-11T17:57:21Z",
      "side": 1,
      "message": "Yes, it would make sense to have a definite loop. I will have to discuss this with the MCE team to see what timeout makes sense.",
      "parentUuid": "9e7d5e35_098edd3f",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 149,
        "endChar": 21
      },
      "revId": "c2dae2e16d87a05a222a5eab94a96665c1817e81",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9785b134_efab92bb",
        "filename": "plat/nvidia/tegra/soc/t194/plat_psci_handlers.c",
        "patchSetId": 3
      },
      "lineNbr": 149,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2019-11-13T21:40:42Z",
      "side": 1,
      "message": "Even though a timeout make sense, it is not yet clear how much time we should loop. I will push an update as another commit when we resolve these issues.",
      "parentUuid": "aaaed3c6_672c803e",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 149,
        "endChar": 21
      },
      "revId": "c2dae2e16d87a05a222a5eab94a96665c1817e81",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}