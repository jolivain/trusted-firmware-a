{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f8261c55_1cdf077a",
        "filename": "plat/arm/css/sgi/include/sgi_base_platform_def.h",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-03-18T21:08:01Z",
      "side": 1,
      "message": "Memory map entries are added only in the case of BL2, then why we need this change? Am I missing something?",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 34,
        "endChar": 64
      },
      "revId": "c02f7cbad878a17752634f8fbb9e2d24b95b7e4b",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f00a9be_2d78dc43",
        "filename": "plat/arm/css/sgi/include/sgi_base_platform_def.h",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1000063
      },
      "writtenOn": "2021-03-21T16:44:43Z",
      "side": 1,
      "message": "On SGI/RD platforms, there are static memory map definitions used (example: https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/plat/arm/css/sgi/sgi_plat.c#n65).\n\n\nI might have misunderstood your question. So if the above does not answer your question, please let me know.",
      "parentUuid": "f8261c55_1cdf077a",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 34,
        "endChar": 64
      },
      "revId": "c02f7cbad878a17752634f8fbb9e2d24b95b7e4b",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e97bbe2_7daea4c8",
        "filename": "plat/arm/css/sgi/include/sgi_base_platform_def.h",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-03-21T18:19:56Z",
      "side": 1,
      "message": "As a part of this patch, memory map entries added [1], so an increase in the memory map and xlat table counts in the case of BL2 make sense[2], but I didn\u0027t get why we need to increase the memory map and xlat table counts in case of BL31?\n\n[1]: https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/9176/2/plat/arm/css/sgi/sgi_plat.c#52\n[2]: https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/9176/2/plat/arm/css/sgi/include/sgi_base_platform_def.h#45",
      "parentUuid": "5f00a9be_2d78dc43",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 34,
        "endChar": 64
      },
      "revId": "c02f7cbad878a17752634f8fbb9e2d24b95b7e4b",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f1fc328_ddad7fb2",
        "filename": "plat/arm/css/sgi/include/sgi_base_platform_def.h",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1000063
      },
      "writtenOn": "2021-03-22T04:55:40Z",
      "side": 1,
      "message": "Thanks Manish for adding details about this. The reason for adding the additional mmap and xlat entries for bl31 is - in bl31 execution context, there is inter-chip access to memory and io regions and there are dynamic mmap entries added for the same (see #1, #2, #3 and #4).\n\nAs to why this change is being introduced now (where as #1, #2, #3 and #4) have been in upstream code for sometime now, the reason is, this change is under \"#if SPM_MM\", meaning, SPM_MM was not enabled for multi-chip platforms until this patch series. And so the need for this change now. For non-SPM-MM case, please see #5 - this change had been introduced and is upstream.\n\n\n[#1] https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/plat/arm/css/sgi/include/sgi_base_platform_def.h#n136\n\n[#2] https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/plat/arm/css/sgi/include/sgi_base_platform_def.h#n144\n\n[#3] https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/plat/arm/css/sgi/include/sgi_base_platform_def.h#n152\n\n[#4] https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/plat/arm/board/rdv1mc/rdv1mc_plat.c#n112\n\n[#5] https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/plat/arm/css/sgi/include/sgi_base_platform_def.h#n38",
      "parentUuid": "1e97bbe2_7daea4c8",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 34,
        "endChar": 64
      },
      "revId": "c02f7cbad878a17752634f8fbb9e2d24b95b7e4b",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf6c76ca_ca9ae3a8",
        "filename": "plat/arm/css/sgi/include/sgi_base_platform_def.h",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-03-22T13:23:47Z",
      "side": 1,
      "message": "Thanks Thomas for the detailed response. It will be good if you add these details as a part of commit message.",
      "parentUuid": "8f1fc328_ddad7fb2",
      "range": {
        "startLine": 33,
        "startChar": 1,
        "endLine": 34,
        "endChar": 64
      },
      "revId": "c02f7cbad878a17752634f8fbb9e2d24b95b7e4b",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}