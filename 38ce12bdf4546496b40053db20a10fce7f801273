{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2f86ee12_0301947f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000102
      },
      "writtenOn": "2023-12-20T13:11:32Z",
      "side": 1,
      "message": "Completely agree with Sandrine\u0027s comment that we can\u0027t have rcar specific code in generic code.\n\nThere already exists a hook in psci_do_cpu_off() for platform to do some specific action infact tegra platform already implements exactly same scenario, don\u0027t do cpu off for a specific core. Refer to \"tegra_soc_pwr_domain_off_early()\"\n\nAlso, refer to commit 6cf4ae979a which implements a hook in generic code for early cpu off, you can also implement similar hook for system suspend.",
      "revId": "38ce12bdf4546496b40053db20a10fce7f801273",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "64d633f1_74908d57",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000102
      },
      "writtenOn": "2024-01-19T12:55:27Z",
      "side": 1,
      "message": "Any updates on this?",
      "parentUuid": "2f86ee12_0301947f",
      "revId": "38ce12bdf4546496b40053db20a10fce7f801273",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b6e90e66_61592d60",
        "filename": "include/plat/common/platform.h",
        "patchSetId": 2
      },
      "lineNbr": 475,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-12-19T09:01:18Z",
      "side": 1,
      "message": "`include/plat/common/platform.h` is for definitions common to all platforms. I am afraid there cannot be any rcar-specific things in there. This is not the right place for this, rcar-specific definitions should go into the rcar platform layer.\n\nThat being said, there already exists a common platform API that does exactly what you want AFAICS: `plat_is_my_cpu_primary()`. See the documentation [here](https://trustedfirmware-a.readthedocs.io/en/latest/porting-guide.html#function-plat-is-my-cpu-primary-mandatory-when-cold-boot-single-cpu-0).",
      "range": {
        "startLine": 466,
        "startChar": 0,
        "endLine": 475,
        "endChar": 6
      },
      "revId": "38ce12bdf4546496b40053db20a10fce7f801273",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be9a08de_5ee80cf8",
        "filename": "lib/psci/psci_main.c",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-12-19T09:01:18Z",
      "side": 1,
      "message": "There cannot be rcar-specific code in the generic PSCI library. This has to be implemented in another way.\n\nLet me check my understanding about what you are trying to achieve here... IIUC, you\u0027d like to:\n- Reject system suspend requests on non-boot CPUs.\n- Reject CPU off requests on the boot CPU.\n\nIs that correct?\n\nCould you please elaborate on the targeted use case? The commit message provides some hint about CPU off requests (although I\u0027d like more details please) and does not mention anything about system suspend on non-boot CPUs...\n\nBy getting a better understanding of what you are trying to achieve and why, we will be in a better position to advise on how this should be implemented in TF-A.",
      "revId": "38ce12bdf4546496b40053db20a10fce7f801273",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}