{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f5137646_9b9d9997",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2024-02-02T17:49:47Z",
      "side": 1,
      "message": "Checks",
      "range": {
        "startLine": 9,
        "startChar": 56,
        "endLine": 9,
        "endChar": 63
      },
      "revId": "cea8472728a66c715b044e23158413f6d691e4a9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "117119f3_8d3c264f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2024-02-02T17:49:47Z",
      "side": 1,
      "message": "Why \u0027only\u0027?",
      "range": {
        "startLine": 9,
        "startChar": 32,
        "endLine": 9,
        "endChar": 36
      },
      "revId": "cea8472728a66c715b044e23158413f6d691e4a9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "02427c0b_31372cf9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1000914
      },
      "writtenOn": "2024-02-02T18:50:34Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "f5137646_9b9d9997",
      "range": {
        "startLine": 9,
        "startChar": 56,
        "endLine": 9,
        "endChar": 63
      },
      "revId": "cea8472728a66c715b044e23158413f6d691e4a9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9ab5d26_31b9de68",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1000914
      },
      "writtenOn": "2024-02-02T18:50:34Z",
      "side": 1,
      "message": "I will rephrase this statement.\n\nTo clarify - RD-Fremont platforms have a TBU (that is just a GPC) sitting between the trusted subsystems (SCP/RSS) and interconnect and another sitting between GIC and interconnect. At boot time the trusted subsystems are accessing various memory systems (SRAMs) or the AP regions. So the transactions can\u0027t be blocked altogether.",
      "parentUuid": "117119f3_8d3c264f",
      "range": {
        "startLine": 9,
        "startChar": 32,
        "endLine": 9,
        "endChar": 36
      },
      "revId": "cea8472728a66c715b044e23158413f6d691e4a9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa52cba3_b7056571",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1000914
      },
      "writtenOn": "2024-03-01T11:55:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a9ab5d26_31b9de68",
      "range": {
        "startLine": 9,
        "startChar": 32,
        "endLine": 9,
        "endChar": 36
      },
      "revId": "cea8472728a66c715b044e23158413f6d691e4a9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cfd6cb37_18f72e85",
        "filename": "drivers/arm/smmu/smmu_v3.c",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2024-02-02T17:49:47Z",
      "side": 1,
      "message": "I have mixed feelings. This seems to be required because of a specific platform requirement, and thus affects common code.\n\nWhy just skipping this part and not the following init operations?\nInvalidating SMMU TLBs might affect on going transactions if there are.\n\nWhy not just renaming smmuv3_security_init to smmuv3_abort_transactions and call smmuv3_abort_transactions + smmuv3_init from the FVP port?\nThe platform for which this change is required would only call smmuv3_init but not smmuv3_abort_transactions.",
      "range": {
        "startLine": 79,
        "startChar": 1,
        "endLine": 83,
        "endChar": 2
      },
      "revId": "cea8472728a66c715b044e23158413f6d691e4a9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f8bed52_11fbe0b5",
        "filename": "drivers/arm/smmu/smmu_v3.c",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1000914
      },
      "writtenOn": "2024-02-02T18:50:34Z",
      "side": 1,
      "message": "Yes, this is required for RD-Fremont platforms as mentioned in the earlier comment. The GPC can be configured but the GBPA abort configuration isn\u0027t needed for this SMMUv3 instance sitting between the trusted subsystems and interconnect (as opposed to the SMMUv3 present in IO blocks). The GBPA abort is only cleared in the non-secure edk2 firmware for the SMMUv3 in IO blocks.\n\nSo as you suggested splitting the smmuv3_init() into two functions sounds reasonable. I will do that and re-submit.",
      "parentUuid": "cfd6cb37_18f72e85",
      "range": {
        "startLine": 79,
        "startChar": 1,
        "endLine": 83,
        "endChar": 2
      },
      "revId": "cea8472728a66c715b044e23158413f6d691e4a9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "43f9f1f9_907f8bc0",
        "filename": "drivers/arm/smmu/smmu_v3.c",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2024-02-05T00:19:10Z",
      "side": 1,
      "message": "I tend to agree with Olivier. Is there no way to make this platform specific ? appears dangerous to have such options. Platform specific code can use early code before smmuv3 init or just after, to disable security.",
      "parentUuid": "3f8bed52_11fbe0b5",
      "range": {
        "startLine": 79,
        "startChar": 1,
        "endLine": 83,
        "endChar": 2
      },
      "revId": "cea8472728a66c715b044e23158413f6d691e4a9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c6e58bcd_e9761abe",
        "filename": "drivers/arm/smmu/smmu_v3.c",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1000914
      },
      "writtenOn": "2024-03-01T11:55:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "43f9f1f9_907f8bc0",
      "range": {
        "startLine": 79,
        "startChar": 1,
        "endLine": 83,
        "endChar": 2
      },
      "revId": "cea8472728a66c715b044e23158413f6d691e4a9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a7a4058_a526a1fc",
        "filename": "plat/arm/board/fvp/fvp_bl31_setup.c",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2024-02-02T17:49:47Z",
      "side": 1,
      "message": "Use braces even for single line statements (another MISRA rule!).",
      "range": {
        "startLine": 78,
        "startChar": 42,
        "endLine": 78,
        "endChar": 43
      },
      "revId": "cea8472728a66c715b044e23158413f6d691e4a9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7fa60d99_ca8b9ba3",
        "filename": "plat/arm/board/fvp/fvp_bl31_setup.c",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 1000914
      },
      "writtenOn": "2024-02-02T18:50:34Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "9a7a4058_a526a1fc",
      "range": {
        "startLine": 78,
        "startChar": 42,
        "endLine": 78,
        "endChar": 43
      },
      "revId": "cea8472728a66c715b044e23158413f6d691e4a9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}