{
  "comments": [
    {
      "key": {
        "uuid": "6b0f5669_3de34147",
        "filename": "fdts/cot_descriptors.dtsi",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-06-29T16:55:51Z",
      "side": 1,
      "message": "technically the nv counter is also a cert extension... should they also be under extensions?",
      "revId": "562036c7866dda20333c80d649b3e4c2abdc8358",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64c181aa_aa8e483f",
        "filename": "fdts/cot_descriptors.dtsi",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2020-06-29T17:48:41Z",
      "side": 1,
      "message": "Thanks for pointing this out.\n\nThought that \"antirollback-counter\" property is not going to be used by child certificate/image hence put this property as part of certificate node itself.\n\nBut as per certificate (X.509) documentation, nv-counter is part of extension so better keep this property inside extension node. Will do the modifications and also, update the binding document accordingly.",
      "parentUuid": "6b0f5669_3de34147",
      "revId": "562036c7866dda20333c80d649b3e4c2abdc8358",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e55cb3d_29b101ec",
        "filename": "fdts/cot_descriptors.dtsi",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2020-07-01T14:55:06Z",
      "side": 1,
      "message": "OK perhaps we need to rename the extensions node then. In my mind (and looking at the first part of Manish\u0027s answer, I think he was originally thinking along the same lines), properties under the current \u0027extensions\u0027 sub-node were pieces of information to extract out of the certificates in order to authenticate children images. IOW, what we have in the .authenticated_data field of a struct auth_img_desc.\n\nOn the other hand, properties one level upper (signing-key, antirollback-counter) were pieces of information required to verify the certificate itself. IOW, what we have in the .img_auth_methods field.\n\nWe need to decide which way of organizing the data in the DTS file makes the more sense. I tend to think that the \"authenticated_data VS img_auth_methods\" approach makes more sense from a chain of trust point of view. It is more focused on expressing the relationship between the different images involved, rather than where to find each piece of information in the certificate format.\n\nAnother reason why \u0027extensions\u0027 might not be a good node name is that it is terminology specific to X.509 certificates, AFAIK. Right now, TF-A only uses such certificates but people are free to use other types of formats. For example, the TBFU specification (see R20_TBFU_MANIFEST on page 24) talks more generally about \"image manifests\" and mentions the IETF SUIT manifest format as a more lightweight alternative (mainly for IoT constrained devices but still this hopefully illustrates my point).",
      "parentUuid": "64c181aa_aa8e483f",
      "revId": "562036c7866dda20333c80d649b3e4c2abdc8358",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd1531be_2936d9bc",
        "filename": "fdts/cot_descriptors.dtsi",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2020-07-01T17:45:40Z",
      "side": 1,
      "message": "This will rule out taking into consideration of any certificate layout and make the certificate node more generic. \nAre you suggesting to create 2 sub-nodes inside certificate node as below?\n\n    img_auth_methods   -\u003e contains OIDs which are used to authenticate certificate itself\n    authenticated_data -\u003e contains OIDs which are used to authenticate child images of the \n                          certificates.\n\nCan we add img_auth_methods as a sub-node for image node also? Because in future data image may get authenticated with more than one method for e.g.antirollback-counter",
      "parentUuid": "2e55cb3d_29b101ec",
      "revId": "562036c7866dda20333c80d649b3e4c2abdc8358",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad648ff0_755cb19a",
        "filename": "fdts/cot_descriptors.dtsi",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-07-01T17:49:20Z",
      "side": 1,
      "message": "Agree. \"authenticated_data VS img_auth_methods\" makes more sense.",
      "parentUuid": "2e55cb3d_29b101ec",
      "revId": "562036c7866dda20333c80d649b3e4c2abdc8358",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09c5a6cf_ecdabc7a",
        "filename": "fdts/cot_descriptors.dtsi",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-06-29T16:55:51Z",
      "side": 1,
      "message": "can this be called issuer key to be more accurate? sign-key is not clear. It could be read as signed-key(subject key) or signing-key(issuer key)..",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 10
      },
      "revId": "562036c7866dda20333c80d649b3e4c2abdc8358",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a03fbf64_c4a54b6d",
        "filename": "fdts/cot_descriptors.dtsi",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2020-06-29T17:48:41Z",
      "side": 1,
      "message": "Make sense. Will do the modifications and also, update binding accordingly.",
      "parentUuid": "09c5a6cf_ecdabc7a",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 10
      },
      "revId": "562036c7866dda20333c80d649b3e4c2abdc8358",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "537c6bf0_62e487f8",
        "filename": "fdts/cot_descriptors.dtsi",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2020-06-30T02:14:52Z",
      "side": 1,
      "message": "As per binding document this property name should be \"signing-key\" as it is only used by non-root certificates.\nI will do the modification to change property name to \"signing-key\". Let me know your thoughts?",
      "parentUuid": "a03fbf64_c4a54b6d",
      "range": {
        "startLine": 50,
        "startChar": 2,
        "endLine": 50,
        "endChar": 10
      },
      "revId": "562036c7866dda20333c80d649b3e4c2abdc8358",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    }
  ]
}