{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f3ec485a_ed7e436a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2022-04-13T12:19:50Z",
      "side": 1,
      "message": "Can the script handle out of tree SP files?",
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f969bd3_2f18b7db",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 58,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2022-04-13T12:19:50Z",
      "side": 1,
      "message": "We should allow platforms to override this value",
      "range": {
        "startLine": 58,
        "startChar": 0,
        "endLine": 58,
        "endChar": 10
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "639f0179_b099f8ad",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 58,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2022-04-20T07:05:21Z",
      "side": 1,
      "message": "This query is beyond the scope of the current patch stack (aka integrating the FF-A v1.1 boot protocol). Current patch stack is not changing the existing behavior in the number of secure partitions and how they are bundled. I created an improvement task for it https://developer.trustedfirmware.org/T987",
      "parentUuid": "7f969bd3_2f18b7db",
      "range": {
        "startLine": 58,
        "startChar": 0,
        "endLine": 58,
        "endChar": 10
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ebdf8fb_45ee126b",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 81,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2022-04-13T12:19:50Z",
      "side": 1,
      "message": "why not use \u0027manifest\u0027?",
      "range": {
        "startLine": 81,
        "startChar": 11,
        "endLine": 81,
        "endChar": 16
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2b9eed50_cd99f81a",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 81,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-04-13T13:53:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ebdf8fb_45ee126b",
      "range": {
        "startLine": 81,
        "startChar": 11,
        "endLine": 81,
        "endChar": 16
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "184f5605_0e202fbe",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 164,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2022-04-13T12:19:50Z",
      "side": 1,
      "message": "uuid_std_be? (Big Endian)",
      "range": {
        "startLine": 164,
        "startChar": 8,
        "endLine": 164,
        "endChar": 16
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41179ba3_0de68e7d",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 164,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-04-13T13:53:16Z",
      "side": 1,
      "message": "Would prefer to keep the name as is, and a doc comment. This because the uuid_std can be defined in line 156 as well.",
      "parentUuid": "184f5605_0e202fbe",
      "range": {
        "startLine": 164,
        "startChar": 8,
        "endLine": 164,
        "endChar": 16
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ff23edae_640381df",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 164,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2022-04-20T07:05:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "41179ba3_0de68e7d",
      "range": {
        "startLine": 164,
        "startChar": 8,
        "endLine": 164,
        "endChar": 16
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db7eeaac_3cb96bdb",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 178,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2022-04-13T12:19:50Z",
      "side": 1,
      "message": "Why?",
      "range": {
        "startLine": 178,
        "startChar": 7,
        "endLine": 178,
        "endChar": 77
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "546ab3d5_09d107d8",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 178,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2022-04-13T12:29:58Z",
      "side": 1,
      "message": "Hi Varun, there is an entanglement with TBBR:\nhttps://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/include/common/tbbr/tbbr_img_def.h#n23\nCurrently this permits up to 8 partitions: 4 signed with SiP key + 4 signed with Platform key.\nI admit this is a limitation in the reference stack, but out of curiosity, can you provide an estimate of how many partitions would be realistically required?",
      "parentUuid": "db7eeaac_3cb96bdb",
      "range": {
        "startLine": 178,
        "startChar": 7,
        "endLine": 178,
        "endChar": 77
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2001dd88_db9c731e",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 178,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2022-04-13T12:31:43Z",
      "side": 1,
      "message": "BTW just to be clear, this limitation exists since early days for this secure partitions package build flow. This isn\u0027t a new limitation made by the current change set.",
      "parentUuid": "546ab3d5_09d107d8",
      "range": {
        "startLine": 178,
        "startChar": 7,
        "endLine": 178,
        "endChar": 77
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "131e67cf_4b79f1a0",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 178,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2022-04-13T12:59:13Z",
      "side": 1,
      "message": "We already at 7 SPs today. If we include logging SP (to be introduced in future) then we reach the max number. I would like to double this to 16, to allow for future expansion.",
      "parentUuid": "2001dd88_db9c731e",
      "range": {
        "startLine": 178,
        "startChar": 7,
        "endLine": 178,
        "endChar": 77
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "224d84c2_b6b50e0e",
        "filename": "tools/sptool/sp_mk_generator.py",
        "patchSetId": 7
      },
      "lineNbr": 178,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2022-04-14T14:54:36Z",
      "side": 1,
      "message": "Platform-specific actions can extend the current state of sp_mk_generator.py.\nAlso, global variables can be updated before running the actions.\nTo do so:\n- Define platform custom equivalent to sp_mk_generator.py file. File should import sp_mk_generator, and \"SpSetupActions\". \n- Make sure the new file has a main that calls the \"init_sp_actions\" from our sp_mk_generator.py\n\nFollowing is an example of what it could look like:\n\"\nfrom spactions import SpSetupActions\nimport sp_mk_generator\nimport sys\n\nsp_mk_generator.MAX_SP \u003d 8 # Change value at your descrition.\n\n# Define\n\nif __name__ \u003d\u003d \"__main__\":\n    print(\"Custom sp mk generator\")\n    args, sp_layout \u003d sp_mk_generator.init_sp_actions(sys)\n    SpSetupActions.run_actions(sp_layout, args)\n\"\n\n- In the platform-specific makefile define the variable \u0027SP_MK_GEN\u0027 to point to the newly created python script.\n\nThis is just for your own information. Take this at your own discretion.\nThis is a way to change MAX_SP for your own case, but I didn\u0027t test it, and can\u0027t be sure if it will break other things in the build flow.",
      "parentUuid": "131e67cf_4b79f1a0",
      "range": {
        "startLine": 178,
        "startChar": 7,
        "endLine": 178,
        "endChar": 77
      },
      "revId": "d6a9dec9c835d6943884d31ca19ffe322e5dd02a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}