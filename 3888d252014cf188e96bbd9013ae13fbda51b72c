{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "924809b3_39523a25",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-18T08:45:16Z",
      "side": 1,
      "message": "(minor) This is just a repetition of the commit title. I think you can remove it.\n\nInstead, let\u0027s explain why all images use a zero OID for their signing key.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 63
      },
      "revId": "3888d252014cf188e96bbd9013ae13fbda51b72c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a9e2330_dba00dd6",
        "filename": "plat/arm/board/fvp/fvp_bl2_measured_boot.c",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-18T08:45:16Z",
      "side": 1,
      "message": "Indeed BL31 is rooted into the CCA ROTPK under the CCA CoT but this does not necessarily hold true for other CoTs. For example, under the TBBR CoT, BL31 is signed by the Trusted World Key.\n\nSo I think we need some #ifdef ARM_COT_cca somewhere. I am just not sure at which level... IIRC, it is possible to use the TBBR CoT on AEM FVP with the RSS mocking layer and I am struggling to envisage all combinations and the consequences of setting the pk_oid field to ZERO_OID for each of these combinations... Could you please give it some thoughts?",
      "range": {
        "startLine": 66,
        "startChar": 2,
        "endLine": 66,
        "endChar": 21
      },
      "revId": "3888d252014cf188e96bbd9013ae13fbda51b72c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6eb5d4d6_b2c85d1d",
        "filename": "plat/arm/board/fvp/fvp_bl2_measured_boot.c",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2023-07-18T10:24:16Z",
      "side": 1,
      "message": "Thank you for bringing this up. I was thinking that RSS\u0027s use-case would only occur during CCA CoT.\nWould it be possible to handle this in the following way -\n\n #ifdef ARM_COT_cca \n   #define BL31_KEY_OID    ZERO_KEYOID\n #else \n   #define BL31_KEY_OID    SOC_FW_CONTENT_CERT_PK_OID\n #endif\n\nSimilarly, wherever applicable, for other images.\nNow, let\u0027s see where we should put this information. Is it possible to create a new file \"include/tools_share/cot_oid.h\" to include these defines that can be beneficial for everyone?\nI can\u0027t see this as platform specific information. Thoughts?",
      "parentUuid": "6a9e2330_dba00dd6",
      "range": {
        "startLine": 66,
        "startChar": 2,
        "endLine": 66,
        "endChar": 21
      },
      "revId": "3888d252014cf188e96bbd9013ae13fbda51b72c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0842602c_edbdc8c0",
        "filename": "plat/arm/board/fvp/fvp_bl2_measured_boot.c",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-07-19T08:39:38Z",
      "side": 1,
      "message": "\u003e Thank you for bringing this up. I was thinking that RSS\u0027s use-case would only occur during CCA CoT.\n\nNot necessarily, no. TC2 FVP for example has no RME support but it has an RSS.\n\n\u003e Would it be possible to handle this in the following way -\n\u003e \n\u003e  #ifdef ARM_COT_cca \n\u003e    #define BL31_KEY_OID    ZERO_KEYOID\n\u003e  #else \n\u003e    #define BL31_KEY_OID    SOC_FW_CONTENT_CERT_PK_OID\n\u003e  #endif\n\u003e \n\u003e Similarly, wherever applicable, for other images.\n\u003e Now, let\u0027s see where we should put this information. Is it possible to create a new file \"include/tools_share/cot_oid.h\" to include these defines that can be beneficial for everyone?\n\u003e I can\u0027t see this as platform specific information. Thoughts?\n\nThis sounds like a good idea to me! Although I think we should rather define the BL31_KEY_OID macro inside each of the CoT\u0027s *_oid.h file.\n* include/tools_share/cca_oid.h would contain:\n  #define BL31_KEY_OID    ZERO_KEYOID\n* include/tools_share/dualroot_oid.h would contain:\n  #define BL31_KEY_OID    SOC_FW_CONTENT_CERT_PK_OID\n* include/tools_share/tbbr_oid.h would also contain:\n  #define BL31_KEY_OID    SOC_FW_CONTENT_CERT_PK_OID\n\nI agree these are not truly platform-specific.",
      "parentUuid": "6eb5d4d6_b2c85d1d",
      "range": {
        "startLine": 66,
        "startChar": 2,
        "endLine": 66,
        "endChar": 21
      },
      "revId": "3888d252014cf188e96bbd9013ae13fbda51b72c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc8f6ce7_55ed4c16",
        "filename": "plat/arm/board/fvp/fvp_bl2_measured_boot.c",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2023-07-19T08:47:39Z",
      "side": 1,
      "message": "Instead of creating a new file, I think this is well manageable. Let me make the necessary changes and post a newer version of this patch. Thanks!",
      "parentUuid": "0842602c_edbdc8c0",
      "range": {
        "startLine": 66,
        "startChar": 2,
        "endLine": 66,
        "endChar": 21
      },
      "revId": "3888d252014cf188e96bbd9013ae13fbda51b72c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}