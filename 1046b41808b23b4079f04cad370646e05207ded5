{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c34c86e4_859c0b27",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-09-13T12:52:55Z",
      "side": 1,
      "message": "In addition to the bug which Robin identified (signature verification failure), I imagine that we would also have computed the wrong hash as part of key measurement at line 246. But I don\u0027t think this (recent) feature is used on ST platforms right now, is it, Yann?\n\nIn any case, the measurement operation would not fail and you\u0027d see no error message from TF-A, it\u0027s just that the wrong value would get recorded in boot measurements. Is that something we should capture in the commit message as well?\n\nJust putting my COR+1 against this patch until we resolve this question, the patch per se looks good to me!",
      "revId": "1046b41808b23b4079f04cad370646e05207ded5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "684a2238_0ff8e698",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2023-09-13T13:07:18Z",
      "side": 1,
      "message": "\u003e In addition to the bug which Robin identified (signature verification failure), I imagine that we would also have computed the wrong hash as part of key measurement at line 246\n\nIn case of ST platform, do we need to measure the hash of converted PK or plain PK? If former, then the code looks fine; if latter, then it should be corrected in this patch or explicitly in the next one.",
      "parentUuid": "c34c86e4_859c0b27",
      "revId": "1046b41808b23b4079f04cad370646e05207ded5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b82be3bc_bc96aa95",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2023-09-13T13:30:19Z",
      "side": 1,
      "message": "Hi,\nSandrine, you are right, we do not use measured boot on ST platforms. There is an internal discussion on-going about this, but it won\u0027t come anytime soon I think.\nManish, I guess the measurement will be done on converted PK hash, as we do not have access to plain PK hash, but I will cross-check with Lionel \u0026 Etienne.",
      "parentUuid": "684a2238_0ff8e698",
      "revId": "1046b41808b23b4079f04cad370646e05207ded5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3102b7c_bfefdb7f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-09-13T14:08:17Z",
      "side": 1,
      "message": "\u003e Manish, I guess the measurement will be done on converted PK hash, as we do not have access to plain PK hash, but I will cross-check with Lionel \u0026 Etienne.\n\nOK, if that\u0027s the case then we\u0027ll need another patch on top of Robin\u0027s to fix the sequence, as Manish said.\n\nYann, can I leave it to you to follow up on this and submit a patch once you\u0027ve had a chance to catch up with Lionel \u0026 Etienne, so we can merge Robin\u0027s patch today?",
      "parentUuid": "b82be3bc_bc96aa95",
      "revId": "1046b41808b23b4079f04cad370646e05207ded5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9cf1cf2_1b6331ec",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1001111
      },
      "writtenOn": "2023-09-14T08:48:52Z",
      "side": 1,
      "message": "Hi,\nI\u0027d like to note that in the auth_mod_verify_img() function at line 494 in the same file, the public key pointer as returned by img_parser_get_auth_param() is measured. Which is the full public key (not converted).",
      "parentUuid": "a3102b7c_bfefdb7f",
      "revId": "1046b41808b23b4079f04cad370646e05207ded5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}