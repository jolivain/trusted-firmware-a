{
  "comments": [
    {
      "key": {
        "uuid": "17b1bc7a_ff20e3cd",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 463,
      "author": {
        "id": 1000133
      },
      "writtenOn": "2019-05-10T08:02:54Z",
      "side": 1,
      "message": "this can be moved outside if-block, just lie how you moved the value \u003d mmio_read_32",
      "range": {
        "startLine": 463,
        "startChar": 2,
        "endLine": 463,
        "endChar": 55
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23790410_fe90621f",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 463,
      "author": {
        "id": 1000123
      },
      "writtenOn": "2019-05-13T07:40:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17b1bc7a_ff20e3cd",
      "range": {
        "startLine": 463,
        "startChar": 2,
        "endLine": 463,
        "endChar": 55
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0b86a36a_7c0b9710",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 487,
      "author": {
        "id": 1000133
      },
      "writtenOn": "2019-05-10T08:02:54Z",
      "side": 1,
      "message": "no need to cast because rdist_sgi_base is already unsigned int.",
      "range": {
        "startLine": 487,
        "startChar": 29,
        "endLine": 487,
        "endChar": 45
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76770241_23e63ada",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 487,
      "author": {
        "id": 1000123
      },
      "writtenOn": "2019-05-13T07:40:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0b86a36a_7c0b9710",
      "range": {
        "startLine": 487,
        "startChar": 29,
        "endLine": 487,
        "endChar": 45
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36175053_4b987f8f",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 828,
      "author": {
        "id": 1000133
      },
      "writtenOn": "2019-05-10T08:02:54Z",
      "side": 1,
      "message": "should we panic/assert or simply return?",
      "range": {
        "startLine": 828,
        "startChar": 2,
        "endLine": 828,
        "endChar": 8
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f32be25_5afd21b2",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 828,
      "author": {
        "id": 1000123
      },
      "writtenOn": "2019-05-13T07:40:54Z",
      "side": 1,
      "message": "it\u0027s ok to simply return",
      "parentUuid": "36175053_4b987f8f",
      "range": {
        "startLine": 828,
        "startChar": 2,
        "endLine": 828,
        "endChar": 8
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "644aa0a2_e1cd9de3",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 832,
      "author": {
        "id": 1000133
      },
      "writtenOn": "2019-05-10T08:02:54Z",
      "side": 1,
      "message": "should we panic/assert or simply return?",
      "range": {
        "startLine": 832,
        "startChar": 2,
        "endLine": 832,
        "endChar": 8
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a2c9590_58d1ccec",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 832,
      "author": {
        "id": 1000123
      },
      "writtenOn": "2019-05-13T07:40:54Z",
      "side": 1,
      "message": "it\u0027s ok to simply return",
      "parentUuid": "644aa0a2_e1cd9de3",
      "range": {
        "startLine": 832,
        "startChar": 2,
        "endLine": 832,
        "endChar": 8
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6be7b74_7885c195",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 839,
      "author": {
        "id": 1000133
      },
      "writtenOn": "2019-05-10T08:02:54Z",
      "side": 1,
      "message": "since this is called many times, I wonder if it\u0027ll be more clear to have this in a separate function:\n\n static inline uint32_t get_irq_status(\n  uint32_t irq, uint32_t reg_base, uint32_t width)\n {\n    uint32_t offset \u003d irq % (32 / width) * 8;\n    uint32_t bit_mask \u003d (1 \u003c\u003c width) - 1;\n    uint32_t offset \u003d irq / (32 / width) * 4;\n    uint32_t raw_value \u003d mmio_read_32(MT_GIC_BASE + reg_base + offset);\n    return (raw_value \u003e\u003e offset) \u0026 bit_mask;\n }\n\n ..\n /* get mask */\n rc |\u003d get_irq_status(irq, GICD_ISENABLER, 1) \u003c\u003c 0;\n /* get group */\n rc |\u003d get_irq_status(irq, GICD_IGROUPR, 1) \u003c\u003c 1;\n /* get priority */\n rc |\u003d get_irq_status(irq, GICD_IPRIORITY, 8) \u003c\u003c 2;\n /* get sensitivity (edge, level) - ignore level */\n rc |\u003d get_irq_status(irq, GICD_ICFGR, 2) \u003e\u003e 1 \u003c\u003c 10;\n /* get pending status */\n rc |\u003d get_irq_status(irq, GICD_ISPENDR, 1) \u003c\u003c 11;",
      "range": {
        "startLine": 839,
        "startChar": 10,
        "endLine": 839,
        "endChar": 23
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff2ef4fd_0e359acc",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 839,
      "author": {
        "id": 1000123
      },
      "writtenOn": "2019-05-13T07:40:54Z",
      "side": 1,
      "message": "I modify\nuint32_t offset \u003d irq % (32 / width) * 8;\nuint32_t offset \u003d irq / (32 / width) * 4;\nto\nuint32_t bit_offset \u003d (irq % (32 / width)) * width;\nuint32_t reg_offset \u003d irq / (32 / width) * 4;\n\nand add\n/* get active status */\nrc |\u003d get_irq_status(irq, GICD_ISACTIVER, 1) \u003c\u003c 12;",
      "parentUuid": "a6be7b74_7885c195",
      "range": {
        "startLine": 839,
        "startChar": 10,
        "endLine": 839,
        "endChar": 23
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b46f4dce_25bc173f",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 863,
      "author": {
        "id": 1000133
      },
      "writtenOn": "2019-05-10T08:02:54Z",
      "side": 1,
      "message": "result \u003e\u003e 1\n\np.s: if we only want edge and no level, why don\u0027t we just set change bit calculation?",
      "range": {
        "startLine": 863,
        "startChar": 8,
        "endLine": 863,
        "endChar": 17
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1075bc16_c9380f99",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 863,
      "author": {
        "id": 1000123
      },
      "writtenOn": "2019-05-13T07:40:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b46f4dce_25bc173f",
      "range": {
        "startLine": 863,
        "startChar": 8,
        "endLine": 863,
        "endChar": 17
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8a99b624_c29f0391",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 868,
      "author": {
        "id": 1000133
      },
      "writtenOn": "2019-05-10T08:02:54Z",
      "side": 1,
      "message": "? 1 : 0",
      "range": {
        "startLine": 868,
        "startChar": 52,
        "endLine": 868,
        "endChar": 57
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3cc90c6_f25142dd",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 868,
      "author": {
        "id": 1000123
      },
      "writtenOn": "2019-05-13T07:40:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8a99b624_c29f0391",
      "range": {
        "startLine": 868,
        "startChar": 52,
        "endLine": 868,
        "endChar": 57
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68af7310_8c837f66",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 874,
      "author": {
        "id": 1000133
      },
      "writtenOn": "2019-05-10T08:02:54Z",
      "side": 1,
      "message": "? 1 : 0",
      "range": {
        "startLine": 874,
        "startChar": 54,
        "endLine": 874,
        "endChar": 58
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60f12f04_9721d659",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 874,
      "author": {
        "id": 1000123
      },
      "writtenOn": "2019-05-13T07:40:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "68af7310_8c837f66",
      "range": {
        "startLine": 874,
        "startChar": 54,
        "endLine": 874,
        "endChar": 58
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36b52e0a_7055899c",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 879,
      "author": {
        "id": 1000133
      },
      "writtenOn": "2019-05-10T08:02:54Z",
      "side": 1,
      "message": "(irq - 32) / 32",
      "range": {
        "startLine": 879,
        "startChar": 17,
        "endLine": 879,
        "endChar": 31
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b7741349_9fdb4ebb",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 879,
      "author": {
        "id": 1000123
      },
      "writtenOn": "2019-05-13T07:40:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "36b52e0a_7055899c",
      "range": {
        "startLine": 879,
        "startChar": 17,
        "endLine": 879,
        "endChar": 31
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ea3ba9ec_71a5fa4f",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 896,
      "author": {
        "id": 1000133
      },
      "writtenOn": "2019-05-10T08:02:54Z",
      "side": 1,
      "message": "4 * (",
      "range": {
        "startLine": 896,
        "startChar": 17,
        "endLine": 896,
        "endChar": 20
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70e911f4_9480f644",
        "filename": "plat/mediatek/mt8183/plat_mt_gic.c",
        "patchSetId": 9
      },
      "lineNbr": 896,
      "author": {
        "id": 1000123
      },
      "writtenOn": "2019-05-13T07:40:54Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ea3ba9ec_71a5fa4f",
      "range": {
        "startLine": 896,
        "startChar": 17,
        "endLine": 896,
        "endChar": 20
      },
      "revId": "07f6e9d3a882c66a11f9eaa6f72dcccba161b791",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}