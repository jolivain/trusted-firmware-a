{
  "comments": [
    {
      "key": {
        "uuid": "3a54ce5f_f558686d",
        "filename": "plat/nvidia/tegra/drivers/smmu/smmu.c",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-07-10T18:41:40Z",
      "side": 1,
      "message": "out of curiosity, what agents can alter the SMMU settings? Also is it possible for these settings to change right after you perform this check?",
      "range": {
        "startLine": 71,
        "startChar": 4,
        "endLine": 71,
        "endChar": 57
      },
      "revId": "557fea4c6eb0255c70f76beb10bbb232f1ce1dea",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df7669b9_73bc2d28",
        "filename": "plat/nvidia/tegra/drivers/smmu/smmu.c",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-07-11T00:36:10Z",
      "side": 1,
      "message": "The SEL1 kernel can potentially update these settings. These settings cannot change after cold boot completes and the idea is to check this before we exit to non-secure world",
      "parentUuid": "3a54ce5f_f558686d",
      "range": {
        "startLine": 71,
        "startChar": 4,
        "endLine": 71,
        "endChar": 57
      },
      "revId": "557fea4c6eb0255c70f76beb10bbb232f1ce1dea",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12645b39_cb41c01b",
        "filename": "plat/nvidia/tegra/drivers/smmu/smmu.c",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-07-11T01:39:46Z",
      "side": 1,
      "message": "Thanks. \"These settings cannot change after cold boot completes\" - Is this because lock bits are set before exiting to non-secure world? if not SEL1 could muck with the settings later too right?",
      "parentUuid": "df7669b9_73bc2d28",
      "range": {
        "startLine": 71,
        "startChar": 4,
        "endLine": 71,
        "endChar": 57
      },
      "revId": "557fea4c6eb0255c70f76beb10bbb232f1ce1dea",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0a277ca_73fe69b7",
        "filename": "plat/nvidia/tegra/drivers/smmu/smmu.c",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2020-07-11T01:56:09Z",
      "side": 1,
      "message": "Right. During cold boot, these settings do not change after this point. At run time, S-EL1 can potentially over-write the entire BL31 payload as the Arm architecture cannot differentiate between El3 and SEL1 accesses to memory. So we have bigger problems than SMMU bits getting over-written.",
      "parentUuid": "12645b39_cb41c01b",
      "range": {
        "startLine": 71,
        "startChar": 4,
        "endLine": 71,
        "endChar": 57
      },
      "revId": "557fea4c6eb0255c70f76beb10bbb232f1ce1dea",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb691532_763d35a5",
        "filename": "plat/nvidia/tegra/drivers/smmu/smmu.c",
        "patchSetId": 3
      },
      "lineNbr": 71,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-07-11T02:34:46Z",
      "side": 1,
      "message": "that\u0027s true. So then the real question is what is the point of this function ? Just sort of a sanity check?",
      "parentUuid": "b0a277ca_73fe69b7",
      "range": {
        "startLine": 71,
        "startChar": 4,
        "endLine": 71,
        "endChar": 57
      },
      "revId": "557fea4c6eb0255c70f76beb10bbb232f1ce1dea",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "827b6108_5bf4baa6",
        "filename": "plat/nvidia/tegra/drivers/smmu/smmu.c",
        "patchSetId": 3
      },
      "lineNbr": 83,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2020-08-06T11:54:39Z",
      "side": 1,
      "message": "nit: %u and lines 90, 98, 110,",
      "range": {
        "startLine": 83,
        "startChar": 44,
        "endLine": 83,
        "endChar": 46
      },
      "revId": "557fea4c6eb0255c70f76beb10bbb232f1ce1dea",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8187f7ea_03f7aaf4",
        "filename": "plat/nvidia/tegra/drivers/smmu/smmu.c",
        "patchSetId": 3
      },
      "lineNbr": 85,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2020-08-06T11:54:39Z",
      "side": 1,
      "message": "Is there a benefit continuing the next checks if a mismatch is already detected?\nShould this \"goto\" line 117 straight and do the final check (panic if necessary)?",
      "revId": "557fea4c6eb0255c70f76beb10bbb232f1ce1dea",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab87974a_b605e6a6",
        "filename": "plat/nvidia/tegra/drivers/smmu/smmu.c",
        "patchSetId": 3
      },
      "lineNbr": 120,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2020-08-06T11:54:39Z",
      "side": 1,
      "message": "else can be removed",
      "range": {
        "startLine": 120,
        "startChar": 4,
        "endLine": 120,
        "endChar": 10
      },
      "revId": "557fea4c6eb0255c70f76beb10bbb232f1ce1dea",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "951abed7_2d0d8104",
        "filename": "plat/nvidia/tegra/drivers/smmu/smmu.c",
        "patchSetId": 3
      },
      "lineNbr": 121,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2020-07-10T18:41:40Z",
      "side": 1,
      "message": "message sounds dangerous :) might want to say mismatch detected, not panic\u0027ing on test platforms or something like that.",
      "range": {
        "startLine": 121,
        "startChar": 14,
        "endLine": 121,
        "endChar": 40
      },
      "revId": "557fea4c6eb0255c70f76beb10bbb232f1ce1dea",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    }
  ]
}