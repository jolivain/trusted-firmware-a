{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5484c06f_9192e00b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000451
      },
      "writtenOn": "2021-08-13T17:27:53Z",
      "side": 1,
      "message": "I\u0027m looking at this change and is seems that all files there (except marvell_plat_config.c) are 1:1 copy+paste from plat/marvell/octeontx/otx2/t91/t9130 directory.\n\nThere are only some changes in marvell_plat_config.c file when comparing it with t9130.\n\nI would suggest to reuse code instead of copying files from directory to another. E.g. by adding compile time ifdefs in plat/marvell/octeontx/otx2/t91/t9130/board/marvell_plat_config.c file for this CEx7 board. Or by creating proper abstraction of t9130 platform, so it can be extended also for other boards.\n\nI guess it is expected to see more cn913x boards in future and having same code and same files N times in TF-A tree is not something nice...",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a5f8c9a_1abcfb56",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000104
      },
      "writtenOn": "2021-08-13T17:32:59Z",
      "side": 1,
      "message": "Same copy-paste issue is present in armada platforms, however I get your point. marvell_plat_config.c has substancial differences in the windows configuration, so ifdefs here would make it unreadable.\n\nHow about - using the new marvell_plat_config.c + Makefile pointing to t9130 files if unchanged?",
      "parentUuid": "5484c06f_9192e00b",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6626258_b6b8232e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000451
      },
      "writtenOn": "2021-08-13T17:43:11Z",
      "side": 1,
      "message": "I think that the best way would be to move shared files, which are same for more boards into some \"common\" directory. And then just put board dependent files into their board directories, and in board Makefile just specify that also common directory is included and compiled.",
      "parentUuid": "5a5f8c9a_1abcfb56",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "daa17318_2430d2b8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000143
      },
      "writtenOn": "2021-08-18T07:40:17Z",
      "side": 1,
      "message": "I think it over complicates the current board support scheme. We have a dedicated \"board\" folder in platform for setting up the board-specific stuff. I cannot guarantee that SolidRun will not change something on their platform for the next board revision, so it will turn to be less compatible with the common DB section.\nIt is not a big code copy eventually.",
      "parentUuid": "d6626258_b6b8232e",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8a834f5_5bca5414",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000451
      },
      "writtenOn": "2021-08-18T08:30:10Z",
      "side": 1,
      "message": "The point against copy+paste is to prevent code duplication and possibility if there is issue in this code, to figure out on which every place it needs to be changed / fixed due to copy+paste.\n\nIf next board revision changes something in incompatible way that would need different defition, then current one of course cannot be used and some new board specific would have to be defined.\n\nBut this does not prevent to use same definitions for boards which have it same...\n\nI think change should be easy, just move same files into some common section and then adjust Makefiles to use files from common section. And board which have it different can adjust its Makefile to use different files. This should be really easy.",
      "parentUuid": "daa17318_2430d2b8",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4342f599_54a4341f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000143
      },
      "writtenOn": "2021-08-18T08:52:11Z",
      "side": 1,
      "message": "We can consider this on a later stage as a separate \"restructuring\" patch. Marcin\u0027s patch is currently following the common practice.",
      "parentUuid": "a8a834f5_5bca5414",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ec00956_fa658d14",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000104
      },
      "writtenOn": "2021-08-18T08:58:12Z",
      "side": 1,
      "message": "I\u0027m not against code sharing, but how about following - let\u0027s not extract \"common\" directory. Board files describe some concrete topology, connectivity of DRAM, etc. SolidRun adjusted PCB to follow the DB (t9130), so how about following compromise: \n\ncn913x_cex7_eval directory with custom file + Makefile pointing to the files from t9130?\n\nI can try that in a week once I\u0027m back from vacation.",
      "parentUuid": "4342f599_54a4341f",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27902ace_1c5aa711",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1000104
      },
      "writtenOn": "2021-08-24T02:58:05Z",
      "side": 1,
      "message": "I created new patch (https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/11177) and as a result I could reuse whatever relevant directly from t9130 directory.",
      "parentUuid": "4ec00956_fa658d14",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "245ebe8b_f442bf7e",
        "filename": "docs/plat/marvell/armada/build.rst",
        "patchSetId": 4
      },
      "lineNbr": 65,
      "author": {
        "id": 1000451
      },
      "writtenOn": "2021-08-13T17:12:16Z",
      "side": 1,
      "message": "What about following current naming convention?\nSo platform should be called e.g. \"t9130_cex7\" to match how other platforms are named.",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "810152bf_87a5b458",
        "filename": "docs/plat/marvell/armada/build.rst",
        "patchSetId": 4
      },
      "lineNbr": 65,
      "author": {
        "id": 1000104
      },
      "writtenOn": "2021-08-13T17:32:59Z",
      "side": 1,
      "message": "I disagree with the original naming, as it exists only in the TF-A (nowhere in documentation, product description and so on). It is a Marvell platform though, so I\u0027m only saying my opinion.\n\nWRT the new platform - t9130 does not match the actual SoC and the SolidRun\u0027s product name. The convention of CN913X CEx7 Eval Board is kept throughtout TF-A, EDK2, U-Boot port, DTS and ACPI naming. Therefore I insist to use it as-is :)",
      "parentUuid": "245ebe8b_f442bf7e",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40e5faf7_452eb6b0",
        "filename": "docs/plat/marvell/armada/build.rst",
        "patchSetId": 4
      },
      "lineNbr": 65,
      "author": {
        "id": 1000451
      },
      "writtenOn": "2021-08-13T17:43:11Z",
      "side": 1,
      "message": "So maybe renaming existing t9130 to some better name? I do not know which specific board (or boards) are supported by this t9130 target.\n\nManish: What do you think that TF-A should do in this case? Following existing TF-A naming (t9130), or rename existing t9130 platform and use a new naming, or something else?",
      "parentUuid": "810152bf_87a5b458",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "90992716_073da035",
        "filename": "docs/plat/marvell/armada/build.rst",
        "patchSetId": 4
      },
      "lineNbr": 65,
      "author": {
        "id": 1000143
      },
      "writtenOn": "2021-08-18T07:32:52Z",
      "side": 1,
      "message": "The txx naming scheme came from the legacy SDK for Octeon family. I do not see a big benefit from renaming the entire CN91xx platform folders right now. It will definitely make my life harder when we update our current SDK with latest mainline sources. I am OK with names Marcin used in his patch. These names represent the Solidrun platform naming.",
      "parentUuid": "40e5faf7_452eb6b0",
      "revId": "4fb900633f3070eff2c426d130f2c58a402821c7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}