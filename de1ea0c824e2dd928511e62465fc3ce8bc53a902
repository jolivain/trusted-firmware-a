{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "311aeea9_ea034983",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2023-06-13T08:06:20Z",
      "side": 1,
      "message": "Hi,\n\nSorry if I seemed rude in my last comment. I wasn\u0027t forbidding you to use the MMC framework, just wanted to have something still working for all other platforms using it. When checking the diffs, I still don\u0027t understand the problem you have with CMD55/ACMD51. Was there really an issue? Do you really need to be in ACMD mode when running your prepare function?\nThe SD specs states:\n\"ACMD55 does not exist. If multiple CMD55 are issued continuously, APP_CMD bit in each response\nis set to 1. The command issued immediately after the last CMD55 shall be interpreted as ACMD.\"\n\nSo if you really need to be in ACMD mode you could issue a CMD55 in your prepare command. This could be an issue, as this CMD55 should only be done prior to that ACMD51 command. As I said, I don\u0027t think it should be necessary and potentially hides another bug, timing or cache issue?\n\nBy the way, and it is another good reason to use the default framework, you missed some of the last corrections there (for example: fix(mmc): remove redundant reset_to_idle call).\n\nBest regards,\nYann",
      "revId": "de1ea0c824e2dd928511e62465fc3ce8bc53a902",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}