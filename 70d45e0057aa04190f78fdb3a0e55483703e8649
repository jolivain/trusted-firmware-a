{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "663c5255_398820d4",
        "filename": "make_helpers/defaults.mk",
        "patchSetId": 3
      },
      "lineNbr": 401,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2021-11-29T18:43:55Z",
      "side": 1,
      "message": "As discussed in the earlier patches, IMO we do not need this global flag.\nPlease let me know what do you think?",
      "range": {
        "startLine": 401,
        "startChar": 0,
        "endLine": 401,
        "endChar": 8
      },
      "revId": "70d45e0057aa04190f78fdb3a0e55483703e8649",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "625bdd56_f1702937",
        "filename": "make_helpers/defaults.mk",
        "patchSetId": 3
      },
      "lineNbr": 401,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2021-11-30T05:56:35Z",
      "side": 1,
      "message": "\u003e As discussed in the earlier patches, IMO we do not need this global flag.\n\u003e Please let me know what do you think?\n\nI have given the rationale for having this symbol in response to your comment in the earlier patch. Please let me know if you are fine with my explanation. Thanks.",
      "parentUuid": "663c5255_398820d4",
      "range": {
        "startLine": 401,
        "startChar": 0,
        "endLine": 401,
        "endChar": 8
      },
      "revId": "70d45e0057aa04190f78fdb3a0e55483703e8649",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c596429d_a831db8e",
        "filename": "make_helpers/defaults.mk",
        "patchSetId": 3
      },
      "lineNbr": 401,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-11-30T08:53:59Z",
      "side": 1,
      "message": "The GPT partitionning will be used in STM32MP1 code for SD-cards and eMMC cards. Maybe the code you\u0027ve added there should just be under:\n#if STM32MP_SDMMC || STM32MP_EMMC\nor\n#if (STM32MP_SDMMC || STM32MP_EMMC) \u0026\u0026 PSA_FWU_SUPPORT\nAnd this flag could then be removed.\nBut maybe I\u0027ve missed some parts?",
      "parentUuid": "625bdd56_f1702937",
      "range": {
        "startLine": 401,
        "startChar": 0,
        "endLine": 401,
        "endChar": 8
      },
      "revId": "70d45e0057aa04190f78fdb3a0e55483703e8649",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "061df603_de807f7e",
        "filename": "make_helpers/defaults.mk",
        "patchSetId": 3
      },
      "lineNbr": 401,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2021-11-30T10:37:49Z",
      "side": 1,
      "message": "\u003e The GPT partitionning will be used in STM32MP1 code for SD-cards and eMMC cards. Maybe the code you\u0027ve added there should just be under:\n\u003e #if STM32MP_SDMMC || STM32MP_EMMC\n\u003e or\n\u003e #if (STM32MP_SDMMC || STM32MP_EMMC) \u0026\u0026 PSA_FWU_SUPPORT\n\u003e And this flag could then be removed.\n\u003e But maybe I\u0027ve missed some parts?\n\nI can use the method you suggested. Although I think having a generic symbol will help in other platforms reusing it for their GPT based FWU solution. But I don\u0027t have a strong opinion about this. Let me know what you think.",
      "parentUuid": "c596429d_a831db8e",
      "range": {
        "startLine": 401,
        "startChar": 0,
        "endLine": 401,
        "endChar": 8
      },
      "revId": "70d45e0057aa04190f78fdb3a0e55483703e8649",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01fb7ed3_3e7bbae3",
        "filename": "make_helpers/defaults.mk",
        "patchSetId": 3
      },
      "lineNbr": 401,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2021-12-02T13:27:30Z",
      "side": 1,
      "message": "hi Yann,\nCan you please comment on this. Do you think each platform can use some platform specific symbol to identify a GPT partition based setup.\n\n-sughosh",
      "parentUuid": "061df603_de807f7e",
      "range": {
        "startLine": 401,
        "startChar": 0,
        "endLine": 401,
        "endChar": 8
      },
      "revId": "70d45e0057aa04190f78fdb3a0e55483703e8649",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4586f7a4_aedda648",
        "filename": "make_helpers/defaults.mk",
        "patchSetId": 3
      },
      "lineNbr": 401,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-12-02T14:27:49Z",
      "side": 1,
      "message": "I\u0027m not sure the flag is required, as only GPT partitions are managed for the moment. For STM32MP1, we could have something like this in platform.mk till NOR and NAND devices are supported for FWU:\nifeq (${PSA_FWU_SUPPORT},1)\nifeq ($(filter 1,${STM32MP_EMMC} ${STM32MP_SDMMC}),)\n$(error PSA_FWU_SUPPORT only supported for eMMC or SD-cards)\nendif\nendif\n\nFor other platform, I don\u0027t know how that can be managed. If you think it is mandatory, then we should enable this flag for STM32MP1:\nifneq ($(filter 1,${STM32MP_EMMC} ${STM32MP_SDMMC}),)\nGPT_PART :\u003d 1\nendif",
      "parentUuid": "01fb7ed3_3e7bbae3",
      "range": {
        "startLine": 401,
        "startChar": 0,
        "endLine": 401,
        "endChar": 8
      },
      "revId": "70d45e0057aa04190f78fdb3a0e55483703e8649",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}