{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9e4fba3a_5f8c2047",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000556
      },
      "writtenOn": "2022-06-08T03:14:13Z",
      "side": 1,
      "message": "The SMC registration with handler and use case of macro is in smc_registration_use_case topic",
      "revId": "a9046a3b763eecace535ba5e34d86599c8792a63",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5798ab8a_705bf717",
        "filename": "plat/mediatek/include/mtk_sip_svc.h",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2022-06-13T20:21:52Z",
      "side": 1,
      "message": "This is defined as a macro (line 35). I was wondering why is it missing the two parameters _smc_id, _smc_num?",
      "range": {
        "startLine": 66,
        "startChar": 31,
        "endLine": 66,
        "endChar": 52
      },
      "revId": "a9046a3b763eecace535ba5e34d86599c8792a63",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b096ab90_6204c1d0",
        "filename": "plat/mediatek/include/mtk_sip_svc.h",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1000556
      },
      "writtenOn": "2022-06-14T05:47:58Z",
      "side": 1,
      "message": "There are two levels of macros.\nRefer to mtk_sip_def.h, you can see the first level is MTK_SIP_SMC_FROM_NS_EL1_TABLE, the macro has an input argument, MTK_SIP_SMC_FROM_NS_EL1_TABLE(_func). We can decide different expansion ways by this argument.\n\nThe 2nd level macro defined in this file, SMC_ID_EXPAND_AS_ENUM, it can be expanded by the first level.\nSo, combines these two levels macros, MTK_SIP_SMC_FROM_NS_EL1_TABLE can be expanded as\nenum{\nSMC_ID_EXPAND_AS_ENUM(MTK_SIP_KERNEL_TIME_SYNC, 0x202),\nSMC_ID_EXPAND_AS_ENUM(MTK_SIP_VCORE_CONTROL, 0x506),\n...\n\tMTK_SIP_SMC_MAX_NUMBER\n}\n\naccording to SMC_ID_EXPAND_AS_ENUM macro, it can be further expanded as\nenum{\n\tMTK_SIP_KERNEL_TIME_SYNC_AARCH32 \u003d ((SMC_TYPE_FAST \u003c\u003c FUNCID_TYPE_SHIFT) |\n\t\t ((0) \u003c\u003c FUNCID_CC_SHIFT) |\n\t\t (OEN_SIP_START \u003c\u003c FUNCID_OEN_SHIFT) |\n\t\t ((0x202) \u003c\u003c FUNCID_NUM_SHIFT)),\n\tMTK_SIP_KERNEL_TIME_SYNC_AARCH64 \u003d ((SMC_TYPE_FAST \u003c\u003c FUNCID_TYPE_SHIFT) |\n\t\t ((1) \u003c\u003c FUNCID_CC_SHIFT) |\n\t\t (OEN_SIP_START \u003c\u003c FUNCID_OEN_SHIFT) |\n\t\t ((0x202) \u003c\u003c FUNCID_NUM_SHIFT)),\n\tMTK_SIP_VCORE_CONTROL_AARCH32 \u003d ((SMC_TYPE_FAST \u003c\u003c FUNCID_TYPE_SHIFT) |\n\t\t ((0) \u003c\u003c FUNCID_CC_SHIFT) |\n\t\t (OEN_SIP_START \u003c\u003c FUNCID_OEN_SHIFT) |\n\t\t ((0x506) \u003c\u003c FUNCID_NUM_SHIFT)),\n\tMTK_SIP_VCORE_CONTROL_AARCH64 \u003d ((SMC_TYPE_FAST \u003c\u003c FUNCID_TYPE_SHIFT) |\n\t\t ((1) \u003c\u003c FUNCID_CC_SHIFT) |\n\t\t (OEN_SIP_START \u003c\u003c FUNCID_OEN_SHIFT) |\n\t\t ((0x506) \u003c\u003c FUNCID_NUM_SHIFT)),\t \n...\n\tMTK_SIP_SMC_MAX_NUMBER\n}",
      "parentUuid": "5798ab8a_705bf717",
      "range": {
        "startLine": 66,
        "startChar": 31,
        "endLine": 66,
        "endChar": 52
      },
      "revId": "a9046a3b763eecace535ba5e34d86599c8792a63",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}