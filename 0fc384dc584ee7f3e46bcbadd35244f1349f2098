{
  "comments": [
    {
      "key": {
        "uuid": "5d0bbfe8_01b31426",
        "filename": "plat/arm/common/arm_sip_svc.c",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-11-28T14:25:58Z",
      "side": 1,
      "message": "With this patch, arm_execution_state_switch() will never be called on AArch32. It\u0027s currently defined in plat/arm/common/execution_state_switch.c, which contains just this single function. Hence, I wonder whether we should simply exclude execution_state_switch.c from the platform makefile on AArch32, and make it an AArch64-only file. We\u0027d probably need to move it into plat/arm/common/aarch64 in this case and we could remove the #if __aarch64 in the code.\n\nDoes it make sense?",
      "range": {
        "startLine": 69,
        "startChar": 21,
        "endLine": 69,
        "endChar": 47
      },
      "revId": "0fc384dc584ee7f3e46bcbadd35244f1349f2098",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ac93c6bb_d7d3704f",
        "filename": "plat/arm/common/arm_sip_svc.c",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1000274
      },
      "writtenOn": "2019-11-29T10:04:24Z",
      "side": 1,
      "message": "Yes, I think that would make sense.\n\nAlternatively, we could move the entrypoint validation into arm_execution_state_switch, get rid of the ifdef in this file, and keep the file structure as it is. I can\u0027t think of a reason for keeping the entrypoint validation separate, if this is the only place in the code that calls that function.\n\nIf we decide to move the entrypoint validation into the function, we could also move the non-secure check as well, if we add an extra parameter to it (flags).",
      "parentUuid": "5d0bbfe8_01b31426",
      "range": {
        "startLine": 69,
        "startChar": 21,
        "endLine": 69,
        "endChar": 47
      },
      "revId": "0fc384dc584ee7f3e46bcbadd35244f1349f2098",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    }
  ]
}