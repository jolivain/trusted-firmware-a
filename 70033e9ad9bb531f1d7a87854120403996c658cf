{
  "comments": [
    {
      "key": {
        "uuid": "18ef8861_a4fc0d5b",
        "filename": "tools/cert_create/src/main.c",
        "patchSetId": 5
      },
      "lineNbr": 499,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2021-01-26T14:54:48Z",
      "side": 1,
      "message": "I don\u0027t think we want to do this. My understanding is that:\n* If the certificate has no nvcounter extension, it means that it is not rollback-protected so the firmware should not attempt to do any nvcounter checks.\n* If the certificate has a nvcounter extension with value 0, it means that the certificate version is 0 and so the firmware should cross-check this value with the one in the hardware.\n\nThese are 2 different things and not equivalent at all. I think we want the first behaviour, i.e. the existing code was fine. (I am not talking about the fix for the hash at line 510, which I think is needed).",
      "range": {
        "startLine": 497,
        "startChar": 0,
        "endLine": 499,
        "endChar": 5
      },
      "revId": "70033e9ad9bb531f1d7a87854120403996c658cf",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b87d73cb_8b1be644",
        "filename": "tools/cert_create/src/main.c",
        "patchSetId": 5
      },
      "lineNbr": 499,
      "author": {
        "id": 1000272
      },
      "writtenOn": "2021-01-26T15:21:47Z",
      "side": 1,
      "message": "If we want the first behavior, then we need a continue, like the hash fix below. Without a change here, we will see a segfault (double free) error.",
      "parentUuid": "18ef8861_a4fc0d5b",
      "range": {
        "startLine": 497,
        "startChar": 0,
        "endLine": 499,
        "endChar": 5
      },
      "revId": "70033e9ad9bb531f1d7a87854120403996c658cf",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0b9ebec_b7a35f6f",
        "filename": "tools/cert_create/src/main.c",
        "patchSetId": 5
      },
      "lineNbr": 499,
      "author": {
        "id": 1000272
      },
      "writtenOn": "2021-01-26T17:00:53Z",
      "side": 1,
      "message": "The new version is a bit more subtle. Also following from offline discussion, the requirement that `ext-\u003earg` be not NULL should be checked by `check_cmd_params`. However, it only asserts that required counters have a value. Taking after that, I have allowed optional counters to be skipped and required counters now have an assert.",
      "parentUuid": "b87d73cb_8b1be644",
      "range": {
        "startLine": 497,
        "startChar": 0,
        "endLine": 499,
        "endChar": 5
      },
      "revId": "70033e9ad9bb531f1d7a87854120403996c658cf",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    }
  ]
}