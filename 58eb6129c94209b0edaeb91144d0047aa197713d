{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b227645d_e08853f0",
        "filename": "lib/el3_runtime/aarch64/context_mgmt.c",
        "patchSetId": 64
      },
      "lineNbr": 870,
      "author": {
        "id": 1000102
      },
      "writtenOn": "2023-09-06T16:10:44Z",
      "side": 1,
      "message": "Is this the right macro to guard this code under, isn\u0027t it better to introduce a new macro UNUSED_NS_EL2, as the if condition only gets true for legacy systems with NS-EL2.\n\nYou have used !CTX_INCLUDE_EL2_REGS to cater for both systems, ideally it should be only used for 1st \n1. Systems with only NS-EL2\n2. Systems without any EL2",
      "range": {
        "startLine": 870,
        "startChar": 0,
        "endLine": 870,
        "endChar": 25
      },
      "revId": "58eb6129c94209b0edaeb91144d0047aa197713d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "477a66cc_50ffb119",
        "filename": "lib/el3_runtime/aarch64/context_mgmt.c",
        "patchSetId": 64
      },
      "lineNbr": 870,
      "author": {
        "id": 1000883
      },
      "writtenOn": "2023-09-07T08:04:08Z",
      "side": 1,
      "message": "sure, what you suggest might be more appropriate. But that should be a separate patch.\n\nIf you follow the logic of the code now, then you\u0027ll see that mine does the exact same (sans the assert) as before.",
      "parentUuid": "b227645d_e08853f0",
      "range": {
        "startLine": 870,
        "startChar": 0,
        "endLine": 870,
        "endChar": 25
      },
      "revId": "58eb6129c94209b0edaeb91144d0047aa197713d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "052b5101_5b1d2ae7",
        "filename": "lib/el3_runtime/aarch64/context_mgmt.c",
        "patchSetId": 64
      },
      "lineNbr": 870,
      "author": {
        "id": 1000803
      },
      "writtenOn": "2023-09-11T20:54:12Z",
      "side": 1,
      "message": "I agree with Manish. The sections guarded by !CTX_INCLUDE_EL2_REGS are compiled in systems that have NS-EL2 as !CTX_INCLUDE_EL2_REGS evaluates to true for such systems. This should not happen. \nI think it would be appropriate if you don\u0027t have those !CTX_INCLUDE_EL2_REGS changes(it seems redundant)   \n\nI have a seperate patch(https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/22716/9)  that sits on top of this commit which essentially adds the new macro and replaces all the !CTX_INCLUDE_EL2_REGS with that new macro INIT_INCLUDE_NS_EL2.",
      "parentUuid": "477a66cc_50ffb119",
      "range": {
        "startLine": 870,
        "startChar": 0,
        "endLine": 870,
        "endChar": 25
      },
      "revId": "58eb6129c94209b0edaeb91144d0047aa197713d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}