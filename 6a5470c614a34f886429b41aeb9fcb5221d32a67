{
  "comments": [
    {
      "key": {
        "uuid": "546d9fbf_0cd816f5",
        "filename": "include/arch/aarch64/arch.h",
        "patchSetId": 2
      },
      "lineNbr": 540,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-07-16T12:19:13Z",
      "side": 1,
      "message": "nit: start on next line.",
      "range": {
        "startLine": 540,
        "startChar": 2,
        "endLine": 540,
        "endChar": 3
      },
      "revId": "6a5470c614a34f886429b41aeb9fcb5221d32a67",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5eff8cf2_6c80edaa",
        "filename": "include/arch/aarch64/arch.h",
        "patchSetId": 2
      },
      "lineNbr": 540,
      "author": {
        "id": 1000051
      },
      "writtenOn": "2019-07-23T09:11:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "546d9fbf_0cd816f5",
      "range": {
        "startLine": 540,
        "startChar": 2,
        "endLine": 540,
        "endChar": 3
      },
      "revId": "6a5470c614a34f886429b41aeb9fcb5221d32a67",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c219c227_413f88ab",
        "filename": "include/arch/aarch64/arch.h",
        "patchSetId": 2
      },
      "lineNbr": 561,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-07-16T12:19:13Z",
      "side": 1,
      "message": "Given that disabling SSBS is the only way we would want to initialize the lower exception, I would add this to the regular SPSR helper macros. What do you think ?",
      "range": {
        "startLine": 561,
        "startChar": 8,
        "endLine": 561,
        "endChar": 20
      },
      "revId": "6a5470c614a34f886429b41aeb9fcb5221d32a67",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e2e3530_38e9acad",
        "filename": "include/arch/aarch64/arch.h",
        "patchSetId": 2
      },
      "lineNbr": 561,
      "author": {
        "id": 1000051
      },
      "writtenOn": "2019-07-23T09:11:20Z",
      "side": 1,
      "message": "The SPSR macros above (lines 545, 551) are also used for context management. So we wouldn\u0027t like to touch those and potentially overwrite/hijack the SSBS value during context management.\n\nThe reason we specified the \"SSBS\" variant of those macros (lines 561, 565) is to use those only during the initialisation of each new BL stage but leaving the context management untouched.",
      "parentUuid": "c219c227_413f88ab",
      "range": {
        "startLine": 561,
        "startChar": 8,
        "endLine": 561,
        "endChar": 20
      },
      "revId": "6a5470c614a34f886429b41aeb9fcb5221d32a67",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ea1784ad_a698a2b4",
        "filename": "include/arch/aarch64/arch.h",
        "patchSetId": 2
      },
      "lineNbr": 561,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-07-23T09:56:58Z",
      "side": 1,
      "message": "Hmm, that\u0027s the trouble. The new BL entry can be considered part of cold boot whereas in case of warm boot, we would want to initialize the secondary CPUs with the right SPSR values. Hence there is little to differentiate between new BL entry or just re-entry to lower EL (`context_mgmt` as in your comments). Given that we would prefer the entry to be safe by default, it is better to clear the bit in the default macro.",
      "parentUuid": "7e2e3530_38e9acad",
      "range": {
        "startLine": 561,
        "startChar": 8,
        "endLine": 561,
        "endChar": 20
      },
      "revId": "6a5470c614a34f886429b41aeb9fcb5221d32a67",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e782c528_032f1383",
        "filename": "include/arch/aarch64/arch.h",
        "patchSetId": 2
      },
      "lineNbr": 561,
      "author": {
        "id": 1000051
      },
      "writtenOn": "2019-07-23T10:21:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ea1784ad_a698a2b4",
      "range": {
        "startLine": 561,
        "startChar": 8,
        "endLine": 561,
        "endChar": 20
      },
      "revId": "6a5470c614a34f886429b41aeb9fcb5221d32a67",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}