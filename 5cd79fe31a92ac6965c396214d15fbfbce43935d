{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0ff97a18_7d62c797",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000578
      },
      "writtenOn": "2021-12-03T13:19:59Z",
      "side": 1,
      "message": "I recall you mentioned that this was already work-in-progress some time ago. I\u0027ve skimmed https://wiki.st.com/stm32mpu/wiki/How_to_configure_TF-A_FIP#Updating_the_FIP_binary and trying to understand the use case:\n\n- So the FIP image would contain the SSBL as well, right?\n- Can you still fit FIP image into eMMC boot partition?",
      "revId": "5cd79fe31a92ac6965c396214d15fbfbce43935d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e38e058_5612ff83",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-12-03T13:41:18Z",
      "side": 1,
      "message": "Hi Vyacheslav,\n\nThe FIP image contains SSBL (and its device tree) and BL32: either TF-A SP_min  (and its device tree) or OP-TEE.\nThe FIP file is usually between 1MB and 1.5MB, and BL2 ~220kB. So if your eMMC boot partition is 2MB, it should be OK. This is what we have on STM32MP157C-EV1 board.\nMaybe it is possible with a 1MB boot partition size with some optimizations.",
      "parentUuid": "0ff97a18_7d62c797",
      "revId": "5cd79fe31a92ac6965c396214d15fbfbce43935d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c4a19b2c_4e80406a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000578
      },
      "writtenOn": "2021-12-03T13:55:02Z",
      "side": 1,
      "message": "Great, thanks for the info and heads-up. Do you already have an idea how FIT image build is integrated in yocto BSP?",
      "parentUuid": "4e38e058_5612ff83",
      "revId": "5cd79fe31a92ac6965c396214d15fbfbce43935d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "abe865c1_4834ace2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-12-03T14:06:34Z",
      "side": 1,
      "message": "Is it a typo FIT/FIP or is your question about U-Boot Flattened uImage Tree?\nIf the latter case, I\u0027ll check with my colleagues in charge of U-Boot and yocto.\nElse, FIP is already managed, see: https://wiki.st.com/stm32mpu/wiki/STM32MP15_OpenSTLinux_release_note_-_v3.1.0#OpenSTLinux_layers_part",
      "parentUuid": "c4a19b2c_4e80406a",
      "revId": "5cd79fe31a92ac6965c396214d15fbfbce43935d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a7a54dae_c418ccf3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000578
      },
      "writtenOn": "2021-12-03T14:13:38Z",
      "side": 1,
      "message": "Was a typo, my bad. But you got me right. The question was about adding u-boot to FIP. Thanks",
      "parentUuid": "abe865c1_4834ace2",
      "revId": "5cd79fe31a92ac6965c396214d15fbfbce43935d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "37a5d9c9_6b2f4eeb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000337
      },
      "writtenOn": "2022-01-10T18:50:27Z",
      "side": 1,
      "message": "There\u0027s no support yet in TF-A though to load FIP from eMMC boot partition, right? Does ST intend to contribute this support before removing stm32image support?",
      "parentUuid": "a7a54dae_c418ccf3",
      "revId": "5cd79fe31a92ac6965c396214d15fbfbce43935d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f8cc4cb0_f2ffc01e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2022-01-11T08:20:20Z",
      "side": 1,
      "message": "Hi Ahmad,\nYou\u0027re right this is not yet supported but it will have to be before removing the stm32image support. I don\u0027t know if Vyacheslav plans to do that. Or I\u0027ll have to plan that (I think during summer). And I\u0027ll remove the stm32image support in September or October, before v2.8 tag is released.",
      "parentUuid": "37a5d9c9_6b2f4eeb",
      "revId": "5cd79fe31a92ac6965c396214d15fbfbce43935d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a58a571_2526be22",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000578
      },
      "writtenOn": "2022-01-11T08:28:09Z",
      "side": 1,
      "message": "Oh, that was a good point. I didn\u0027t check that FIP image loading from eMMC is not there yet. I also need to check if will have time to do that.",
      "parentUuid": "f8cc4cb0_f2ffc01e",
      "revId": "5cd79fe31a92ac6965c396214d15fbfbce43935d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1e24844e_e5ab84d1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2022-06-01T07:23:42Z",
      "side": 1,
      "message": "The feature will be handled through this patch series sent by Ahmad:\nhttps://review.trustedfirmware.org/q/topic:%22stm32mp-emmc-boot-fip%22+(status:open%20OR%20status:merged)",
      "parentUuid": "7a58a571_2526be22",
      "revId": "5cd79fe31a92ac6965c396214d15fbfbce43935d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}