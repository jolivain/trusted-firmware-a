{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "193a34fc_8f357691",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2024-02-27T08:12:31Z",
      "side": 1,
      "message": "I\u0027m curious to know if a similar change is required for \u0027sp_min\u0027 [1] as well, given that \u0027console_flush\u0027 seems to occur after \u0027console_switch_state\u0027. \n\n[1]: https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/bl32/sp_min/sp_min_main.c#n200",
      "revId": "30910a85b8d3420a4171d72232b7ee9ca3cfd565",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "190fd545_3071eca5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001235
      },
      "writtenOn": "2024-02-28T12:34:37Z",
      "side": 1,
      "message": "Yes, I will address this in a separate patch series.",
      "parentUuid": "193a34fc_8f357691",
      "revId": "30910a85b8d3420a4171d72232b7ee9ca3cfd565",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23699dd6_e1589513",
        "filename": "bl31/bl31_main.c",
        "patchSetId": 1
      },
      "lineNbr": 221,
      "author": {
        "id": 1000060
      },
      "writtenOn": "2024-02-27T22:30:41Z",
      "side": 1,
      "message": "nit: I\u0027d recommend flushing the console before measuring the timestamp, so that the timestamp is more accurate.",
      "revId": "30910a85b8d3420a4171d72232b7ee9ca3cfd565",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "487c6eb5_d0d19673",
        "filename": "bl31/bl31_main.c",
        "patchSetId": 1
      },
      "lineNbr": 221,
      "author": {
        "id": 1001235
      },
      "writtenOn": "2024-02-28T12:34:37Z",
      "side": 1,
      "message": "If PMF_DUMP_ENABLE macro is set, PMF_CAPTURE_TIMESTAMP will do a printf() which will again push characters to the FIFO (more than 16 chars from the looks of it), which means we have to do another console_flush() after this.\n\nWould you suggest I make the \"#if ENABLE_RUNTIME_INSTRUMENTATION\" code block last and add another console_flush() within the code block just after \"PMF_CAPTURE_TIMESTAMP()\"?\n\nNote: Once we switch to runtime console the PMF_DUMP_ENABLE macro will try to print the timestamp info on the RUNTIME console.",
      "parentUuid": "23699dd6_e1589513",
      "revId": "30910a85b8d3420a4171d72232b7ee9ca3cfd565",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c59bc04_08f2cc1b",
        "filename": "bl31/bl31_main.c",
        "patchSetId": 1
      },
      "lineNbr": 221,
      "author": {
        "id": 1000060
      },
      "writtenOn": "2024-02-29T01:46:21Z",
      "side": 1,
      "message": "Yeah, in that case I\u0027d suggest writing it like this:\n\n    if ENABLE_RUNTIME_INSTRUMENTATION\n      console_flush();\n      PMF_CAPTURE...();\n    #endif\n    \n    console_flush();\n    console_switch_state(...);",
      "parentUuid": "487c6eb5_d0d19673",
      "revId": "30910a85b8d3420a4171d72232b7ee9ca3cfd565",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}