{
  "comments": [
    {
      "key": {
        "uuid": "1e624ec8_500a7273",
        "filename": "drivers/arm/css/scmi/scmi_common.c",
        "patchSetId": 11
      },
      "lineNbr": 203,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-01-30T10:19:34Z",
      "side": 1,
      "message": "If this print is revmoed then the driver interface need not be changed. Channe_id itself is not useful to the driver whereas the platform may find it useful to print. Hence dont change this line but add a print to caller of this API in platform. Also remove channel_id from driver data structure.",
      "range": {
        "startLine": 202,
        "startChar": 0,
        "endLine": 203,
        "endChar": 65
      },
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3deb8264_1d604f5c",
        "filename": "drivers/arm/css/scmi/scmi_common.c",
        "patchSetId": 11
      },
      "lineNbr": 203,
      "author": {
        "id": 1000084
      },
      "writtenOn": "2020-01-30T12:48:38Z",
      "side": 1,
      "message": "This function is called from \"drivers/arm/css/scp/css_pm_scmi.c\" and not from platform code. If this change is not added, it will not be possible to distinguish the multiple times this gets printed.\n\n\nAlso, the channel_id is good to have as a member of this structure as there will be multiple SCMI channels and it is good to have a ID to distinguish them. So, if this is not a absolute blocker, I request to let this change go in.",
      "parentUuid": "1e624ec8_500a7273",
      "range": {
        "startLine": 202,
        "startChar": 0,
        "endLine": 203,
        "endChar": 65
      },
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c901db8_a5db06b7",
        "filename": "drivers/arm/css/scmi/scmi_common.c",
        "patchSetId": 11
      },
      "lineNbr": 203,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-01-30T15:02:27Z",
      "side": 1,
      "message": "I suggest to add a print in css_pm_scmi.c in that case. This driver is not organized correctly IMO and the css_pm_scmi should live in css folder. So I consider that file as part of platform.\n\nThe driver itself need not be aware of channel id and all it deals is a handle to the channel. So I am not in favour of adding this extra field. It will also affect API compatibility for other users of th driver.",
      "parentUuid": "3deb8264_1d604f5c",
      "range": {
        "startLine": 202,
        "startChar": 0,
        "endLine": 203,
        "endChar": 65
      },
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab54e7ad_384ce72d",
        "filename": "drivers/arm/css/scp/css_pm_scmi.c",
        "patchSetId": 11
      },
      "lineNbr": 363,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-01-30T10:19:34Z",
      "side": 1,
      "message": "As discussed, need a comment mentioning the TODO to have multiple locks for multiple channels.",
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0b4afb5_8bc250a2",
        "filename": "drivers/arm/css/scp/css_pm_scmi.c",
        "patchSetId": 11
      },
      "lineNbr": 363,
      "author": {
        "id": 1000084
      },
      "writtenOn": "2020-01-30T12:48:38Z",
      "side": 1,
      "message": "Yes, it is there on Line number 82 above.",
      "parentUuid": "ab54e7ad_384ce72d",
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6780190b_e7aa60c0",
        "filename": "drivers/arm/css/scp/css_pm_scmi.c",
        "patchSetId": 11
      },
      "lineNbr": 363,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-01-30T15:02:27Z",
      "side": 1,
      "message": "Ah, OK.",
      "parentUuid": "c0b4afb5_8bc250a2",
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "885abe91_ef115940",
        "filename": "include/drivers/arm/css/scmi.h",
        "patchSetId": 11
      },
      "lineNbr": 139,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-01-30T10:19:34Z",
      "side": 1,
      "message": "Not required for driver. Remove this.",
      "range": {
        "startLine": 138,
        "startChar": 0,
        "endLine": 139,
        "endChar": 16
      },
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3e0cb30_2ba60a42",
        "filename": "include/drivers/arm/css/scmi.h",
        "patchSetId": 11
      },
      "lineNbr": 139,
      "author": {
        "id": 1000084
      },
      "writtenOn": "2020-01-30T12:48:38Z",
      "side": 1,
      "message": "Reply to your another comment on this patch includes the reply to this.",
      "parentUuid": "885abe91_ef115940",
      "range": {
        "startLine": 138,
        "startChar": 0,
        "endLine": 139,
        "endChar": 16
      },
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c42e626f_02e5df3c",
        "filename": "include/drivers/arm/css/scmi.h",
        "patchSetId": 11
      },
      "lineNbr": 171,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-01-30T10:19:34Z",
      "side": 1,
      "message": "These 2 declaration dont below here in this header. MOve these to css specifc header.",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 171,
        "endChar": 0
      },
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e77d465e_6b850887",
        "filename": "include/drivers/arm/css/scmi.h",
        "patchSetId": 11
      },
      "lineNbr": 171,
      "author": {
        "id": 1000084
      },
      "writtenOn": "2020-01-30T12:48:38Z",
      "side": 1,
      "message": "Can be taken up outside of this patch series as this patch does not introduce this change.",
      "parentUuid": "c42e626f_02e5df3c",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 171,
        "endChar": 0
      },
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56b4cc60_ff5e5256",
        "filename": "include/drivers/arm/css/scmi.h",
        "patchSetId": 11
      },
      "lineNbr": 171,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-01-30T15:02:27Z",
      "side": 1,
      "message": "Well, it is better to reduce the technical debt when improvements are being made. But I agree it need not be part of this patch and can be a separate patch",
      "parentUuid": "e77d465e_6b850887",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 171,
        "endChar": 0
      },
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f57b0db3_732d278e",
        "filename": "include/plat/arm/css/common/css_pm.h",
        "patchSetId": 11
      },
      "lineNbr": 51,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-01-30T10:19:34Z",
      "side": 1,
      "message": "mask first using 0xFFFF then shift. \n\nAlso instead of this :\n#define SCMI_CHANNEL_ID_MASK\t\t0xFFFF0000\n#define SCMI_CHANNEL_ID_SHIFT\t\tU(16)\n\nsuggest\n\n#define SCMI_CHANNEL_ID_MASK\t\t0xFFFF\n#define SCMI_CHANNEL_ID_SHIFT\t\tU(16)\n\n#define SET_SCMI_CHANNEL_ID(n)\t\t(((n) \u0026 SCMI_CHANNEL_ID_MASK) \u003c\u003c SCMI_CHANNEL_ID_SHIFT)\n#define GET_SCMI_CHANNEL_ID(n)\t\t(((n) \u003e\u003e SCMI_CHANNEL_ID_SHIFT) \u0026 SCMI_CHANNEL_ID_MASK)",
      "range": {
        "startLine": 51,
        "startChar": 34,
        "endLine": 51,
        "endChar": 35
      },
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dda45616_eaf32827",
        "filename": "include/plat/arm/css/common/css_pm.h",
        "patchSetId": 11
      },
      "lineNbr": 51,
      "author": {
        "id": 1000084
      },
      "writtenOn": "2020-01-30T12:48:38Z",
      "side": 1,
      "message": "The mask values are readable and clearly shows the bit positions being used for domain and channel ID. Can this change be retained without any further changes.\n\n\nThe usage of this is at https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/3071/12/plat/arm/board/rdn1edge/rdn1edge_topology.c#36",
      "parentUuid": "f57b0db3_732d278e",
      "range": {
        "startLine": 51,
        "startChar": 34,
        "endLine": 51,
        "endChar": 35
      },
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42878af8_5a04f893",
        "filename": "include/plat/arm/css/common/css_pm.h",
        "patchSetId": 11
      },
      "lineNbr": 51,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2020-01-30T15:02:27Z",
      "side": 1,
      "message": "The line 51 will give a MISRA warrning as you are shiting a 32 bit value by 16 bits. hence you need to atleast mask the value before shifting. So if that is being done, it makes sense to modify the mask to use it for that purpose as well.",
      "parentUuid": "dda45616_eaf32827",
      "range": {
        "startLine": 51,
        "startChar": 34,
        "endLine": 51,
        "endChar": 35
      },
      "revId": "882925caaff16546dbd3f3276bf085a430f08f82",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    }
  ]
}