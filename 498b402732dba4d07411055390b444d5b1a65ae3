{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8f87b2ce_c5bf3856",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2022-01-10T13:01:10Z",
      "side": 1,
      "message": "I think we need a more elaborate commit message. Please explain the nature of the changes in more details and their rationale.",
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07b6c314_a8610ac1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-01-10T13:11:41Z",
      "side": 1,
      "message": "Okay, let me add few details, I thought there are no functional changes apart from making Measured-Boot and Trusted-Boot orthogonal to each other hence retained the commit message.",
      "parentUuid": "8f87b2ce_c5bf3856",
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3770c573_6b09c6ac",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-01-10T14:45:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "07b6c314_a8610ac1",
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26fc5dc5_69dda39b",
        "filename": "common/bl_common.c",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2022-01-10T13:01:10Z",
      "side": 1,
      "message": "Why these changes? Do they introduce any functional change? Maybe I\u0027ve missed something but it seems to me that the new code is functionally equivalent and these changes just change the way it\u0027s been implemented...",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 36,
        "endChar": 32
      },
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc9fad82_236ab369",
        "filename": "common/bl_common.c",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-01-10T13:11:41Z",
      "side": 1,
      "message": "There are no functional changes. Just made it suitable so that \u0027disable_auth\u0027 variable get used in both Trusted and Non-trusted boot flow.",
      "parentUuid": "26fc5dc5_69dda39b",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 36,
        "endChar": 32
      },
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0bc0d49_e1f57577",
        "filename": "common/bl_common.c",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2022-01-10T13:16:18Z",
      "side": 1,
      "message": "\u003e Just made it suitable so that \u0027disable_auth\u0027 variable get used in both Trusted and Non-trusted boot flow.\n\nWasn\u0027t it already the case?",
      "parentUuid": "bc9fad82_236ab369",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 36,
        "endChar": 32
      },
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96278714_596257cd",
        "filename": "common/bl_common.c",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-01-10T13:22:19Z",
      "side": 1,
      "message": "No, \u0027dyn_is_auth_disabled\u0027 function and \u0027disable_auth\u0027 variable were guarded under TRUSTED_BOARD_BOOT flag.",
      "parentUuid": "c0bc0d49_e1f57577",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 36,
        "endChar": 32
      },
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4879c1be_767b1c0e",
        "filename": "common/bl_common.c",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-01-10T16:01:34Z",
      "side": 1,
      "message": "Furthermore thinking, If you agree you then we will measure the image in the \u0027load_auth_image\u0027 without doing any changes in \u0027load_auth_image_internal\u0027 function (I will take out changes done in this function) and will do changes in load_auth_image as below:\n\nint load_auth_image(unsigned int image_id, image_info_t *image_data)\n        } while ((err !\u003d 0) \u0026\u0026 (plat_try_next_boot_source() !\u003d 0));\n #endif /* PSA_FWU_SUPPORT */\n \n+       /* \n+        * if image authentication passed in TBBR or loading passed in\n+        * Non-TBBR flow then measure the image if MEASURED_BOOT is enabled\n+        */\n+       if (err \u003d\u003d 0) {\n+               err \u003d plat_mboot_measure_image(image_id, image_data);\n+               if (err !\u003d 0) {\n+                       return err;\n+               }\n+\n+               /*\n+                * Flush the image to main memory so that it can be executed\n+                * later by any CPU, regardless of cache and MMU state.\n+                */\n+               flush_dcache_range(image_data-\u003eimage_base,\n+                                  image_data-\u003eimage_size);\n+       }\n+\n        return err;\n\nLet me know what do you think?",
      "parentUuid": "96278714_596257cd",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 36,
        "endChar": 32
      },
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3023fbc_c477d7f4",
        "filename": "common/bl_common.c",
        "patchSetId": 2
      },
      "lineNbr": 36,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-01-11T23:18:32Z",
      "side": 1,
      "message": "Hi Sandrine, \nI pushed the patch with this approach as I thought it is better place to handle image measurement in either Trusted or Non-Trusted Boot flow. Please let me know if you think differently.",
      "parentUuid": "4879c1be_767b1c0e",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 36,
        "endChar": 32
      },
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03bf4bf2_d4e9488f",
        "filename": "common/bl_common.c",
        "patchSetId": 2
      },
      "lineNbr": 197,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2022-01-10T13:01:10Z",
      "side": 1,
      "message": "The indentation of these 2 lines is wrong.",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 197,
        "endChar": 33
      },
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e54563cb_1ff2aaaf",
        "filename": "common/bl_common.c",
        "patchSetId": 2
      },
      "lineNbr": 197,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-01-10T13:11:41Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "03bf4bf2_d4e9488f",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 197,
        "endChar": 33
      },
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eacc8e6e_8336fc1d",
        "filename": "common/bl_common.c",
        "patchSetId": 2
      },
      "lineNbr": 197,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-01-10T14:45:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e54563cb_1ff2aaaf",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 197,
        "endChar": 33
      },
      "revId": "498b402732dba4d07411055390b444d5b1a65ae3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}