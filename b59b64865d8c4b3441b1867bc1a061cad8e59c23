{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4e67cfcc_7b08f35a",
        "filename": "plat/st/stm32mp1/bl2_plat_setup.c",
        "patchSetId": 6
      },
      "lineNbr": 472,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-12-13T10:19:40Z",
      "side": 1,
      "message": "As said in other file\u0027s comment, this code may go in a dedicated function in stm32mp1_private.c.",
      "revId": "b59b64865d8c4b3441b1867bc1a061cad8e59c23",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0626a5f_fd95a93a",
        "filename": "plat/st/stm32mp1/bl2_plat_setup.c",
        "patchSetId": 6
      },
      "lineNbr": 472,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-12-13T10:25:49Z",
      "side": 1,
      "message": "Should there be some magic number, to check the index is correct? As 0 might be a correct index, but just because nothing has previously been written in the register",
      "parentUuid": "4e67cfcc_7b08f35a",
      "revId": "b59b64865d8c4b3441b1867bc1a061cad8e59c23",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86cf9e7e_2d791b42",
        "filename": "plat/st/stm32mp1/bl2_plat_setup.c",
        "patchSetId": 6
      },
      "lineNbr": 472,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2021-12-13T10:53:58Z",
      "side": 1,
      "message": "\u003e Should there be some magic number, to check the index is correct? As 0 might be a correct index, but just because nothing has previously been written in the register\n\nplat_fwu_get_boot_idx should be returning the correct boot index. Maybe we can have a check here\n\nboot_idx \u003d plat_fwu_get_boot_idx();\nassert(boot_idx \u003c NR_OF_FW_BANKS);",
      "parentUuid": "b0626a5f_fd95a93a",
      "revId": "b59b64865d8c4b3441b1867bc1a061cad8e59c23",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "95616a8e_f5121ae3",
        "filename": "plat/st/stm32mp1/bl2_plat_setup.c",
        "patchSetId": 6
      },
      "lineNbr": 472,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-12-13T10:57:58Z",
      "side": 1,
      "message": "My main concern was about the 0 value. Does it means index 0, and is valid, or is it an invalid unfilled register? So should we have the upper bits of the register set with a magic number, and check this magic number, just to know that this index 0 is valid?",
      "parentUuid": "86cf9e7e_2d791b42",
      "revId": "b59b64865d8c4b3441b1867bc1a061cad8e59c23",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2315c610_ccc0d109",
        "filename": "plat/st/stm32mp1/include/boot_api.h",
        "patchSetId": 6
      },
      "lineNbr": 124,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-12-13T10:19:40Z",
      "side": 1,
      "message": "Please, do not modify this file, as it is the ROM code interface.\nIdeally this should go in plat/st/stm32mp1/stm32mp1_private.c, after the following patch is merged:\nhttps://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/12988\n\nFor the register number, you should use 21, and name it TAMP_BOOT_COUNTER_BACKUP_REG_ID",
      "revId": "b59b64865d8c4b3441b1867bc1a061cad8e59c23",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c2f342c_ac8da5c9",
        "filename": "plat/st/stm32mp1/include/boot_api.h",
        "patchSetId": 6
      },
      "lineNbr": 124,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2021-12-13T11:07:45Z",
      "side": 1,
      "message": "\u003e Please, do not modify this file, as it is the ROM code interface.\n\nOkay. I wasn\u0027t aware of this. The header file does not seem to have any comment to this effect. Also, the file has been modified earlier.\n\n\u003e Ideally this should go in plat/st/stm32mp1/stm32mp1_private.c, after the following patch is merged:\n\u003e https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/12988\n\nOkay.\n\n\u003e \n\u003e For the register number, you should use 21, and name it TAMP_BOOT_COUNTER_BACKUP_REG_ID\n\nI think the register 21 is currently being used as a boot counter. A separate hitherto unused register would be needed to pass the boot index.",
      "parentUuid": "2315c610_ccc0d109",
      "revId": "b59b64865d8c4b3441b1867bc1a061cad8e59c23",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}