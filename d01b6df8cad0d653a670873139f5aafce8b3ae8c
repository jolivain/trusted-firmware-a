{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e66f0c90_af40e10d",
        "filename": "docs/getting_started/docs-build.rst",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2022-11-03T17:41:48Z",
      "side": 1,
      "message": "I\u0027m not completely convinced that this clarifies the documentation more than it complicates it. The existing installation instructions do appear to already go over how to install the Python dependencies on line 40. I think unlike with binary dependencies like Python and PlantUML where we don\u0027t know what package manager the reader is using, we know exactly how to install Python dependencies, and we can integrate them into our installation instructions (like we\u0027ve done).\n\nI think adding additional information about the virtual environment and how to set one up for newbies is a good shout, but honestly I feel like the existing order looks less \"scary\" to people with no Python experience, who aren\u0027t going to know what \"these Python modules from this file are a prerequisite\" means.\n\nThat\u0027s my personal opinion, mind. Is this part of out-of-box testing?",
      "revId": "d01b6df8cad0d653a670873139f5aafce8b3ae8c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "595b88f6_88147ae1",
        "filename": "docs/getting_started/docs-build.rst",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1000883
      },
      "writtenOn": "2022-11-04T10:23:22Z",
      "side": 1,
      "message": "Yes, this is part of out of box testing, but not mine. This patch in particular tries to address feedback from 2.7 where they had issues with the python environment setup on several counts.\n\nThe install instructions on (the old) line 40 are kept, they just move down a bit. I\u0027ve tried to order it in two logical parts (which is consistent with the previous section): 1) here\u0027s what you need and some details on how/why and 2) here\u0027s a sample command on how to get it on Ubuntu. First part is to cover the differing package managers and the second one is just the \"get me going\" part. Strictly speaking, we don\u0027t even need the pip command we supply, and the feedback seemed to stem from them trying to install these from the system repositories. Even though we can\u0027t rely on apt being present, we give instructions for it and hope anyone using anything else is advanced enough to figure out the differences.\n\nIn my opinion, the problem with the existing instructions is that the paragraph on line 28 is really easy to get interpreted as not a dependency because it\u0027s not part of the bulleted list. It\u0027s also split with the paragraph on line 47. As a result what I think happens is people install python and plantUML, run the code snippet and watch things blow up. So I\u0027m afraid the scariness is unavoidable. I\u0027ve tried to make it a bit less verbose and to make it explicitly a dependency. I also cover the most likely corner cases that could result in failures (specifically the PATH and root privileges bit). Then I just hint at venvs and leave it there because we don\u0027t require it.\n\nPerhaps I can rephrase a little, something like:\ninstall them locally -\u003e install for the current user\ninstalled globally -\u003e installed system wide\nroot privileges -\u003e root privileges with sudo",
      "parentUuid": "e66f0c90_af40e10d",
      "revId": "d01b6df8cad0d653a670873139f5aafce8b3ae8c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49479b5d_1a353fe3",
        "filename": "docs/getting_started/docs-build.rst",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1000206
      },
      "writtenOn": "2022-11-04T16:32:18Z",
      "side": 1,
      "message": "I\u0027m a bit concerned that by putting this line in the prerequisites, rather than just not installing anything at all and getting the \"no such module error\" when it comes to running the make command, people are going to try and open up that file and install things in whatever way makes sense to them (e.g. through Apt), which is going to pollute their environment and make it impossible for them to keep in sync with the actual prerequisites.\n\nIt might perhaps be better to split it into clearly-marked section below the listed prerequisites to make it clear that it\u0027s necessary, and you can\u0027t just skip it.\n\nI think we need to give them an actual command to run as well - people like to skip ahead and copy-paste things. We can give them:\n\n    pip3 install --user -r docs/requirements.txt\n\nAnd at that point it doesn\u0027t matter too much if they\u0027ve neglected to actually read the documentation, because everything\u0027s installed to their local user, which is the best-case scenario outside of setting up a virtual environment (which they might not be familiar with).",
      "parentUuid": "595b88f6_88147ae1",
      "revId": "d01b6df8cad0d653a670873139f5aafce8b3ae8c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09acbc62_dd7a86bb",
        "filename": "docs/getting_started/docs-build.rst",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1000883
      },
      "writtenOn": "2022-11-08T11:38:28Z",
      "side": 1,
      "message": "The issue is that this exact scenario you describe happened to both me and the feedback we got on 2.7 with the current phrasing. Currently, skimming over the prerequisites prompts you to install python3 and plantuml. Then you run `make` and it blows up with a missing sphinx. You `apt install sphinx` or whatever and it now works. So at worst, my change maintains the status quo, but I think that it improves things because the initial list is expanded to include those dependencies. It\u0027s the next bullet so it cannot be missed. Then follows the skippable blurb of extra information that is not strictly necessary but will help with maintaining a clean environment. It is also indented to make it clear it\u0027s part of this bullet and not a global thing.\n\nThis is the clearly marked section. It IS a prerequisite. It\u0027s not optional, you can\u0027t skip it even if you wanted to.\n\nAs for the command, that\u0027s exactly what I do in my change. For the tl;dr crowd that goes to the end of the section and copies the sample commands, this exact command you suggest is there (on the new line 45).\n\nI agree with your last point, except that everything will be installed for the local user and will just work. At least on Ubuntu, pip\u0027s user install directory is not part of the $PATH. Pip emits a warning for this (what I try to explain on lines 27 to 29) but the same crowd that emphasises on the quick in quickstart will probably miss it and get the make error anyway. So the only foolproof way to be sure they installed the modules is giving them `sudo pip install`. Everything else is sadly advanced usage which I give in the blurb. And for the people who end up with a newer version of sphinx despite all of this, the previous patch in this series makes sure it at least builds.",
      "parentUuid": "49479b5d_1a353fe3",
      "revId": "d01b6df8cad0d653a670873139f5aafce8b3ae8c",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}