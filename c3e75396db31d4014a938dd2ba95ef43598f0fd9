{
  "comments": [
    {
      "key": {
        "uuid": "b3da9b1d_84eb0262",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2020-05-11T07:13:15Z",
      "side": 1,
      "message": "I would suggest to add this line to give credit to Matteo:\n\n Reported-By: Matteo Zini \u003cmatteozini96@gmail.com\u003e\n\nunless Matteo doesn\u0027t want to, of course.",
      "revId": "c3e75396db31d4014a938dd2ba95ef43598f0fd9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3289cdbb_573bbe86",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1000105
      },
      "writtenOn": "2020-05-11T12:17:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b3da9b1d_84eb0262",
      "revId": "c3e75396db31d4014a938dd2ba95ef43598f0fd9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c04ce987_fe5db9f1",
        "filename": "include/arch/aarch64/arch_features.h",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2020-05-11T07:13:15Z",
      "side": 1,
      "message": "If I am not mistaken, MPAM is available from Armv8.2 onwards.",
      "range": {
        "startLine": 43,
        "startChar": 22,
        "endLine": 43,
        "endChar": 29
      },
      "revId": "c3e75396db31d4014a938dd2ba95ef43598f0fd9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8c9ba72_ba18462e",
        "filename": "include/arch/aarch64/arch_features.h",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1000105
      },
      "writtenOn": "2020-05-11T12:17:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c04ce987_fe5db9f1",
      "range": {
        "startLine": 43,
        "startChar": 22,
        "endLine": 43,
        "endChar": 29
      },
      "revId": "c3e75396db31d4014a938dd2ba95ef43598f0fd9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c3b342d6_2bc4172d",
        "filename": "include/arch/aarch64/arch_features.h",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2020-05-11T07:06:50Z",
      "side": 1,
      "message": "Should this rather be \u003d\u003d 1U like above and below?\nValues other than 0 and 1 are reserved.",
      "range": {
        "startLine": 46,
        "startChar": 25,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "c3e75396db31d4014a938dd2ba95ef43598f0fd9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b86afc81_b4df617f",
        "filename": "include/arch/aarch64/arch_features.h",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2020-05-11T07:13:15Z",
      "side": 1,
      "message": "The Arm documentation says that the MPAM field of the ID_AA64PFR0_EL1 register can have 2 values:\n* 0b0000: MPAM is not implemented.\n* 0b0001: MPAM is implemented.\n\nAll other values are reserved. Therefore, I think it would be more accurate to inverse the condition, as follows:\n\n return ((read_id_aa64pfr0_el1() \u003e\u003e ID_AA64PFR0_MPAM_SHIFT) \u0026\n\t\tID_AA64PFR0_MPAM_MASK) \u003d\u003d 1;",
      "range": {
        "startLine": 45,
        "startChar": 8,
        "endLine": 46,
        "endChar": 31
      },
      "revId": "c3e75396db31d4014a938dd2ba95ef43598f0fd9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7c6b283_ddbd9e98",
        "filename": "include/arch/aarch64/arch_features.h",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2020-05-11T08:24:57Z",
      "side": 1,
      "message": "Detecting MPAM availability seems a bit more complex than I originally thought, looking at section 1.5.1 in doc [1]. It seems like we need not only to read ID_AA64PRF0_EL1.MPAM but also ID_AA64PRF1_EL1.MPAM_frac. And it seems that the values queried from these registers mean different things depending on whether you are on Armv8.0, v8.2 or v8.4.\n\nI don\u0027t see any such logic in the patch, I guess this needs revisiting?\n\n[1] https://static.docs.arm.com/ddi0598/ba/DDI0598B_a_MPAM_supp_armv8ba.pdf?_ga\u003d2.2531184.1376226271.1589179713-1985220966.1581334126",
      "parentUuid": "b86afc81_b4df617f",
      "range": {
        "startLine": 45,
        "startChar": 8,
        "endLine": 46,
        "endChar": 31
      },
      "revId": "c3e75396db31d4014a938dd2ba95ef43598f0fd9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5444019c_8a1ce16c",
        "filename": "include/arch/aarch64/arch_features.h",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1000105
      },
      "writtenOn": "2020-05-11T12:17:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c7c6b283_ddbd9e98",
      "range": {
        "startLine": 45,
        "startChar": 8,
        "endLine": 46,
        "endChar": 31
      },
      "revId": "c3e75396db31d4014a938dd2ba95ef43598f0fd9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "311f41de_6fba0602",
        "filename": "include/arch/aarch64/arch_features.h",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1000105
      },
      "writtenOn": "2020-05-11T12:17:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c3b342d6_2bc4172d",
      "range": {
        "startLine": 46,
        "startChar": 25,
        "endLine": 46,
        "endChar": 30
      },
      "revId": "c3e75396db31d4014a938dd2ba95ef43598f0fd9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}