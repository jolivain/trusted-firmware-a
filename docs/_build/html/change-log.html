

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Change Log &amp; Release Notes &mdash; Trusted Firmware-A  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Change Log for Upcoming Release" href="change-log-upcoming.html" />
    <link rel="prev" title="1. TF-A CMake Build System Proposal" href="design_documents/cmake_framework.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Trusted Firmware-A
          

          
            
            <img src="_static/TrustedFirmware-Logo_standard-white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="about/index.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about/features.html">1. Feature Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="about/features.html#current-features">1.1. Current features</a></li>
<li class="toctree-l3"><a class="reference internal" href="about/features.html#still-to-come">1.2. Still to come</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="about/release-information.html">2. Release Processes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="about/release-information.html#project-release-cadence">2.1. Project Release Cadence</a><ul>
<li class="toctree-l4"><a class="reference internal" href="about/release-information.html#upcoming-releases">2.1.1. Upcoming Releases</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="about/release-information.html#removal-of-deprecated-interfaces">2.2. Removal of Deprecated Interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="about/maintainers.html">3. Project Maintenance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="about/maintainers.html#maintainers">3.1. Maintainers</a></li>
<li class="toctree-l3"><a class="reference internal" href="about/maintainers.html#code-owners">3.2. Code owners</a><ul>
<li class="toctree-l4"><a class="reference internal" href="about/maintainers.html#core-code">3.2.1. Core Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="about/maintainers.html#drivers-libraries-and-framework-code">3.2.2. Drivers, Libraries and Framework Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="about/maintainers.html#platform-ports">3.2.3. Platform Ports</a></li>
<li class="toctree-l4"><a class="reference internal" href="about/maintainers.html#secure-payloads-and-dispatchers">3.2.4. Secure Payloads and Dispatchers</a></li>
<li class="toctree-l4"><a class="reference internal" href="about/maintainers.html#tools">3.2.5. Tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="about/contact.html">4. Support &amp; Contact</a><ul>
<li class="toctree-l3"><a class="reference internal" href="about/contact.html#mailing-lists">4.1. Mailing Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="about/contact.html#open-tech-forum-call">4.2. Open Tech Forum Call</a></li>
<li class="toctree-l3"><a class="reference internal" href="about/contact.html#issue-tracker">4.3. Issue Tracker</a></li>
<li class="toctree-l3"><a class="reference internal" href="about/contact.html#arm-licensees">4.4. Arm Licensees</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="about/acknowledgements.html">5. Contributor Acknowledgements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started/prerequisites.html">1. Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/prerequisites.html#build-host">1.1. Build Host</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/prerequisites.html#toolchain">1.2. Toolchain</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/prerequisites.html#software-and-libraries">1.3. Software and Libraries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/prerequisites.html#package-installation-linux">1.3.1. Package Installation (Linux)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/prerequisites.html#supporting-files">1.4. Supporting Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/prerequisites.html#getting-the-tf-a-source">1.5. Getting the TF-A Source</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/docs-build.html">2. Building Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/docs-build.html#prerequisites">2.1. Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/docs-build.html#building-rendered-documentation">2.2. Building rendered documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/docs-build.html#building-rendered-documentation-from-a-container">2.3. Building rendered documentation from a container</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/tools-build.html">3. Building Supporting Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/tools-build.html#building-and-using-the-fip-tool">3.1. Building and using the FIP tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/tools-build.html#building-the-certificate-generation-tool">3.2. Building the Certificate Generation Tool</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/tools-build.html#building-the-firmware-encryption-tool">3.2.1. Building the Firmware Encryption Tool</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/initial-build.html">4. Performing an Initial Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/build-options.html">5. Build Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/build-options.html#common-build-options">5.1. Common build options</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/build-options.html#gicv3-driver-options">5.2. GICv3 driver options</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/build-options.html#debugging-options">5.3. Debugging options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/image-terminology.html">6. Image Terminology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/image-terminology.html#general-notes">6.1. General Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/image-terminology.html#trusted-firmware-images">6.2. Trusted Firmware Images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#ap-boot-rom-ap-bl1">6.2.1. AP Boot ROM: <code class="docutils literal notranslate"><span class="pre">AP_BL1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#ap-ram-firmware-ap-bl2">6.2.2. AP RAM Firmware: <code class="docutils literal notranslate"><span class="pre">AP_BL2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#el3-runtime-firmware-ap-bl31">6.2.3. EL3 Runtime Firmware: <code class="docutils literal notranslate"><span class="pre">AP_BL31</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#secure-el1-payload-sp-ap-bl32">6.2.4. Secure-EL1 Payload (SP): <code class="docutils literal notranslate"><span class="pre">AP_BL32</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#ap-normal-world-firmware-ap-bl33">6.2.5. AP Normal World Firmware: <code class="docutils literal notranslate"><span class="pre">AP_BL33</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#other-ap-3rd-level-images-ap-bl3-xxx">6.2.6. Other AP 3rd level images: <code class="docutils literal notranslate"><span class="pre">AP_BL3_XXX</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#scp-boot-rom-scp-bl1-previously-bl0">6.2.7. SCP Boot ROM: <code class="docutils literal notranslate"><span class="pre">SCP_BL1</span></code> (previously <code class="docutils literal notranslate"><span class="pre">BL0</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#scp-ram-firmware-scp-bl2-previously-bl3-0">6.2.8. SCP RAM Firmware: <code class="docutils literal notranslate"><span class="pre">SCP_BL2</span></code> (previously <code class="docutils literal notranslate"><span class="pre">BL3-0</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/image-terminology.html#firmware-update-fwu-images">6.3. Firmware Update (FWU) Images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#ap-firmware-update-boot-rom-ap-ns-bl1u">6.3.1. AP Firmware Update Boot ROM: <code class="docutils literal notranslate"><span class="pre">AP_NS_BL1U</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#ap-firmware-update-config-ap-bl2u">6.3.2. AP Firmware Update Config: <code class="docutils literal notranslate"><span class="pre">AP_BL2U</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#scp-firmware-update-config-scp-bl2u-previously-bl2-u0">6.3.3. SCP Firmware Update Config: <code class="docutils literal notranslate"><span class="pre">SCP_BL2U</span></code> (previously <code class="docutils literal notranslate"><span class="pre">BL2-U0</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#ap-firmware-updater-ap-ns-bl2u-previously-bl3-u">6.3.4. AP Firmware Updater: <code class="docutils literal notranslate"><span class="pre">AP_NS_BL2U</span></code> (previously <code class="docutils literal notranslate"><span class="pre">BL3-U</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/image-terminology.html#other-processor-firmware-images">6.4. Other Processor Firmware Images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#mcp-boot-rom-mcp-bl1">6.4.1. MCP Boot ROM: <code class="docutils literal notranslate"><span class="pre">MCP_BL1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/image-terminology.html#mcp-ram-firmware-mcp-bl2">6.4.2. MCP RAM Firmware: <code class="docutils literal notranslate"><span class="pre">MCP_BL2</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/porting-guide.html">7. Porting Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#introduction">7.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#common-modifications">7.2. Common modifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#common-mandatory-modifications">7.3. Common mandatory modifications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#file-platform-def-h-mandatory">7.3.1. File : platform_def.h [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#file-plat-macros-s-mandatory">7.3.2. File : plat_macros.S [mandatory]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#handling-reset">7.4. Handling Reset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-my-entrypoint-mandatory-when-programmable-reset-address-0">7.4.1. Function : plat_get_my_entrypoint() [mandatory when PROGRAMMABLE_RESET_ADDRESS == 0]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-secondary-cold-boot-setup-mandatory-when-cold-boot-single-cpu-0">7.4.2. Function : plat_secondary_cold_boot_setup() [mandatory when COLD_BOOT_SINGLE_CPU == 0]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-is-my-cpu-primary-mandatory-when-cold-boot-single-cpu-0">7.4.3. Function : plat_is_my_cpu_primary() [mandatory when COLD_BOOT_SINGLE_CPU == 0]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-platform-mem-init-mandatory">7.4.4. Function : platform_mem_init() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-rotpk-info">7.4.5. Function: plat_get_rotpk_info()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-nv-ctr">7.4.6. Function: plat_get_nv_ctr()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-set-nv-ctr">7.4.7. Function: plat_set_nv_ctr()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-set-nv-ctr2">7.4.8. Function: plat_set_nv_ctr2()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#common-mandatory-function-modifications">7.5. Common mandatory function modifications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-my-core-pos">7.5.1. Function : plat_my_core_pos()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-core-pos-by-mpidr">7.5.2. Function : plat_core_pos_by_mpidr()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-mbedtls-heap-when-trusted-board-boot-1">7.5.3. Function : plat_get_mbedtls_heap() [when TRUSTED_BOARD_BOOT == 1]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-enc-key-info-when-fw-enc-status-0-or-1">7.5.4. Function : plat_get_enc_key_info() [when FW_ENC_STATUS == 0 or 1]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#common-optional-modifications">7.6. Common optional modifications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-set-my-stack">7.6.1. Function : plat_set_my_stack()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-my-stack">7.6.2. Function : plat_get_my_stack()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-report-exception">7.6.3. Function : plat_report_exception()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-reset-handler">7.6.4. Function : plat_reset_handler()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-disable-acp">7.6.5. Function : plat_disable_acp()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-error-handler">7.6.6. Function : plat_error_handler()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-panic-handler">7.6.7. Function : plat_panic_handler()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-bl-image-load-info">7.6.8. Function : plat_get_bl_image_load_info()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-next-bl-params">7.6.9. Function : plat_get_next_bl_params()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-stack-protector-canary">7.6.10. Function : plat_get_stack_protector_canary()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-flush-next-bl-params">7.6.11. Function : plat_flush_next_bl_params()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-log-get-prefix">7.6.12. Function : plat_log_get_prefix()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-soc-version">7.6.13. Function : plat_get_soc_version()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-soc-revision">7.6.14. Function : plat_get_soc_revision()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-is-smccc-feature-available">7.6.15. Function : plat_is_smccc_feature_available()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#modifications-specific-to-a-boot-loader-stage">7.7. Modifications specific to a Boot Loader stage</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#boot-loader-stage-1-bl1">7.8. Boot Loader Stage 1 (BL1)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-early-platform-setup-mandatory">7.8.1. Function : bl1_early_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-plat-arch-setup-mandatory">7.8.2. Function : bl1_plat_arch_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-platform-setup-mandatory">7.8.3. Function : bl1_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-plat-sec-mem-layout-mandatory">7.8.4. Function : bl1_plat_sec_mem_layout() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-plat-prepare-exit-optional">7.8.5. Function : bl1_plat_prepare_exit() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-plat-set-ep-info-optional">7.8.6. Function : bl1_plat_set_ep_info() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-plat-get-next-image-id-optional">7.8.7. Function : bl1_plat_get_next_image_id() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-plat-get-image-desc-optional">7.8.8. Function : bl1_plat_get_image_desc() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-plat-handle-pre-image-load-optional">7.8.9. Function : bl1_plat_handle_pre_image_load() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-plat-handle-post-image-load-optional">7.8.10. Function : bl1_plat_handle_post_image_load() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-plat-fwu-done-optional">7.8.11. Function : bl1_plat_fwu_done() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl1-plat-mem-check-mandatory">7.8.12. Function : bl1_plat_mem_check() [mandatory]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#boot-loader-stage-2-bl2">7.9. Boot Loader Stage 2 (BL2)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2-early-platform-setup2-mandatory">7.9.1. Function : bl2_early_platform_setup2() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2-plat-arch-setup-mandatory">7.9.2. Function : bl2_plat_arch_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2-platform-setup-mandatory">7.9.3. Function : bl2_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2-plat-handle-pre-image-load-optional">7.9.4. Function : bl2_plat_handle_pre_image_load() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2-plat-handle-post-image-load-optional">7.9.5. Function : bl2_plat_handle_post_image_load() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2-plat-preload-setup-optional">7.9.6. Function : bl2_plat_preload_setup [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-try-next-boot-source-optional">7.9.7. Function : plat_try_next_boot_source() [optional]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#boot-loader-stage-2-bl2-at-el3">7.10. Boot Loader Stage 2 (BL2) at EL3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2-el3-early-platform-setup-mandatory">7.10.1. Function : bl2_el3_early_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2-el3-plat-arch-setup-mandatory">7.10.2. Function : bl2_el3_plat_arch_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2-el3-plat-prepare-exit-optional">7.10.3. Function : bl2_el3_plat_prepare_exit() [optional]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#fwu-boot-loader-stage-2-bl2u">7.11. FWU Boot Loader Stage 2 (BL2U)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2u-early-platform-setup-mandatory">7.11.1. Function : bl2u_early_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2u-plat-arch-setup-mandatory">7.11.2. Function : bl2u_plat_arch_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2u-platform-setup-mandatory">7.11.3. Function : bl2u_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl2u-plat-handle-scp-bl2u-optional">7.11.4. Function : bl2u_plat_handle_scp_bl2u() [optional]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#boot-loader-stage-3-1-bl31">7.12. Boot Loader Stage 3-1 (BL31)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl31-early-platform-setup2-mandatory">7.12.1. Function : bl31_early_platform_setup2() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl31-plat-arch-setup-mandatory">7.12.2. Function : bl31_plat_arch_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl31-platform-setup-mandatory">7.12.3. Function : bl31_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl31-plat-runtime-setup-optional">7.12.4. Function : bl31_plat_runtime_setup() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl31-plat-get-next-image-ep-info-mandatory">7.12.5. Function : bl31_plat_get_next_image_ep_info() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-bl31-plat-enable-mmu-optional">7.12.6. Function : bl31_plat_enable_mmu [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-init-apkey-optional">7.12.7. Function : plat_init_apkey [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-syscnt-freq2-mandatory">7.12.8. Function : plat_get_syscnt_freq2() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-arm-set-twedel-scr-el3-optional">7.12.9. Function : plat_arm_set_twedel_scr_el3() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#define-plat-percpu-bakery-lock-size-optional">7.12.10. #define : PLAT_PERCPU_BAKERY_LOCK_SIZE [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#sdei-porting-requirements">7.12.11. SDEI porting requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#trng-porting-requirements">7.12.12. TRNG porting requirements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#power-state-coordination-interface-in-bl31">7.13. Power State Coordination Interface (in BL31)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-psci-stat-accounting-start-optional">7.13.1. Function : plat_psci_stat_accounting_start() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-psci-stat-accounting-stop-optional">7.13.2. Function : plat_psci_stat_accounting_stop() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-psci-stat-get-residency-optional">7.13.3. Function : plat_psci_stat_get_residency() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-target-pwr-state-optional">7.13.4. Function : plat_get_target_pwr_state() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-get-power-domain-tree-desc-mandatory">7.13.5. Function : plat_get_power_domain_tree_desc() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-setup-psci-ops-mandatory">7.13.6. Function : plat_setup_psci_ops() [mandatory]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#interrupt-management-framework-in-bl31">7.14. Interrupt Management framework (in BL31)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-interrupt-type-to-line-mandatory">7.14.1. Function : plat_interrupt_type_to_line() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-ic-get-pending-interrupt-type-mandatory">7.14.2. Function : plat_ic_get_pending_interrupt_type() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-ic-get-pending-interrupt-id-mandatory">7.14.3. Function : plat_ic_get_pending_interrupt_id() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-ic-acknowledge-interrupt-mandatory">7.14.4. Function : plat_ic_acknowledge_interrupt() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-ic-end-of-interrupt-mandatory">7.14.5. Function : plat_ic_end_of_interrupt() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-ic-get-interrupt-type-mandatory">7.14.6. Function : plat_ic_get_interrupt_type() [mandatory]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#crash-reporting-mechanism-in-bl31">7.15. Crash Reporting mechanism (in BL31)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-crash-console-init-mandatory">7.15.1. Function : plat_crash_console_init [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-crash-console-putc-mandatory">7.15.2. Function : plat_crash_console_putc [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-crash-console-flush-mandatory">7.15.3. Function : plat_crash_console_flush [mandatory]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#external-abort-handling-and-ras-support">7.16. External Abort handling and RAS Support</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-ea-handler">7.16.1. Function : plat_ea_handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-handle-uncontainable-ea">7.16.2. Function : plat_handle_uncontainable_ea</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-handle-double-fault">7.16.3. Function : plat_handle_double_fault</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/porting-guide.html#function-plat-handle-el3-ea">7.16.4. Function : plat_handle_el3_ea</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#build-flags">7.17. Build flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#platform-include-paths">7.18. Platform include paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#c-library">7.19. C Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/porting-guide.html#storage-abstraction-layer">7.20. Storage abstraction layer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html">8. PSCI Library Integration guide for Armv8-A AArch32 systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#generic-call-sequence-for-psci-library-interface-aarch32">8.1. Generic call sequence for PSCI Library interface (AArch32)</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#psci-cpu-context-management">8.2. PSCI CPU context management</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#psci-library-interface">8.3. PSCI Library Interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#interface-psci-setup">8.3.1. Interface : psci_setup()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#interface-psci-prepare-next-non-secure-ctx">8.3.2. Interface : psci_prepare_next_non_secure_ctx()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#interface-psci-register-spd-pm-hook">8.3.3. Interface : psci_register_spd_pm_hook()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#interface-psci-smc-handler">8.3.4. Interface : psci_smc_handler()</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#interface-psci-warmboot-entrypoint">8.3.5. Interface : psci_warmboot_entrypoint()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#el3-runtime-software-dependencies">8.4. EL3 Runtime Software dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#general-dependencies">8.4.1. General dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#cpu-context-management-api">8.4.2. CPU Context management API</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#platform-api">8.4.3. Platform API</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#secure-payload-power-management-callback">8.4.4. Secure payload power management callback</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/psci-lib-integration-guide.html#cpu-operations">8.4.5. CPU operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/rt-svc-writers-guide.html">9. EL3 Runtime Service Writer’s Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/rt-svc-writers-guide.html#introduction">9.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/rt-svc-writers-guide.html#owning-entities-call-types-and-function-ids">9.2. Owning Entities, Call Types and Function IDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/rt-svc-writers-guide.html#getting-started">9.3. Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/rt-svc-writers-guide.html#registering-a-runtime-service">9.4. Registering a runtime service</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/rt-svc-writers-guide.html#initializing-a-runtime-service">9.5. Initializing a runtime service</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/rt-svc-writers-guide.html#handling-runtime-service-requests">9.6. Handling runtime service requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/rt-svc-writers-guide.html#services-that-contain-multiple-sub-services">9.7. Services that contain multiple sub-services</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/rt-svc-writers-guide.html#secure-el1-payload-dispatcher-service-spd">9.8. Secure-EL1 Payload Dispatcher service (SPD)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="process/index.html">Processes &amp; Policies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="process/security.html">1. Security Handling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/security.html#security-disclosures">1.1. Security Disclosures</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/security.html#found-a-security-issue">1.2. Found a Security Issue?</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/security.html#attribution">1.3. Attribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/security.html#security-advisories">1.4. Security Advisories</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/platform-compatibility-policy.html">2. Platform Compatibility Policy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/platform-compatibility-policy.html#introduction">2.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/platform-compatibility-policy.html#id1">2.2. Platform compatibility policy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/coding-style.html">3. Coding Style</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#file-encoding">3.1. File Encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#language">3.2. Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#c-language-standard">3.3. C Language Standard</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#misra-compliance">3.4. MISRA Compliance</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#indentation">3.5. Indentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#spacing">3.6. Spacing</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#line-length">3.7. Line Length</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#blank-lines">3.8. Blank Lines</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#braces">3.9. Braces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/coding-style.html#opening-brace-placement">3.9.1. Opening Brace Placement</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-style.html#conditional-statement-bodies">3.9.2. Conditional Statement Bodies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#naming">3.10. Naming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/coding-style.html#functions">3.10.1. Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-style.html#local-variables-and-parameters">3.10.2. Local Variables and Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-style.html#preprocessor-macros">3.10.3. Preprocessor Macros</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#function-attributes">3.11. Function Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#alignment">3.12. Alignment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/coding-style.html#switch-statement-alignment">3.12.1. Switch Statement Alignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-style.html#pointer-alignment">3.12.2. Pointer Alignment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#comments">3.13. Comments</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#headers-and-inclusion">3.14. Headers and inclusion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/coding-style.html#header-guards">3.14.1. Header guards</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-style.html#include-statement-ordering">3.14.2. Include statement ordering</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-style.html#include-statement-variants">3.14.3. Include statement variants</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-style.html#typedefs">3.15. Typedefs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/coding-style.html#avoid-anonymous-typedefs-of-structs-enums-in-headers">3.15.1. Avoid anonymous typedefs of structs/enums in headers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/coding-guidelines.html">4. Coding Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/coding-guidelines.html#automatic-editor-configuration">4.1. Automatic Editor Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-guidelines.html#automatic-compliance-checking">4.2. Automatic Compliance Checking</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/coding-guidelines.html#ignored-checkpatch-warnings">4.2.1. Ignored Checkpatch Warnings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-guidelines.html#performance-considerations">4.3. Performance considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/coding-guidelines.html#avoid-printf-and-use-logging-macros">4.3.1. Avoid printf and use logging macros</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-guidelines.html#use-const-data-where-possible">4.3.2. Use const data where possible</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-guidelines.html#libc-functions-that-are-banned-or-to-be-used-with-caution">4.4. Libc functions that are banned or to be used with caution</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-guidelines.html#error-handling-and-robustness">4.5. Error handling and robustness</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/coding-guidelines.html#using-cassert-to-check-for-compile-time-data-errors">4.5.1. Using CASSERT to check for compile time data errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-guidelines.html#using-assert-to-check-for-programming-errors">4.5.2. Using assert() to check for programming errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-guidelines.html#handling-integration-errors">4.5.3. Handling integration errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-guidelines.html#handling-recoverable-errors">4.5.4. Handling recoverable errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-guidelines.html#handling-unrecoverable-errors">4.5.5. Handling unrecoverable errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/coding-guidelines.html#handling-critical-unresponsiveness">4.5.6. Handling critical unresponsiveness</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-guidelines.html#use-of-built-in-c-and-libc-data-types">4.6. Use of built-in <em>C</em> and <em>libc</em> data types</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/coding-guidelines.html#favor-c-language-over-assembly-language">4.7. Favor C language over assembly language</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/contributing.html">5. Contributor’s Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/contributing.html#getting-started">5.1. Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/contributing.html#making-changes">5.2. Making Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/contributing.html#submitting-changes">5.3. Submitting Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/contributing.html#binary-components">5.4. Binary Components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/code-review-guidelines.html">6. Code Review Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/code-review-guidelines.html#why-do-we-do-code-reviews">6.1. Why do we do code reviews?</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/code-review-guidelines.html#good-practices">6.2. Good practices</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/code-review-guidelines.html#guidelines-for-patch-contributors">6.3. Guidelines for patch contributors</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/code-review-guidelines.html#guidelines-for-all-reviewers">6.4. Guidelines for all reviewers</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/code-review-guidelines.html#guidelines-for-code-owners">6.5. Guidelines for code owners</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/code-review-guidelines.html#guidelines-for-maintainers">6.6. Guidelines for maintainers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/faq.html">7. Frequently-Asked Questions (FAQ)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/faq.html#how-do-i-update-my-changes">7.1. How do I update my changes?</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/faq.html#how-long-will-my-changes-take-to-merge-into-integration">7.2. How long will my changes take to merge into <code class="docutils literal notranslate"><span class="pre">integration</span></code>?</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/faq.html#how-long-will-it-take-for-my-changes-to-go-from-integration-to-master">7.3. How long will it take for my changes to go from <code class="docutils literal notranslate"><span class="pre">integration</span></code> to <code class="docutils literal notranslate"><span class="pre">master</span></code>?</a></li>
<li class="toctree-l3"><a class="reference internal" href="process/faq.html#what-are-these-strange-comments-in-my-changes">7.4. What are these strange comments in my changes?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="process/security-hardening.html">8. Secure Development Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="process/security-hardening.html#security-considerations">8.1. Security considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="process/security-hardening.html#do-not-leak-secrets-to-the-normal-world">8.1.1. Do not leak secrets to the normal world</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/security-hardening.html#handling-denial-of-service-attacks">8.1.2. Handling Denial of Service attacks</a></li>
<li class="toctree-l4"><a class="reference internal" href="process/security-hardening.html#preventing-secure-world-timing-information-leakage-via-pmu-counters">8.1.3. Preventing Secure-world timing information leakage via PMU counters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="process/security-hardening.html#build-options">8.2. Build options</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="components/index.html">Components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="components/spd/index.html">1. Secure Payload Dispatcher (SPD)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/spd/optee-dispatcher.html">1.1. OP-TEE Dispatcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/spd/tlk-dispatcher.html">1.2. Trusted Little Kernel (TLK) Dispatcher</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/spd/tlk-dispatcher.html#trusted-little-kernel-tlk">1.2.1. Trusted Little Kernel (TLK)</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/spd/tlk-dispatcher.html#build-tlk">1.2.2. Build TLK</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/spd/tlk-dispatcher.html#input-parameters-to-tlk">1.2.3. Input parameters to TLK</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/spd/trusty-dispatcher.html">1.3. Trusty Dispatcher</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/spd/trusty-dispatcher.html#boot-parameters">1.3.1. Boot parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/spd/trusty-dispatcher.html#supported-platforms">1.3.2. Supported platforms</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/arm-sip-service.html">2. Arm SiP Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/arm-sip-service.html#performance-measurement-framework-pmf">2.1. Performance Measurement Framework (PMF)</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/arm-sip-service.html#execution-state-switching-service">2.2. Execution State Switching service</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/arm-sip-service.html#arm-sip-svc-exe-state-switch">2.2.1. <code class="docutils literal notranslate"><span class="pre">ARM_SIP_SVC_EXE_STATE_SWITCH</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/arm-sip-service.html#debugfs-interface">2.3. DebugFS interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/arm-sip-service.html#mount">2.3.1. MOUNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/arm-sip-service.html#open">2.3.2. OPEN</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/arm-sip-service.html#close">2.3.3. CLOSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/arm-sip-service.html#read">2.3.4. READ</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/arm-sip-service.html#seek">2.3.5. SEEK</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/arm-sip-service.html#bind">2.3.6. BIND</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/arm-sip-service.html#stat">2.3.7. STAT</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/arm-sip-service.html#init">2.3.8. INIT</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/arm-sip-service.html#version">2.3.9. VERSION</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/debugfs-design.html">3. Debug FS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/debugfs-design.html#overview">3.1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/debugfs-design.html#virtual-filesystem">3.2. Virtual filesystem</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/debugfs-design.html#namespace">3.2.1. Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/debugfs-design.html#p-interface">3.2.2. 9p interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/debugfs-design.html#smc-interface">3.3. SMC interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/debugfs-design.html#security-considerations">3.4. Security considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/debugfs-design.html#limitations">3.5. Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/debugfs-design.html#applications">3.6. Applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/exception-handling.html">4. Exception Handling Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#introduction">4.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#the-role-of-exception-handling-framework">4.2. The role of Exception Handling Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#interrupt-handling">4.3. Interrupt handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/exception-handling.html#partitioning-priority-levels">4.3.1. Partitioning priority levels</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/exception-handling.html#programming-priority">4.3.2. Programming priority</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#registering-handler">4.4. Registering handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#interrupt-handling-example">4.5. Interrupt handling example</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#activating-and-deactivating-priorities">4.6. Activating and Deactivating priorities</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#transition-of-priority-levels">4.7. Transition of priority levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#effect-on-smc-calls">4.8. Effect on SMC calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#build-time-flow">4.9. Build-time flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#run-time-flow">4.10. Run-time flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#interrupt-prioritisation-considerations">4.11. Interrupt Prioritisation Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/exception-handling.html#limitations">4.12. Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/fconf/index.html">5. Firmware Configuration Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/fconf/index.html#introduction">5.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/fconf/index.html#accessing-properties">5.2. Accessing properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/fconf/index.html#defining-properties">5.3. Defining properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/fconf/index.html#loading-the-property-device-tree">5.4. Loading the property device tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/fconf/index.html#populating-the-properties">5.5. Populating the properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/fconf/index.html#namespace-guidance">5.6. Namespace guidance</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/fconf/index.html#properties-binding-information">5.7. Properties binding information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/fconf/fconf_properties.html">5.7.1. DTB binding for FCONF properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/firmware-update.html">6. Firmware Update (FWU)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/firmware-update.html#introduction">6.1. Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#scope">6.1.1. Scope</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/firmware-update.html#fwu-overview">6.2. FWU Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/firmware-update.html#image-identification">6.3. Image Identification</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/firmware-update.html#fwu-state-machine">6.4. FWU State Machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/firmware-update.html#bl1-smc-interface">6.5. BL1 SMC Interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#bl1-smc-call-count">6.5.1. BL1_SMC_CALL_COUNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#bl1-smc-uid">6.5.2. BL1_SMC_UID</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#bl1-smc-version">6.5.3. BL1_SMC_VERSION</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#bl1-smc-run-image">6.5.4. BL1_SMC_RUN_IMAGE</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#fwu-smc-image-copy">6.5.5. FWU_SMC_IMAGE_COPY</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#fwu-smc-image-auth">6.5.6. FWU_SMC_IMAGE_AUTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#fwu-smc-image-execute">6.5.7. FWU_SMC_IMAGE_EXECUTE</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#fwu-smc-image-resume">6.5.8. FWU_SMC_IMAGE_RESUME</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#fwu-smc-sec-image-done">6.5.9. FWU_SMC_SEC_IMAGE_DONE</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#fwu-smc-update-done">6.5.10. FWU_SMC_UPDATE_DONE</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/firmware-update.html#fwu-smc-image-reset">6.5.11. FWU_SMC_IMAGE_RESET</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/measured_boot/index.html">7. Measured Boot Driver (MBD)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/measured_boot/index.html#properties-binding-information">7.1. Properties binding information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/measured_boot/event_log.html">7.1.1. DTB binding for Event Log properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/platform-interrupt-controller-API.html">8. Platform Interrupt Controller API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-unsigned-int-plat-ic-get-running-priority-void-optional">8.1. Function: unsigned int plat_ic_get_running_priority(void); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-int-plat-ic-is-spi-unsigned-int-id-optional">8.2. Function: int plat_ic_is_spi(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-int-plat-ic-is-ppi-unsigned-int-id-optional">8.3. Function: int plat_ic_is_ppi(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-int-plat-ic-is-sgi-unsigned-int-id-optional">8.4. Function: int plat_ic_is_sgi(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-unsigned-int-plat-ic-get-interrupt-active-unsigned-int-id-optional">8.5. Function: unsigned int plat_ic_get_interrupt_active(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-void-plat-ic-enable-interrupt-unsigned-int-id-optional">8.6. Function: void plat_ic_enable_interrupt(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-void-plat-ic-disable-interrupt-unsigned-int-id-optional">8.7. Function: void plat_ic_disable_interrupt(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-void-plat-ic-set-interrupt-priority-unsigned-int-id-unsigned-int-priority-optional">8.8. Function: void plat_ic_set_interrupt_priority(unsigned int id, unsigned int priority); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-int-plat-ic-has-interrupt-type-unsigned-int-type-optional">8.9. Function: int plat_ic_has_interrupt_type(unsigned int type); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-void-plat-ic-set-interrupt-type-unsigned-int-id-unsigned-int-type-optional">8.10. Function: void plat_ic_set_interrupt_type(unsigned int id, unsigned int type); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-void-plat-ic-raise-el3-sgi-int-sgi-num-u-register-t-target-optional">8.11. Function: void plat_ic_raise_el3_sgi(int sgi_num, u_register_t target); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-void-plat-ic-set-spi-routing-unsigned-int-id-unsigned-int-routing-mode-u-register-t-mpidr-optional">8.12. Function: void plat_ic_set_spi_routing(unsigned int id, unsigned int routing_mode, u_register_t mpidr); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-void-plat-ic-set-interrupt-pending-unsigned-int-id-optional">8.13. Function: void plat_ic_set_interrupt_pending(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-void-plat-ic-clear-interrupt-pending-unsigned-int-id-optional">8.14. Function: void plat_ic_clear_interrupt_pending(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-unsigned-int-plat-ic-set-priority-mask-unsigned-int-id-optional">8.15. Function: unsigned int plat_ic_set_priority_mask(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/platform-interrupt-controller-API.html#function-unsigned-int-plat-ic-get-interrupt-id-unsigned-int-raw-optional">8.16. Function: unsigned int plat_ic_get_interrupt_id(unsigned int raw); [optional]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/ras.html">9. Reliability, Availability, and Serviceability (RAS) Extensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/ras.html#overview">9.1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/ras.html#platform-apis">9.2. Platform APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/ras.html#registering-ras-error-records">9.3. Registering RAS error records</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/ras.html#standard-error-record-helpers">9.3.1. Standard Error Record helpers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/ras.html#registering-ras-interrupts">9.4. Registering RAS interrupts</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/ras.html#double-fault-handling">9.5. Double-fault handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/ras.html#engaging-the-ras-framework">9.6. Engaging the RAS framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/ras.html#interaction-with-exception-handling-framework">9.7. Interaction with Exception Handling Framework</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/romlib-design.html">10. Library at ROM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/romlib-design.html#introduction">10.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/romlib-design.html#index-file">10.2. Index file</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/romlib-design.html#wrapper-functions">10.3. Wrapper functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/romlib-design.html#script">10.4. Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/romlib-design.html#patching-of-functions-in-library-at-rom">10.5. Patching of functions in library at ROM</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/romlib-design.html#memory-impact">10.6. Memory impact</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/romlib-design.html#build-library-at-rom">10.7. Build library at ROM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/sdei.html">11. SDEI: Software Delegated Exception Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/sdei.html#introduction">11.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/sdei.html#defining-events">11.2. Defining events</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/sdei.html#event-flags">11.2.1. Event flags</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/sdei.html#event-definition-example">11.3. Event definition example</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/sdei.html#configuration-within-exception-handling-framework">11.4. Configuration within Exception Handling Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/sdei.html#determining-client-el">11.5. Determining client EL</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/sdei.html#explicit-dispatch-of-events">11.6. Explicit dispatch of events</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/sdei.html#conditions-for-event-dispatch">11.6.1. Conditions for event dispatch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/sdei.html#porting-requirements">11.7. Porting requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/sdei.html#note-on-writing-sdei-event-handlers">11.8. Note on writing SDEI event handlers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/secure-partition-manager.html">12. Secure Partition Manager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager.html#acronyms">12.1. Acronyms</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager.html#foreword">12.2. Foreword</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#terminology">12.2.1. Terminology</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#support-for-legacy-platforms">12.2.2. Support for legacy platforms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager.html#sample-reference-stack">12.3. Sample reference stack</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager.html#tf-a-build-options">12.4. TF-A build options</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager.html#boot-process">12.5. Boot process</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#loading-hafnium-and-secure-partitions-in-the-secure-world">12.5.1. Loading Hafnium and Secure Partitions in the secure world</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#booting-through-tf-a">12.5.2. Booting through TF-A</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager.html#hafnium-in-the-secure-world">12.6. Hafnium in the secure world</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#general-considerations">12.6.1. General considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#parsing-sp-partition-manifests">12.6.2. Parsing SP partition manifests</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#passing-boot-data-to-the-sp">12.6.3. Passing boot data to the SP</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#sp-boot-order">12.6.4. SP Boot order</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#boot-phases">12.6.5. Boot phases</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#mandatory-interfaces">12.6.6. Mandatory interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#direct-messaging">12.6.7. Direct messaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#memory-management">12.6.8. Memory management</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#interrupt-management">12.6.9. Interrupt management</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#power-management">12.6.10. Power management</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager.html#sp-notification">12.6.11. SP notification</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager.html#references">12.7. References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/secure-partition-manager-mm.html">13. Secure Partition Manager (MM)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager-mm.html#foreword">13.1. Foreword</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager-mm.html#background">13.2. Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager-mm.html#introduction">13.3. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager-mm.html#description">13.4. Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager-mm.html#building-tf-a-with-secure-partition-support">13.4.1. Building TF-A with Secure Partition support</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager-mm.html#describing-secure-partition-resources">13.4.2. Describing Secure Partition resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager-mm.html#accessing-secure-partition-services">13.4.3. Accessing Secure Partition services</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager-mm.html#exchanging-data-with-the-secure-partition">13.4.4. Exchanging data with the Secure Partition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/secure-partition-manager-mm.html#runtime-model-of-the-secure-partition">13.5. Runtime model of the Secure Partition</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager-mm.html#interface-with-spm">13.5.1. Interface with SPM</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager-mm.html#miscellaneous-interfaces">13.5.2. Miscellaneous interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager-mm.html#secure-partition-initialisation">13.5.3. Secure Partition Initialisation</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager-mm.html#runtime-event-delegation">13.5.4. Runtime Event Delegation</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager-mm.html#secure-partition-memory-management">13.5.5. Secure Partition Memory Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/secure-partition-manager-mm.html#error-codes">13.5.6. Error Codes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/psa-ffa-manifest-binding.html">14. PSA FF-A manifest binding to device tree</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/psa-ffa-manifest-binding.html#version-1-0">14.1. Version 1.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/psa-ffa-manifest-binding.html#partition-properties">14.1.1. Partition Properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/psa-ffa-manifest-binding.html#memory-regions">14.2. Memory Regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/psa-ffa-manifest-binding.html#device-regions">14.3. Device Regions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html">15. Translation (XLAT) Tables Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#about-version-1-and-version-2">15.1. About version 1 and version 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#design-concepts-and-interfaces">15.2. Design concepts and interfaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#mmap-regions">15.2.1. <cite>mmap</cite> regions</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#translation-context">15.2.2. Translation Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#static-and-dynamic-memory-regions">15.2.3. Static and dynamic memory regions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#library-apis">15.3. Library APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#library-limitations">15.4. Library limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#implementation-details">15.5. Implementation details</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#code-structure">15.5.1. Code structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#from-mmap-regions-to-translation-tables">15.5.2. From mmap regions to translation tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#the-memory-mapping-algorithm">15.5.3. The memory mapping algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="components/xlat-tables-lib-v2-design.html#tlb-maintenance-operations">15.5.4. TLB maintenance operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components/cot-binding.html">16. Chain of trust bindings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components/cot-binding.html#cot">16.1. cot</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/cot-binding.html#manifests-and-certificate-node-bindings-definition">16.2. Manifests and Certificate node bindings definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/cot-binding.html#images-and-image-node-bindings-definition">16.3. Images and Image node bindings definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/cot-binding.html#non-volatile-counter-node-binding-definition">16.4. non-volatile counter node binding definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="components/cot-binding.html#future-update-to-chain-of-trust-binding">16.5. Future update to chain of trust binding</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="design/index.html">System Design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="design/alt-boot-flows.html">1. Alternative Boot Flows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="design/alt-boot-flows.html#el3-payloads-alternative-boot-flow">1.1. EL3 payloads alternative boot flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/alt-boot-flows.html#booting-an-el3-payload">1.1.1. Booting an EL3 payload</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/alt-boot-flows.html#preloaded-bl33-alternative-boot-flow">1.2. Preloaded BL33 alternative boot flow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="design/auth-framework.html">2. Authentication Framework &amp; Chain of Trust</a><ul>
<li class="toctree-l3"><a class="reference internal" href="design/auth-framework.html#framework-design">2.1. Framework design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/auth-framework.html#chain-of-trust">2.1.1. Chain of Trust</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/auth-framework.html#image-types">2.1.2. Image types</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/auth-framework.html#component-responsibilities">2.1.3. Component responsibilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/auth-framework.html#authentication-methods">2.1.4. Authentication methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/auth-framework.html#specifying-a-chain-of-trust">2.2. Specifying a Chain of Trust</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/auth-framework.html#describing-the-image-parsing-methods">2.2.1. Describing the image parsing methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/auth-framework.html#describing-the-authentication-method-s">2.2.2. Describing the authentication method(s)</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/auth-framework.html#storing-authentication-parameters">2.2.3. Storing Authentication parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/auth-framework.html#describing-an-image-in-a-cot">2.2.4. Describing an image in a CoT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/auth-framework.html#implementation-example">2.3. Implementation example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/auth-framework.html#the-tbbr-cot">2.3.1. The TBBR CoT</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/auth-framework.html#the-image-parser-library">2.3.2. The image parser library</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/auth-framework.html#the-cryptographic-library">2.3.3. The cryptographic library</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="design/cpu-specific-build-macros.html">3. Arm CPU Specific Build Macros</a><ul>
<li class="toctree-l3"><a class="reference internal" href="design/cpu-specific-build-macros.html#security-vulnerability-workarounds">3.1. Security Vulnerability Workarounds</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/cpu-specific-build-macros.html#cpu-errata-workarounds">3.2. CPU Errata Workarounds</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/cpu-specific-build-macros.html#dsu-errata-workarounds">3.3. DSU Errata Workarounds</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/cpu-specific-build-macros.html#cpu-specific-optimizations">3.4. CPU Specific optimizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="design/firmware-design.html">4. Firmware Design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#cold-boot">4.1. Cold boot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#dynamic-configuration-during-cold-boot">4.1.1. Dynamic Configuration during cold boot</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#bl1">4.1.2. BL1</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#bl2">4.1.3. BL2</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#running-bl2-at-el3-execution-level">4.1.4. Running BL2 at EL3 execution level</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#aarch64-bl31">4.1.5. AArch64 BL31</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#using-alternative-trusted-boot-firmware-in-place-of-bl1-bl2-aarch64-only">4.1.6. Using alternative Trusted Boot Firmware in place of BL1 &amp; BL2 (AArch64 only)</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#aarch32-el3-runtime-software-entrypoint-interface">4.1.7. AArch32 EL3 Runtime Software entrypoint interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#el3-runtime-services-framework">4.2. EL3 runtime services framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#registration">4.2.1. Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#initialization">4.2.2. Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#handling-an-smc">4.2.3. Handling an SMC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#exception-handling-framework">4.3. Exception Handling Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#power-state-coordination-interface">4.4. Power State Coordination Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#secure-el1-payloads-and-dispatchers">4.5. Secure-EL1 Payloads and Dispatchers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#initializing-a-bl32-image">4.5.1. Initializing a BL32 Image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#crash-reporting-in-bl31">4.6. Crash Reporting in BL31</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#guidelines-for-reset-handlers">4.7. Guidelines for Reset Handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#configuring-secure-interrupts">4.8. Configuring secure interrupts</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#cpu-specific-operations-framework">4.9. CPU specific operations framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#cpu-specific-reset-handling">4.9.1. CPU specific Reset Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#cpu-specific-power-down-sequence">4.9.2. CPU specific power down sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#cpu-specific-register-reporting-during-crash">4.9.3. CPU specific register reporting during crash</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#cpu-errata-status-reporting">4.9.4. CPU errata status reporting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#memory-layout-of-bl-images">4.10. Memory layout of BL images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#linker-scripts-and-symbols">4.10.1. Linker scripts and symbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#how-to-choose-the-right-base-addresses-for-each-bootloader-stage-image">4.10.2. How to choose the right base addresses for each bootloader stage image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#firmware-image-package-fip">4.11. Firmware Image Package (FIP)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#firmware-image-package-layout">4.11.1. Firmware Image Package layout</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#firmware-image-package-creation-tool">4.11.2. Firmware Image Package creation tool</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#loading-from-a-firmware-image-package-fip">4.11.3. Loading from a Firmware Image Package (FIP)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#use-of-coherent-memory-in-tf-a">4.12. Use of coherent memory in TF-A</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#disabling-the-use-of-coherent-memory-in-tf-a">4.12.1. Disabling the use of coherent memory in TF-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#coherent-memory-usage-in-psci-implementation">4.12.2. Coherent memory usage in PSCI implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#bakery-lock-data">4.12.3. Bakery lock data</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#non-functional-impact-of-removing-coherent-memory">4.12.4. Non Functional Impact of removing coherent memory</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#isolating-code-and-read-only-data-on-separate-memory-pages">4.13. Isolating code and read-only data on separate memory pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#publish-and-subscribe-framework">4.14. Publish and Subscribe Framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#publish-and-subscribe-example">4.14.1. Publish and Subscribe Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#reclaiming-the-bl31-initialization-code">4.14.2. Reclaiming the BL31 initialization code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#performance-measurement-framework">4.15. Performance Measurement Framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#timestamp-identifier-format">4.15.1. Timestamp identifier format</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#registering-a-pmf-service">4.15.2. Registering a PMF service</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#capturing-a-timestamp">4.15.3. Capturing a timestamp</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#retrieving-a-timestamp">4.15.4. Retrieving a timestamp</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#pmf-code-structure">4.15.5. PMF code structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#armv8-a-architecture-extensions">4.16. Armv8-A Architecture Extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#armv8-1-a">4.16.1. Armv8.1-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#armv8-2-a">4.16.2. Armv8.2-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#armv8-3-a">4.16.3. Armv8.3-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#armv8-5-a">4.16.4. Armv8.5-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/firmware-design.html#armv7-a">4.16.5. Armv7-A</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/firmware-design.html#code-structure">4.17. Code Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="design/interrupt-framework-design.html">5. Interrupt Management Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="design/interrupt-framework-design.html#concepts">5.1. Concepts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#interrupt-types">5.1.1. Interrupt types</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#routing-model">5.1.2. Routing model</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#valid-routing-models">5.1.3. Valid routing models</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#mapping-of-interrupt-type-to-signal">5.1.4. Mapping of interrupt type to signal</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/interrupt-framework-design.html#assumptions-in-interrupt-management-framework">5.2. Assumptions in Interrupt Management Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/interrupt-framework-design.html#software-components">5.3. Software components</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/interrupt-framework-design.html#interrupt-registration">5.4. Interrupt registration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#el3-runtime-firmware">5.4.1. EL3 runtime firmware</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#secure-payload-dispatcher">5.4.2. Secure payload dispatcher</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#test-secure-payload-dispatcher-behavior">5.4.3. Test secure payload dispatcher behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#secure-payload">5.4.4. Secure payload</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#test-secure-payload-behavior">5.4.5. Test secure payload behavior</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/interrupt-framework-design.html#interrupt-handling">5.5. Interrupt handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#id4">5.5.1. EL3 runtime firmware</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#id5">5.5.2. Secure payload dispatcher</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#secure-payload-interrupt-handling">5.5.3. Secure payload interrupt handling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design/interrupt-framework-design.html#other-considerations">5.6. Other considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/interrupt-framework-design.html#implication-of-preempted-smc-on-non-secure-software">5.6.1. Implication of preempted SMC on Non-Secure Software</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="design/psci-pd-tree.html">6. PSCI Power Domain Tree Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="design/psci-pd-tree.html#requirements">6.1. Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/psci-pd-tree.html#design">6.2. Design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/psci-pd-tree.html#describing-a-power-domain-tree">6.2.1. Describing a power domain tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/psci-pd-tree.html#removing-assumptions-about-mpidrs-used-in-a-platform">6.2.2. Removing assumptions about MPIDRs used in a platform</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/psci-pd-tree.html#traversing-through-and-distinguishing-between-core-and-non-core-power-domains">6.2.3. Traversing through and distinguishing between core and non-core power domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/psci-pd-tree.html#populating-the-power-domain-tree">6.2.4. Populating the power domain tree</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="design/reset-design.html">7. CPU Reset</a><ul>
<li class="toctree-l3"><a class="reference internal" href="design/reset-design.html#general-reset-code-flow">7.1. General reset code flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/reset-design.html#programmable-cpu-reset-address">7.2. Programmable CPU reset address</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/reset-design.html#cold-boot-on-a-single-cpu">7.3. Cold boot on a single CPU</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/reset-design.html#programmable-cpu-reset-address-cold-boot-on-a-single-cpu">7.4. Programmable CPU reset address, Cold boot on a single CPU</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/reset-design.html#using-bl31-entrypoint-as-the-reset-address">7.5. Using BL31 entrypoint as the reset address</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design/reset-design.html#determination-of-boot-path">7.5.1. Determination of boot path</a></li>
<li class="toctree-l4"><a class="reference internal" href="design/reset-design.html#platform-initialization">7.5.2. Platform initialization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="design/trusted-board-boot.html">8. Trusted Board Boot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="design/trusted-board-boot.html#chain-of-trust">8.1. Chain of Trust</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/trusted-board-boot.html#trusted-board-boot-sequence">8.2. Trusted Board Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/trusted-board-boot.html#authentication-framework">8.3. Authentication Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/trusted-board-boot.html#certificate-generation-tool">8.4. Certificate Generation Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/trusted-board-boot.html#authenticated-encryption-framework">8.5. Authenticated Encryption Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="design/trusted-board-boot.html#firmware-encryption-tool">8.6. Firmware Encryption Tool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="design/trusted-board-boot-build.html">9. Building FIP images with support for Trusted Board Boot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="plat/index.html">Platform Ports</a><ul>
<li class="toctree-l2"><a class="reference internal" href="plat/allwinner.html">1. Allwinner ARMv8 SoCs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/allwinner.html#trusted-os-dispatcher">1.1. Trusted OS dispatcher</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/arm/index.html">2. Arm Development Platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/arm/juno/index.html">2.1. Arm Juno Development Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/juno/index.html#platform-specific-build-options">2.1.1. Platform-specific build options</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/juno/index.html#running-software-on-juno">2.1.2. Running software on Juno</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/juno/index.html#preparing-tf-a-images">2.1.3. Preparing TF-A images</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/juno/index.html#creating-a-firmware-image-package-fip">2.1.4. Creating a Firmware Image Package (FIP)</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/juno/index.html#booting-firmware-update-images">2.1.5. Booting Firmware Update images</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/juno/index.html#booting-an-el3-payload">2.1.6. Booting an EL3 payload</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/juno/index.html#booting-a-preloaded-kernel-image">2.1.7. Booting a preloaded kernel image</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/juno/index.html#testing-system-suspend">2.1.8. Testing System Suspend</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/juno/index.html#additional-resources">2.1.9. Additional Resources</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/arm/fvp/index.html">2.2. Arm Fixed Virtual Platforms (FVP)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/fvp/index.html#fixed-virtual-platform-fvp-support">2.2.1. Fixed Virtual Platform (FVP) Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/fvp/index.html#arm-fvp-platform-specific-build-options">2.2.2. Arm FVP Platform Specific Build Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/fvp/index.html#booting-firmware-update-images">2.2.3. Booting Firmware Update images</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/fvp/index.html#booting-an-el3-payload">2.2.4. Booting an EL3 payload</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/fvp/index.html#booting-a-preloaded-kernel-image-base-fvp">2.2.5. Booting a preloaded kernel image (Base FVP)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/arm/fvp-ve/index.html">2.3. Arm Versatile Express</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/fvp-ve/index.html#boot-sequence">2.3.1. Boot Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/fvp-ve/index.html#how-to-build">2.3.2. How to build</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/arm/tc0/index.html">2.4. TC0 Total Compute Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/tc0/index.html#boot-sequence">2.4.1. Boot Sequence</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/arm/arm_fpga/index.html">2.5. Arm FPGA Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/arm_fpga/index.html#platform-specific-build-options">2.5.1. Platform-specific build options</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/arm_fpga/index.html#building-the-tf-a-image">2.5.2. Building the TF-A image</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/arm_fpga/index.html#running-the-tf-a-image">2.5.3. Running the TF-A image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/arm/arm-build-options.html">2.6. Arm Development Platform Build Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/arm-build-options.html#arm-platform-build-options">2.6.1. Arm Platform Build Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/arm-build-options.html#arm-css-platform-specific-build-options">2.6.2. Arm CSS Platform-Specific Build Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/arm/morello/index.html">2.7. Morello Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/arm/morello/index.html#boot-sequence">2.7.1. Boot Sequence</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/meson-axg.html">3. Amlogic Meson A113D (AXG)</a></li>
<li class="toctree-l2"><a class="reference internal" href="plat/meson-gxbb.html">4. Amlogic Meson S905 (GXBB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="plat/meson-gxl.html">5. Amlogic Meson S905x (GXL)</a></li>
<li class="toctree-l2"><a class="reference internal" href="plat/meson-g12a.html">6. Amlogic Meson S905X2 (G12A)</a></li>
<li class="toctree-l2"><a class="reference internal" href="plat/hikey.html">7. HiKey</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/hikey.html#how-to-build">7.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/hikey.html#code-locations">7.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/hikey.html#build-procedure">7.1.2. Build Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/hikey.html#setup-console">7.2. Setup Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/hikey.html#flash-images-in-recovery-mode">7.3. Flash images in recovery mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/hikey.html#boot-uefi-in-normal-mode">7.4. Boot UEFI in normal mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/hikey960.html">8. HiKey960</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/hikey960.html#how-to-build">8.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/hikey960.html#code-locations">8.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/hikey960.html#build-procedure">8.1.2. Build Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/hikey960.html#setup-console">8.2. Setup Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/hikey960.html#boot-uefi-in-recovery-mode">8.3. Boot UEFI in recovery mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/hikey960.html#boot-uefi-in-normal-mode">8.4. Boot UEFI in normal mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/intel-agilex.html">9. Intel Agilex SoCFPGA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/intel-agilex.html#how-to-build">9.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/intel-agilex.html#code-locations">9.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/intel-agilex.html#build-procedure">9.1.2. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/intel-agilex.html#install-procedure">9.1.3. Install Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/intel-agilex.html#boot-trace">9.2. Boot trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/intel-stratix10.html">10. Intel Stratix 10 SoCFPGA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/intel-stratix10.html#how-to-build">10.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/intel-stratix10.html#code-locations">10.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/intel-stratix10.html#build-procedure">10.1.2. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/intel-stratix10.html#install-procedure">10.1.3. Install Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/intel-stratix10.html#boot-trace">10.2. Boot trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/marvell/index.html">11. Marvell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/marvell/armada/build.html">11.1. TF-A Build Instructions for Marvell Platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/build.html#build-instructions">11.1.1. Build Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/build.html#special-build-flags">11.1.2. Special Build Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/build.html#build-output">11.1.3. Build output</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/build.html#tools-and-external-components-installation">11.1.4. Tools and external components installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/marvell/armada/porting.html">11.2. TF-A Porting Guide for Marvell Platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/porting.html#source-code-structure">11.2.1. Source Code Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/porting.html#armada-70x0-armada-80x0-porting">11.2.2. Armada-70x0/Armada-80x0 Porting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-a8k-addr-map.html">11.3. Address decoding flow and address translation units of Marvell Armada 8K SoC family</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-amb.html">11.4. AMB - AXI MBUS address decoding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-amb.html#mandatory-functions">11.4.1. Mandatory functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-amb.html#mandatory-structures">11.4.2. Mandatory structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-amb.html#examples">11.4.3. Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-ccu.html">11.5. Marvell CCU address decoding bindings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-ccu.html#mandatory-functions">11.5.1. Mandatory functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-ccu.html#mandatory-structures">11.5.2. Mandatory structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-ccu.html#example">11.5.3. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-io-win.html">11.6. Marvell IO WIN address decoding bindings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-io-win.html#mandatory-functions">11.6.1. Mandatory functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-io-win.html#mandatory-structures">11.6.2. Mandatory structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-io-win.html#example">11.6.3. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-iob.html">11.7. Marvell IOB address decoding bindings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-iob.html#mandatory-functions">11.7.1. Mandatory functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-iob.html#mandatory-structures">11.7.2. Mandatory structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-iob.html#target-id-options">11.7.3. Target ID options</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/marvell/armada/misc/mvebu-iob.html#example">11.7.4. Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/mt8183.html">12. MediaTek 8183</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/mt8183.html#boot-sequence">12.1. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/mt8183.html#how-to-build">12.2. How to Build</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/mt8192.html">13. MediaTek 8192</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/mt8192.html#boot-sequence">13.1. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/mt8192.html#how-to-build">13.2. How to Build</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/nvidia-tegra.html">14. NVIDIA Tegra</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/nvidia-tegra.html#directory-structure">14.1. Directory structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/nvidia-tegra.html#trusted-os-dispatcher">14.2. Trusted OS dispatcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/nvidia-tegra.html#scatter-files">14.3. Scatter files</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/nvidia-tegra.html#preparing-the-bl31-image-to-run-on-tegra-socs">14.4. Preparing the BL31 image to run on Tegra SoCs</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/nvidia-tegra.html#power-management">14.5. Power Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/nvidia-tegra.html#tegra-configs">14.6. Tegra configs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/warp7.html">15. NXP i.MX7 WaRP7</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/warp7.html#boot-flow">15.1. Boot Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/warp7.html#build-instructions">15.2. Build Instructions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/warp7.html#u-boot">15.2.1. U-Boot</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/warp7.html#op-tee">15.2.2. OP-TEE</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/warp7.html#tf-a">15.2.3. TF-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/warp7.html#fip">15.2.4. FIP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/warp7.html#deploy-images">15.3. Deploy Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/warp7.html#signing-bl2">15.4. Signing BL2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/imx8.html">16. NXP i.MX 8 Series</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/imx8.html#boot-sequence">16.1. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/imx8.html#how-to-build">16.2. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/imx8.html#build-procedure">16.2.1. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/imx8.html#deploy-tf-a-images">16.2.2. Deploy TF-A Images</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/imx8m.html">17. NXP i.MX 8M Series</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/imx8m.html#boot-sequence">17.1. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/imx8m.html#how-to-build">17.2. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/imx8m.html#build-procedure">17.2.1. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/imx8m.html#deploy-tf-a-images">17.2.2. Deploy TF-A Images</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/ls1043a.html">18. NXP QorIQ® LS1043A</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/ls1043a.html#ls1043ardb-specification">18.1. LS1043ARDB Specification:</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/ls1043a.html#boot-sequence">18.2. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/ls1043a.html#how-to-build">18.3. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/ls1043a.html#build-procedure">18.3.1. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/ls1043a.html#deploy-tf-a-images">18.3.2. Deploy TF-A Images</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/poplar.html">19. Poplar</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/poplar.html#how-to-build">19.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/poplar.html#code-locations">19.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/poplar.html#build-procedure">19.1.2. Build Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/poplar.html#install-procedure">19.2. Install Procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/poplar.html#boot-trace">19.3. Boot trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/qemu.html">20. QEMU virt Armv8-A</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/qemu.html#getting-non-tf-images">20.1. Getting non-TF images</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/qemu.html#booting-via-semi-hosting-option">20.2. Booting via semi-hosting option</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/qemu.html#booting-via-flash-based-firmwares">20.3. Booting via flash based firmwares</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/qemu-sbsa.html">21. QEMU SBSA Target</a></li>
<li class="toctree-l2"><a class="reference internal" href="plat/qti.html">22. Qualcomm Technologies, Inc.</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/qti.html#boot-trace">22.1. Boot Trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/qti.html#how-to-build">22.2. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/qti.html#code-locations">22.2.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/qti.html#build-procedure">22.2.2. Build Procedure</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/rpi3.html">23. Raspberry Pi 3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/rpi3.html#design">23.1. Design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/rpi3.html#placement-of-images">23.1.1. Placement of images</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/rpi3.html#boot-sequence">23.1.2. Boot sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/rpi3.html#secondary-cores">23.1.3. Secondary cores</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/rpi3.html#build-instructions">23.2. Build Instructions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/rpi3.html#building-the-firmware-for-kernels-that-don-t-support-psci">23.2.1. Building the firmware for kernels that don’t support PSCI</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/rpi3.html#building-the-firmware-for-kernels-that-support-psci">23.2.2. Building the firmware for kernels that support PSCI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/rpi3.html#aarch64-kernel-build-instructions">23.3. AArch64 kernel build instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/rpi3.html#setup-sd-card">23.4. Setup SD card</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/rpi4.html">24. Raspberry Pi 4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/rpi4.html#build-instructions">24.1. Build Instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/rpi4.html#tf-a-port-design">24.2. TF-A port design</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/rcar-gen3.html">25. Renesas R-Car</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/rcar-gen3.html#renesas-r-car-gen3-evaluation-boards">25.1. Renesas R-Car Gen3 evaluation boards:</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/rcar-gen3.html#overview">25.2. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/rcar-gen3.html#how-to-build">25.3. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/rcar-gen3.html#build-tested">25.3.1. Build Tested:</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/rcar-gen3.html#system-tested">25.3.2. System Tested:</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/rcar-gen3.html#tf-a-build-procedure">25.3.3. TF-A Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/rcar-gen3.html#install-procedure">25.3.4. Install Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/rcar-gen3.html#boot-trace">25.4. Boot trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/rz-g2.html">26. Renesas RZ/G</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/rz-g2.html#renesas-rz-g2-reference-platforms">26.1. Renesas RZ/G2 reference platforms:</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/rz-g2.html#overview">26.2. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/rz-g2.html#how-to-build">26.3. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/rz-g2.html#build-tested">26.3.1. Build Tested:</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/rz-g2.html#system-tested">26.3.2. System Tested:</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/rz-g2.html#tf-a-build-procedure">26.3.3. TF-A Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/rz-g2.html#install-procedure">26.3.4. Install Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/rz-g2.html#boot-trace">26.4. Boot trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/rockchip.html">27. Rockchip SoCs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/rockchip.html#boot-sequence">27.1. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/rockchip.html#how-to-build">27.2. How to build</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/rockchip.html#how-to-deploy">27.3. How to deploy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/socionext-uniphier.html">28. Socionext UniPhier</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/socionext-uniphier.html#boot-flow">28.1. Boot Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/socionext-uniphier.html#basic-build">28.2. Basic Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/socionext-uniphier.html#optional-features">28.3. Optional features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/synquacer.html">29. Socionext Synquacer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/synquacer.html#how-to-build">29.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/synquacer.html#code-locations">29.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/synquacer.html#boot-flow">29.1.2. Boot Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/synquacer.html#build-procedure">29.1.3. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/synquacer.html#install-the-system-firmware">29.1.4. Install the System Firmware</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/stm32mp1.html">30. STMicroelectronics STM32MP1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/stm32mp1.html#stm32mp1-versions">30.1. STM32MP1 Versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/stm32mp1.html#design">30.2. Design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/stm32mp1.html#memory-mapping">30.2.1. Memory mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/stm32mp1.html#boot-sequence">30.2.2. Boot sequence</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/stm32mp1.html#build-instructions">30.3. Build Instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/stm32mp1.html#populate-sd-card">30.4. Populate SD-card</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/ti-k3.html">31. Texas Instruments K3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/ti-k3.html#boot-flow">31.1. Boot Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/ti-k3.html#build-instructions">31.2. Build Instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/ti-k3.html#deploy-images">31.3. Deploy Images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/xilinx-versal.html">32. Xilinx Versal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/xilinx-versal.html#xilinx-versal-platform-specific-build-options">32.1. Xilinx Versal platform specific build options</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/xilinx-versal.html#plm-tf-a-parameter-passing">32.2. # PLM-&gt;TF-A Parameter Passing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/xilinx-zynqmp.html">33. Xilinx Zynq UltraScale+ MPSoC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/xilinx-zynqmp.html#zynqmp-platform-specific-build-options">33.1. ZynqMP platform specific build options</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/xilinx-zynqmp.html#fsbl-tf-a-parameter-passing">33.2. FSBL-&gt;TF-A Parameter Passing</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/xilinx-zynqmp.html#power-domain-tree">33.3. Power Domain Tree</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="plat/brcm-stingray.html">34. Broadcom Stingray</a><ul>
<li class="toctree-l3"><a class="reference internal" href="plat/brcm-stingray.html#description">34.1. Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="plat/brcm-stingray.html#boot-sequence">34.2. Boot Sequence</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/brcm-stingray.html#code-locations">34.2.1. Code Locations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="plat/brcm-stingray.html#how-to-build">34.3. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="plat/brcm-stingray.html#build-procedure">34.3.1. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="plat/brcm-stingray.html#deploy-tf-a-images">34.3.2. Deploy TF-A Images</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="perf/index.html">Performance &amp; Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="perf/psci-performance-juno.html">1. PSCI Performance Measurements on Arm Juno Development Platform</a><ul>
<li class="toctree-l3"><a class="reference internal" href="perf/psci-performance-juno.html#method">1.1. Method</a></li>
<li class="toctree-l3"><a class="reference internal" href="perf/psci-performance-juno.html#results-and-commentary">1.2. Results and Commentary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="perf/psci-performance-juno.html#cpu-suspend-to-deepest-power-level-on-all-cpus-in-parallel">1.2.1. <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> to deepest power level on all CPUs in parallel</a></li>
<li class="toctree-l4"><a class="reference internal" href="perf/psci-performance-juno.html#cpu-suspend-to-power-level-0-on-all-cpus-in-parallel">1.2.2. <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> to power level 0 on all CPUs in parallel</a></li>
<li class="toctree-l4"><a class="reference internal" href="perf/psci-performance-juno.html#cpu-suspend-to-deepest-power-level-on-all-cpus-in-sequence">1.2.3. <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> to deepest power level on all CPUs in sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="perf/psci-performance-juno.html#cpu-suspend-to-power-level-0-on-all-cpus-in-sequence">1.2.4. <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> to power level 0 on all CPUs in sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="perf/psci-performance-juno.html#cpu-off-on-all-non-lead-cpus-in-sequence-then-cpu-suspend-on-lead-cpu-to-deepest-power-level">1.2.5. <code class="docutils literal notranslate"><span class="pre">CPU_OFF</span></code> on all non-lead CPUs in sequence then <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> on lead CPU to deepest power level</a></li>
<li class="toctree-l4"><a class="reference internal" href="perf/psci-performance-juno.html#psci-version-on-all-cpus-in-parallel">1.2.6. <code class="docutils literal notranslate"><span class="pre">PSCI_VERSION</span></code> on all CPUs in parallel</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="perf/tsp.html">2. Test Secure Payload (TSP) and Dispatcher (TSPD)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="perf/tsp.html#building-the-test-secure-payload">2.1. Building the Test Secure Payload</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="perf/performance-monitoring-unit.html">3. Performance Monitoring Unit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="perf/performance-monitoring-unit.html#pmu-counters">3.1. PMU Counters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="perf/performance-monitoring-unit.html#architectural-mappings">3.1.1. Architectural mappings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="perf/performance-monitoring-unit.html#configuring-the-pmu-for-counting-events">3.2. Configuring the PMU for counting events</a><ul>
<li class="toctree-l4"><a class="reference internal" href="perf/performance-monitoring-unit.html#id1">3.2.1. Architectural mappings</a></li>
<li class="toctree-l4"><a class="reference internal" href="perf/performance-monitoring-unit.html#relevant-register-fields">3.2.2. Relevant register fields</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security_advisories/index.html">Security Advisories</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security_advisories/security-advisory-tfv-1.html">1. Advisory TFV-1 (CVE-2016-10319)</a></li>
<li class="toctree-l2"><a class="reference internal" href="security_advisories/security-advisory-tfv-2.html">2. Advisory TFV-2 (CVE-2017-7564)</a></li>
<li class="toctree-l2"><a class="reference internal" href="security_advisories/security-advisory-tfv-3.html">3. Advisory TFV-3 (CVE-2017-7563)</a></li>
<li class="toctree-l2"><a class="reference internal" href="security_advisories/security-advisory-tfv-4.html">4. Advisory TFV-4 (CVE-2017-9607)</a></li>
<li class="toctree-l2"><a class="reference internal" href="security_advisories/security-advisory-tfv-5.html">5. Advisory TFV-5 (CVE-2017-15031)</a></li>
<li class="toctree-l2"><a class="reference internal" href="security_advisories/security-advisory-tfv-6.html">6. Advisory TFV-6 (CVE-2017-5753, CVE-2017-5715, CVE-2017-5754)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="security_advisories/security-advisory-tfv-6.html#variant-1-cve-2017-5753">6.1. Variant 1 (CVE-2017-5753)</a></li>
<li class="toctree-l3"><a class="reference internal" href="security_advisories/security-advisory-tfv-6.html#variant-2-cve-2017-5715">6.2. Variant 2 (CVE-2017-5715)</a></li>
<li class="toctree-l3"><a class="reference internal" href="security_advisories/security-advisory-tfv-6.html#variant-3-cve-2017-5754">6.3. Variant 3 (CVE-2017-5754)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="security_advisories/security-advisory-tfv-7.html">7. Advisory TFV-7 (CVE-2018-3639)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="security_advisories/security-advisory-tfv-7.html#static-mitigation">7.1. Static mitigation</a></li>
<li class="toctree-l3"><a class="reference internal" href="security_advisories/security-advisory-tfv-7.html#dynamic-mitigation">7.2. Dynamic mitigation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="security_advisories/security-advisory-tfv-8.html">8. Advisory TFV-8 (CVE-2018-19440)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="design_documents/index.html">Design Documents</a><ul>
<li class="toctree-l2"><a class="reference internal" href="design_documents/cmake_framework.html">1. TF-A CMake Build System Proposal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="design_documents/cmake_framework.html#abstract">1.1. Abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="design_documents/cmake_framework.html#introduction">1.2. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="design_documents/cmake_framework.html#main-features">1.3. Main features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="design_documents/cmake_framework.html#structured-configuration-description">1.3.1. Structured configuration description</a></li>
<li class="toctree-l4"><a class="reference internal" href="design_documents/cmake_framework.html#target-description">1.3.2. Target description</a></li>
<li class="toctree-l4"><a class="reference internal" href="design_documents/cmake_framework.html#compiler-abstraction">1.3.3. Compiler abstraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="design_documents/cmake_framework.html#external-tools">1.3.4. External tools</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="design_documents/cmake_framework.html#workflow">1.4. Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="design_documents/cmake_framework.html#example">1.5. Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Change Log &amp; Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#version-2-4">Version 2.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changed">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resolved-issues">Resolved Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-3">Version 2.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Resolved Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-2">Version 2.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Resolved Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecations">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-1">Version 2.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">Resolved Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-0">Version 2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#issues-resolved-since-last-release">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-6">Version 1.6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-5">Version 1.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id19">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-4">Version 1.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id22">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-3">Version 1.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id25">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id26">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id27">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-2">Version 1.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id28">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id29">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id30">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-1">Version 1.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id31">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id32">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id33">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-1-0">Version 1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id34">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id35">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id36">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-0-4">Version 0.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id37">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id38">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id39">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-0-3">Version 0.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id40">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id41">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id42">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#version-0-2">Version 0.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id43">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id44">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id45">Known issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="change-log-upcoming.html">Change Log for Upcoming Release</a><ul>
<li class="toctree-l2"><a class="reference internal" href="change-log-upcoming.html#upcoming-release-version-2-4">Upcoming Release Version 2.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="change-log-upcoming.html#new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="change-log-upcoming.html#changed">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="change-log-upcoming.html#resolved-issues">Resolved Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="change-log-upcoming.html#deprecations">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="change-log-upcoming.html#known-issues">Known Issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a><ul>
<li class="toctree-l2"><a class="reference internal" href="license.html#spdx-identifiers">SPDX Identifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html#other-projects">Other Projects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cmake/index.html">Build System Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cmake/index.html#contents">Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cmake/concepts.html">Build System Concepts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cmake/concepts.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake/concepts.html#high-level-requirements">High-level requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake/concepts.html#configuration-space">Configuration space</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake/concepts.html#structured-programming-concepts-with-cmake">Structured Programming Concepts With CMake</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake/concepts.html#structuring-the-project">Structuring the project.</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake/concepts.html#entry-points">Entry points</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake/concepts.html#todo-items">TODO items</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cmake/user_guide.html">Build System Users Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cmake/user_guide.html#what-is-needed-to-build-with-cmake">What is needed to build with CMake?</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake/user_guide.html#how-to-build-with-cmake">How-to build with CMake</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake/user_guide.html#current-limitations">Current limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="cmake/user_guide.html#list-of-modules">List of modules</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Trusted Firmware-A</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Change Log &amp; Release Notes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/change-log.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="change-log-upcoming.html" class="btn btn-neutral float-right" title="Change Log for Upcoming Release" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="design_documents/cmake_framework.html" class="btn btn-neutral float-left" title="1. TF-A CMake Build System Proposal" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="change-log-release-notes">
<h1>Change Log &amp; Release Notes<a class="headerlink" href="#change-log-release-notes" title="Permalink to this headline">¶</a></h1>
<p>This document contains a summary of the new features, changes, fixes and known
issues in each release of Trusted Firmware-A.</p>
<div class="section" id="version-2-4">
<h2>Version 2.4<a class="headerlink" href="#version-2-4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="new-features">
<h3>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Architecture support</dt><dd><ul>
<li><dl class="simple">
<dt>Armv8.6-A</dt><dd><ul>
<li><p>Added support for Armv8.6 Enhanced Counter Virtualization (ECV)</p></li>
<li><p>Added support for Armv8.6 Fine Grained Traps (FGT)</p></li>
<li><p>Added support for Armv8.6 WFE trap delays</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Bootloader images</dt><dd><ul>
<li><p>Added support for Measured Boot</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Build System</dt><dd><ul>
<li><p>Added build option <code class="docutils literal notranslate"><span class="pre">COT_DESC_IN_DTB</span></code> to create Chain of Trust at runtime</p></li>
<li><p>Added build option <code class="docutils literal notranslate"><span class="pre">OPENSSL_DIR</span></code> to direct tools to OpenSSL libraries</p></li>
<li><p>Added build option <code class="docutils literal notranslate"><span class="pre">RAS_TRAP_LOWER_EL_ERR_ACCESS</span></code> to enable trapping RAS
register accesses from EL1/EL2 to EL3</p></li>
<li><p>Extended build option <code class="docutils literal notranslate"><span class="pre">BRANCH_PROTECTION</span></code> to support branch target
identification</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Common components</dt><dd><ul>
<li><p>Added support for exporting CPU nodes to the device tree</p></li>
<li><p>Added support for single and dual-root Chains of Trust in secure
partitions</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Drivers</dt><dd><ul>
<li><p>Added Broadcom RNG driver</p></li>
<li><p>Added Marvell <code class="docutils literal notranslate"><span class="pre">mg_conf_cm3</span></code> driver</p></li>
<li><p>Added System Control and Management Interface (SCMI) driver</p></li>
<li><p>Added STMicroelectronics ETZPC driver</p></li>
<li><dl class="simple">
<dt>Arm GICv3</dt><dd><ul>
<li><p>Added support for detecting topology at runtime</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Dual Root</dt><dd><ul>
<li><p>Added support for platform certificates</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell Cache LLC</dt><dd><ul>
<li><p>Added support for mapping the entire LLC into SRAM</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell CCU</dt><dd><ul>
<li><p>Added workaround for erratum 3033912</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell CP110 COMPHY</dt><dd><ul>
<li><p>Added support for SATA COMPHY polarity inversion</p></li>
<li><p>Added support for USB COMPHY polarity inversion</p></li>
<li><p>Added workaround for erratum IPCE_COMPHY-1353</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STM32MP1 Clocks</dt><dd><ul>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">RTC</span></code> as a gateable clock</p></li>
<li><p>Added support for shifted clock selector bit masks</p></li>
<li><p>Added support for using additional clocks as parents</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Libraries</dt><dd><ul>
<li><dl class="simple">
<dt>C standard library</dt><dd><ul>
<li><p>Added support for hexadecimal and pointer format specifiers in
<code class="docutils literal notranslate"><span class="pre">snprint()</span></code></p></li>
<li><p>Added assembly alternatives for various library functions</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CPU support</dt><dd><ul>
<li><dl class="simple">
<dt>Arm Cortex-A53</dt><dd><ul>
<li><p>Added workaround for erratum 1530924</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm Cortex-A55</dt><dd><ul>
<li><p>Added workaround for erratum 1530923</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm Cortex-A57</dt><dd><ul>
<li><p>Added workaround for erratum 1319537</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm Cortex-A76</dt><dd><ul>
<li><p>Added workaround for erratum 1165522</p></li>
<li><p>Added workaround for erratum 1791580</p></li>
<li><p>Added workaround for erratum 1868343</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm Cortex-A72</dt><dd><ul>
<li><p>Added workaround for erratum 1319367</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm Cortex-A77</dt><dd><ul>
<li><p>Added workaround for erratum 1508412</p></li>
<li><p>Added workaround for erratum 1800714</p></li>
<li><p>Added workaround for erratum 1925769</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm Neoverse N1</dt><dd><ul>
<li><p>Added workaround for erratum 1868343</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>EL3 Runtime</dt><dd><ul>
<li><p>Added support for saving/restoring registers related to nested
virtualization in EL2 context switches if the architecture supports it</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>FCONF</dt><dd><ul>
<li><p>Added support for Measured Boot</p></li>
<li><p>Added support for populating Chain of Trust properties</p></li>
<li><p>Added support for loading the <code class="docutils literal notranslate"><span class="pre">fw_config</span></code> image</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Measured Boot</dt><dd><ul>
<li><p>Added support for event logging</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Platforms</dt><dd><ul>
<li><p>Added support for Arm Morello</p></li>
<li><p>Added support for Arm TC0</p></li>
<li><p>Added support for iEi PUZZLE-M801</p></li>
<li><p>Added support for Marvell OCTEON TX2 T9130</p></li>
<li><p>Added support for MediaTek MT8192</p></li>
<li><p>Added support for NXP i.MX 8M Nano</p></li>
<li><p>Added support for NXP i.MX 8M Plus</p></li>
<li><p>Added support for QTI CHIP SC7180</p></li>
<li><p>Added support for STM32MP151F</p></li>
<li><p>Added support for STM32MP153F</p></li>
<li><p>Added support for STM32MP157F</p></li>
<li><p>Added support for STM32MP151D</p></li>
<li><p>Added support for STM32MP153D</p></li>
<li><p>Added support for STM32MP157D</p></li>
<li><dl class="simple">
<dt>Arm</dt><dd><ul>
<li><p>Added support for platform-owned SPs</p></li>
<li><p>Added support for resetting to BL31</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm FPGA</dt><dd><ul>
<li><p>Added support for Klein</p></li>
<li><p>Added support for Matterhorn</p></li>
<li><p>Added support for additional CPU clusters</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm FVP</dt><dd><ul>
<li><p>Added support for performing SDEI platform setup at runtime</p></li>
<li><p>Added support for SMCCC’s <code class="docutils literal notranslate"><span class="pre">SMCCC_ARCH_SOC_ID</span></code> command</p></li>
<li><p>Added an <code class="docutils literal notranslate"><span class="pre">id</span></code> field under the NV-counter node in the device tree to
differentiate between trusted and non-trusted NV-counters</p></li>
<li><p>Added support for extracting the clock frequency from the timer node
in the device tree</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm Juno</dt><dd><ul>
<li><p>Added support for SMCCC’s <code class="docutils literal notranslate"><span class="pre">SMCCC_ARCH_SOC_ID</span></code> command</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm N1SDP</dt><dd><ul>
<li><p>Added support for cross-chip PCI-e</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell</dt><dd><ul>
<li><p>Added support for AVS reduction</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell ARMADA</dt><dd><ul>
<li><p>Added support for twin-die combined memory device</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell ARMADA A8K</dt><dd><ul>
<li><p>Added support for DDR with 32-bit bus width (both ECC and non-ECC)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell AP806</dt><dd><ul>
<li><p>Added workaround for erratum FE-4265711</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell AP807</dt><dd><ul>
<li><p>Added workaround for erratum 3033912</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Nvidia Tegra</dt><dd><ul>
<li><p>Added debug printouts indicating SC7 entry sequence completion</p></li>
<li><p>Added support for SDEI</p></li>
<li><p>Added support for stack protection</p></li>
<li><p>Added support for GICv3</p></li>
<li><p>Added support for SMCCC’s <code class="docutils literal notranslate"><span class="pre">SMCCC_ARCH_SOC_ID</span></code> command</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Nvidia Tegra194</dt><dd><ul>
<li><p>Added support for RAS exception handling</p></li>
<li><p>Added support for SPM</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>NXP i.MX</dt><dd><ul>
<li><p>Added support for SDEI</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>QEMU SBSA</dt><dd><ul>
<li><p>Added support for the Secure Partition Manager</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>QTI</dt><dd><ul>
<li><p>Added RNG driver</p></li>
<li><p>Added SPMI PMIC arbitrator driver</p></li>
<li><p>Added support for SMCCC’s <code class="docutils literal notranslate"><span class="pre">SMCCC_ARCH_SOC_ID</span></code> command</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STM32MP1</dt><dd><ul>
<li><p>Added support for exposing peripheral interfaces to the non-secure
world at runtime</p></li>
<li><p>Added support for SCMI clock and reset services</p></li>
<li><p>Added support for STM32MP15x CPU revision Z</p></li>
<li><p>Added support for SMCCC services in <code class="docutils literal notranslate"><span class="pre">SP_MIN</span></code></p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Services</dt><dd><ul>
<li><dl class="simple">
<dt>Secure Payload Dispatcher</dt><dd><ul>
<li><p>Added a provision to allow clients to retrieve the service UUID</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SPMC</dt><dd><ul>
<li><p>Added secondary core endpoint information to the SPMC context
structure</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SPMD</dt><dd><ul>
<li><p>Added support for booting OP-TEE as a guest S-EL1 Secure Partition on
top of Hafnium in S-EL2</p></li>
<li><p>Added a provision for handling SPMC messages to register secondary
core entry points</p></li>
<li><p>Added support for power management operations</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Tools</dt><dd><ul>
<li><dl class="simple">
<dt>CertCreate</dt><dd><ul>
<li><p>Added support for secure partitions</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CertTool</dt><dd><ul>
<li><p>Added support for the <code class="docutils literal notranslate"><span class="pre">fw_config</span></code> image</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>FIPTool</dt><dd><ul>
<li><p>Added support for the <code class="docutils literal notranslate"><span class="pre">fw_config</span></code> image</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="changed">
<h3>Changed<a class="headerlink" href="#changed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Architecture support</p></li>
<li><p>Bootloader images</p></li>
<li><dl class="simple">
<dt>Build System</dt><dd><ul>
<li><p>The top-level Makefile now supports building FipTool on Windows</p></li>
<li><p>The default value of <code class="docutils literal notranslate"><span class="pre">KEY_SIZE</span></code> has been changed to to 2048 when RSA is
in use</p></li>
<li><p>The previously-deprecated macro <code class="docutils literal notranslate"><span class="pre">__ASSEMBLY__</span></code> has now been removed</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Common components</dt><dd><ul>
<li><p>Certain functions that flush the console will no longer return error
information</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Drivers</dt><dd><ul>
<li><dl class="simple">
<dt>Arm GIC</dt><dd><ul>
<li><p>Usage of <code class="docutils literal notranslate"><span class="pre">drivers/arm/gic/common/gic_common.c</span></code> has now been
deprecated in favour of <code class="docutils literal notranslate"><span class="pre">drivers/arm/gic/vX/gicvX.mk</span></code></p></li>
<li><p>Added support for detecting the presence of a GIC600-AE</p></li>
<li><p>Added support for detecting the presence of a GIC-Clayton</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell MCI</dt><dd><ul>
<li><p>Now performs link tuning for all MCI interfaces to improve performance</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell MoChi</dt><dd><ul>
<li><p>PIDI masters are no longer forced into a non-secure access level when
<code class="docutils literal notranslate"><span class="pre">LLC_SRAM</span></code> is enabled</p></li>
<li><p>The SD/MMC controllers are now accessible from guest virtual machines</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Mbed TLS</dt><dd><ul>
<li><p>Migrated to Mbed TLS v2.24.0</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STM32 FMC2 NAND</dt><dd><ul>
<li><p>Adjusted FMC node bindings to include an EBI controller node</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STM32 Reset</dt><dd><ul>
<li><p>Added an optional timeout argument to assertion functions</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STM32MP1 Clocks</dt><dd><ul>
<li><p>Enabled several additional system clocks during initialization</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Libraries</dt><dd><ul>
<li><dl class="simple">
<dt>C Standard Library</dt><dd><ul>
<li><p>Improved <code class="docutils literal notranslate"><span class="pre">memset</span></code> performance by avoiding single-byte writes</p></li>
<li><p>Added optimized assembly variants of <code class="docutils literal notranslate"><span class="pre">memset</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CPU support</dt><dd><ul>
<li><p>Renamed Cortex-Hercules to Cortex-A78</p></li>
<li><p>Renamed Cortex-Hercules AE to Cortex-A78 AE</p></li>
<li><p>Renamed Neoverse Zeus to Neoverse V1</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Coreboot</dt><dd><ul>
<li><p>Updated ‘coreboot_get_memory_type’ API to take an extra argument as a
’memory size’ that used to return a valid memory type.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>libfdt</dt><dd><ul>
<li><p>Updated to latest upstream version</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Platforms</dt><dd><ul>
<li><dl class="simple">
<dt>Allwinner</dt><dd><ul>
<li><p>Disabled non-secure access to PRCM power control registers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">BL32_BASE</span></code> is now platform-dependent when <code class="docutils literal notranslate"><span class="pre">SPD_spmd</span></code> is enabled</p></li>
<li><p>Added support for loading the Chain of Trust from the device tree</p></li>
<li><p>The firmware update check is now executed only once</p></li>
<li><p>NV-counter base addresses are now loaded from the device tree when
<code class="docutils literal notranslate"><span class="pre">COT_DESC_IN_DTB</span></code> is enabled</p></li>
<li><p>Now loads and populates <code class="docutils literal notranslate"><span class="pre">fw_config</span></code> and <code class="docutils literal notranslate"><span class="pre">tb_fw_config</span></code></p></li>
<li><p>FCONF population now occurs after caches have been enabled in order
to reduce boot times</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm Corstone-700</dt><dd><ul>
<li><p>Platform support has been split into both an FVP and an FPGA variant</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm FPGA</dt><dd><ul>
<li><p>DTB and BL33 load addresses have been given sensible default values</p></li>
<li><p>Now reads generic timer counter frequency, GICD and GICR base
addresses, and UART address from DT</p></li>
<li><p>Now treats the primary PL011 UART as an SBSA Generic UART</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm FVP</dt><dd><ul>
<li><p>Secure interrupt descriptions, UART parameters, clock frequencies and
GICv3 parameters are now queried through FCONF</p></li>
<li><p>UART parameters are now queried through the device tree</p></li>
<li><p>Added an owner field to Cactus secure partitions</p></li>
<li><p>Increased the maximum size of BL2 when the Chain of Trust is loaded
from the device tree</p></li>
<li><p>Reduces the maximum size of BL31</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">FVP_USE_SP804_TIMER</span></code> and <code class="docutils literal notranslate"><span class="pre">FVP_VE_USE_SP804_TIMER</span></code> build
options have been removed in favour of a common <code class="docutils literal notranslate"><span class="pre">USE_SP804_TIMER</span></code>
option</p></li>
<li><p>Added a third Cactus partition to manifests</p></li>
<li><p>Device tree nodes now store UUIDs in big-endian</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm Juno</dt><dd><ul>
<li><p>Increased the maximum size of BL2 when optimizations have not been
applied</p></li>
<li><p>Reduced the maximum size of BL31 and BL32</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell AP807</dt><dd><ul>
<li><p>Enabled snoop filters</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell ARMADA A3K</dt><dd><ul>
<li><p>UART recovery images are now suffixed with <code class="docutils literal notranslate"><span class="pre">.bin</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell ARMADA A8K</dt><dd><ul>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">BL31_CACHE_DISABLE</span></code> is now disabled (<code class="docutils literal notranslate"><span class="pre">0</span></code>) by default</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Nvidia Tegra</dt><dd><ul>
<li><p>Added VPR resize supported check when processing video memory resize
requests</p></li>
<li><p>Added SMMU verification to prevent potential issues caused by
undetected corruption of the SMMU configuration during boot</p></li>
<li><p>The GIC CPU interface is now properly disabled after CPU off</p></li>
<li><p>The GICv2 sources list and the <code class="docutils literal notranslate"><span class="pre">BL31_SIZE</span></code> definition have been made
platform-specific</p></li>
<li><p>The SPE driver will no longer flush the console when writing
individual characters</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Nvidia Tegra194</dt><dd><ul>
<li><p>TZDRAM setup has been moved to platform-specific early boot handlers</p></li>
<li><p>Increased verbosity of debug prints for RAS SErrors</p></li>
<li><p>Support for powering down CPUs during CPU suspend has been removed</p></li>
<li><p>Now verifies firewall settings before using resources</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TI K3</dt><dd><ul>
<li><p>The UART number has been made configurable through <code class="docutils literal notranslate"><span class="pre">K3_USART</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Rockchip RK3368</dt><dd><ul>
<li><p>The maximum number of memory map regions has been increased to 20</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Socionext Uniphier</dt><dd><ul>
<li><p>The maximum size of BL33 has been increased to support larger
bootloaders</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STM32</dt><dd><ul>
<li><p>Removed platform-specific DT functions in favour of using existing
generic alternatives</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STM32MP1</dt><dd><ul>
<li><p>Increased verbosity of exception reports in debug builds</p></li>
<li><p>Device trees have been updated to align with the Linux kernel</p></li>
<li><p>Now uses the ETZPC driver to configure secure-aware interfaces for
assignment to the non-secure world</p></li>
<li><p>Finished good variants have been added to the board identifier
enumerations</p></li>
<li><p>Non-secure access to clocks and reset domains now depends on their
state of registration</p></li>
<li><p>NEON is now disabled in <code class="docutils literal notranslate"><span class="pre">SP_MIN</span></code></p></li>
<li><p>The last page of <code class="docutils literal notranslate"><span class="pre">SYSRAM</span></code> is now used as SCMI shared memory</p></li>
<li><p>Checks to verify platform compatibility have been added to verify that
an image is compatible with the chip ID of the running platform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>QEMU SBSA</dt><dd><ul>
<li><p>Removed support for Arm’s Cortex-A53</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Services</dt><dd><ul>
<li><p>Renamed SPCI to FF-A</p></li>
<li><dl class="simple">
<dt>SPMD</dt><dd><ul>
<li><p>No longer forwards requests to the non-secure world when retrieving
partition information</p></li>
<li><p>SPMC manifest size is now retrieved directly from SPMD instead of the
device tree</p></li>
<li><p>The FF-A version handler now returns SPMD’s version when the origin
of the call is secure, and SPMC’s version when the origin of the call
is non-secure</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SPMC</dt><dd><ul>
<li><p>Updated the manifest to declare CPU nodes in descending order as per
the SPM (Hafnium) multicore requirement</p></li>
<li><p>Updated the device tree to mark 2GB as device memory for the first
partition excluding trusted DRAM region (which is reserved for SPMC)</p></li>
<li><p>Increased the number of EC contexts to the maximum number of PEs as
per the FF-A specification</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Tools</dt><dd><ul>
<li><dl class="simple">
<dt>FIPTool</dt><dd><ul>
<li><p>Now returns <code class="docutils literal notranslate"><span class="pre">0</span></code> on <code class="docutils literal notranslate"><span class="pre">help</span></code> and <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">&lt;command&gt;</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell DoImage</dt><dd><ul>
<li><p>Updated Mbed TLS support to v2.8</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SPTool</dt><dd><ul>
<li><p>Now appends CertTool arguments</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="resolved-issues">
<h3>Resolved Issues<a class="headerlink" href="#resolved-issues" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Bootloader images</dt><dd><ul>
<li><p>Fixed compilation errors for dual-root Chains of Trust caused by symbol
collision</p></li>
<li><dl class="simple">
<dt>BL31</dt><dd><ul>
<li><p>Fixed compilation errors on platforms with fewer than 4 cores caused
by initialization code exceeding the end of the stacks</p></li>
<li><p>Fixed compilation errors when building a position-independent image</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Build System</dt><dd><ul>
<li><p>Fixed invalid empty version strings</p></li>
<li><p>Fixed compilation errors on Windows caused by a non-portable architecture
revision comparison</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Drivers</dt><dd><ul>
<li><dl class="simple">
<dt>Arm GIC</dt><dd><ul>
<li><p>Fixed spurious interrupts caused by a missing barrier</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STM32 Flexible Memory Controller 2 (FMC2) NAND driver</dt><dd><ul>
<li><p>Fixed runtime instability caused by incorrect error detection logic</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STM32MP1 Clock driver</dt><dd><ul>
<li><p>Fixed incorrectly-formatted log messages</p></li>
<li><p>Fixed runtime instability caused by improper clock gating procedures</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STMicroelectronics Raw NAND driver</dt><dd><ul>
<li><p>Fixed runtime instability caused by incorrect unit conversion when
waiting for NAND readiness</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Libraries</dt><dd><ul>
<li><dl class="simple">
<dt>AMU</dt><dd><ul>
<li><p>Fixed timeout errors caused by excess error logging</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>EL3 Runtime</dt><dd><ul>
<li><p>Fixed runtime instability caused by improper register save/restore
routine in EL2</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>FCONF</dt><dd><ul>
<li><p>Fixed failure to initialize GICv3 caused by overly-strict device tree
requirements</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Measured Boot</dt><dd><ul>
<li><p>Fixed driver errors caused by a missing default value for the
<code class="docutils literal notranslate"><span class="pre">HASH_ALG</span></code> build option</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SPE</dt><dd><ul>
<li><p>Fixed feature detection check that prevented CPUs supporting SVE from
detecting support for SPE in the non-secure world</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Translation Tables</dt><dd><ul>
<li><p>Fixed various MISRA-C 2012 static analysis violations</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Platforms</dt><dd><ul>
<li><dl class="simple">
<dt>Allwinner A64</dt><dd><ul>
<li><p>Fixed USB issues on certain battery-powered device caused by
improperly activated USB power rail</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm</dt><dd><ul>
<li><p>Fixed compilation errors caused by increase in BL2 size</p></li>
<li><p>Fixed compilation errors caused by missing Makefile dependencies to
generated files when building the FIP</p></li>
<li><p>Fixed MISRA-C 2012 static analysis violations caused by unused
structures in include directives intended to be feature-gated</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm FPGA</dt><dd><ul>
<li><p>Fixed initialization issues caused by incorrect MPIDR topology mapping
logic</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm RD-N1-edge</dt><dd><ul>
<li><p>Fixed compilation errors caused by mismatched parentheses in Makefile</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Arm SGI</dt><dd><ul>
<li><p>Fixed crashes due to the flash memory used for cold reboot attack
protection not being mapped</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Intel Agilex</dt><dd><ul>
<li><p>Fixed initialization issues caused by several compounding bugs</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell</dt><dd><ul>
<li><p>Fixed compilation warnings caused by multiple Makefile inclusions</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell ARMADA A3K</dt><dd><ul>
<li><p>Fixed boot issue in debug builds caused by checks on the BL33 load
address that are not appropriate for this platform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Nvidia Tegra</dt><dd><ul>
<li><p>Fixed incorrect delay timer reads</p></li>
<li><p>Fixed spurious interrupts in the non-secure world during cold boot
caused by the arbitration bit in the memory controller not being
cleared</p></li>
<li><p>Fixed faulty video memory resize sequence</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Nvidia Tegra194</dt><dd><ul>
<li><p>Fixed incorrect alignment of TZDRAM base address</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>NXP iMX8M</dt><dd><ul>
<li><p>Fixed CPU hot-plug issues caused by race condition</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STM32MP1</dt><dd><ul>
<li><p>Fixed compilation errors in highly-parallel builds caused by incorrect
Makefile dependencies</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>STM32MP157C-ED1</dt><dd><ul>
<li><p>Fixed initialization issues caused by missing device tree hash node</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Raspberry Pi 3</dt><dd><ul>
<li><p>Fixed compilation errors caused by incorrect dependency ordering in
Makefile</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Rockchip</dt><dd><ul>
<li><p>Fixed initialization issues caused by non-critical errors when parsing
FDT being treated as critical</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Rockchip RK3368</dt><dd><ul>
<li><p>Fixed runtime instability caused by incorrect CPUID shift value</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>QEMU</dt><dd><ul>
<li><p>Fixed compilation errors caused by incorrect dependency ordering in
Makefile</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>QEMU SBSA</dt><dd><ul>
<li><p>Fixed initialization issues caused by FDT exceeding reserved memory
size</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>QTI</dt><dd><ul>
<li><p>Fixed compilation errors caused by inclusion of a non-existent file</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Services</dt><dd><ul>
<li><dl class="simple">
<dt>FF-A (previously SPCI)</dt><dd><ul>
<li><p>Fixed SPMD aborts caused by incorrect behaviour when the manifest is
page-aligned</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Tools</dt><dd><ul>
<li><p>Fixed compilation issues when compiling tools from within their respective
directories</p></li>
<li><dl class="simple">
<dt>FIPTool</dt><dd><ul>
<li><p>Fixed command line parsing issues on Windows when using arguments
whose names also happen to be a subset of another’s</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Marvell DoImage</dt><dd><ul>
<li><p>Fixed PKCS signature verification errors at boot on some platforms
caused by generation of misaligned images</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="known-issues">
<h3>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Platforms</dt><dd><ul>
<li><dl class="simple">
<dt>NVIDIA Tegra</dt><dd><ul>
<li><p>Signed comparison compiler warnings occurring in libfdt are currently
being worked around by disabling the warning for the platform until
the underlying issue is resolved in libfdt</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="version-2-3">
<h2>Version 2.3<a class="headerlink" href="#version-2-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>New Features<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Arm Architecture</dt><dd><ul>
<li><p>Add support for Armv8.4-SecEL2 extension through the SPCI defined SPMD/SPMC
components.</p></li>
<li><p>Build option to support EL2 context save and restore in the secure world
(CTX_INCLUDE_EL2_REGS).</p></li>
<li><p>Add support for SMCCC v1.2 (introducing the new SMCCC_ARCH_SOC_ID SMC).
Note that the support is compliant, but the SVE registers save/restore will
be done as part of future S-EL2/SPM development.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>BL-specific</dt><dd><ul>
<li><p>Enhanced BL2 bootloader flow to load secure partitions based on firmware
configuration data (fconf).</p></li>
<li><p>Changes necessary to support SEPARATE_NOBITS_REGION feature</p></li>
<li><p>TSP and BL2_AT_EL3: Add Position Independent Execution <code class="docutils literal notranslate"><span class="pre">PIE</span></code> support</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Build System</dt><dd><ul>
<li><p>Add support for documentation build as a target in Makefile</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">COT</span></code> build option to select the Chain of Trust to use when the
Trusted Boot feature is enabled (default: <code class="docutils literal notranslate"><span class="pre">tbbr</span></code>).</p></li>
<li><p>Added creation and injection of secure partition packages into the FIP.</p></li>
<li><p>Build option to support SPMC component loading and run at S-EL1
or S-EL2 (SPMD_SPM_AT_SEL2).</p></li>
<li><p>Enable MTE support</p></li>
<li><p>Enable Link Time Optimization in GCC</p></li>
<li><p>Enable -Wredundant-decls warning check</p></li>
<li><p>Makefile: Add support to optionally encrypt BL31 and BL32</p></li>
<li><p>Add support to pass the nt_fw_config DTB to OP-TEE.</p></li>
<li><p>Introduce per-BL <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">ASFLAGS</span></code>, and <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code></p></li>
<li><p>build_macros: Add CREATE_SEQ function to generate sequence of numbers</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CPU Support</dt><dd><ul>
<li><p>cortex-a57: Enable higher performance non-cacheable load forwarding</p></li>
<li><p>Hercules: Workaround for Errata 1688305</p></li>
<li><p>Klein: Support added for Klein CPU</p></li>
<li><p>Matterhorn: Support added for Matterhorn CPU</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Drivers</dt><dd><ul>
<li><p>auth: Add <code class="docutils literal notranslate"><span class="pre">calc_hash</span></code> function for hash calculation. Used for
authentication of images when measured boot is enabled.</p></li>
<li><p>cryptocell: Add authenticated decryption framework, and support
for CryptoCell-713 and CryptoCell-712 RSA 3K</p></li>
<li><p>gic600: Add support for multichip configuration and Clayton</p></li>
<li><p>gicv3: Introduce makefile, Add extended PPI and SPI range,
Add support for probing multiple GIC Redistributor frames</p></li>
<li><p>gicv4: Add GICv4 extension for GIC driver</p></li>
<li><p>io: Add an IO abstraction layer to load encrypted firmwares</p></li>
<li><p>mhu: Derive doorbell base address</p></li>
<li><p>mtd: Add SPI-NOR, SPI-NAND, SPI-MEM, and raw NAND framework</p></li>
<li><p>scmi: Allow use of multiple SCMI channels</p></li>
<li><p>scu: Add a driver for snoop control unit</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Libraries</dt><dd><ul>
<li><p>coreboot: Add memory range parsing and use generic base address</p></li>
<li><p>compiler_rt: Import popcountdi2.c and popcountsi2.c files,
aeabi_ldivmode.S file and dependencies</p></li>
<li><p>debugFS: Add DebugFS functionality</p></li>
<li><p>el3_runtime: Add support for enabling S-EL2</p></li>
<li><p>fconf: Add Firmware Configuration Framework (fconf) (experimental).</p></li>
<li><p>libc: Add memrchr function</p></li>
<li><p>locks: bakery: Use is_dcache_enabled() helper and add a DMB to
the ‘read_cache_op’ macro</p></li>
<li><p>psci: Add support to enable different personality of the same soc.</p></li>
<li><p>xlat_tables_v2: Add support to pass shareability attribute for
normal memory region, use get_current_el_maybe_constant() in
is_dcache_enabled(), read-only xlat tables for BL31 memory, and
add enable_mmu()</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>New Platforms Support</dt><dd><ul>
<li><p>arm/arm_fpga: New platform support added for FPGA</p></li>
<li><p>arm/rddaniel: New platform support added for rd-daniel platform</p></li>
<li><p>brcm/stingray: New platform support added for Broadcom stingray platform</p></li>
<li><p>nvidia/tegra194: New platform support for Nvidia Tegra194 platform</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Platforms</dt><dd><ul>
<li><p>allwinner: Implement PSCI system suspend using SCPI, add a msgbox
driver for use with SCPI, and reserve and map space for the SCP firmware</p></li>
<li><p>allwinner: axp: Add AXP805 support</p></li>
<li><p>allwinner: power: Add DLDO4 power rail</p></li>
<li><p>amlogic: axg: Add a build flag when using ATOS as BL32 and support for
the A113D (AXG) platform</p></li>
<li><p>arm/a5ds: Add ethernet node and L2 cache node in devicetree</p></li>
<li><p>arm/common: Add support for the new <cite>dualroot</cite> chain of trust</p></li>
<li><p>arm/common: Add support for SEPARATE_NOBITS_REGION</p></li>
<li><p>arm/common: Re-enable PIE when RESET_TO_BL31=1</p></li>
<li><p>arm/common: Allow boards to specify second DRAM Base address
and to define PLAT_ARM_TZC_FILTERS</p></li>
<li><p>arm/corstone700: Add support for mhuv2 and stack protector</p></li>
<li><p>arm/fvp: Add support for fconf in BL31 and SP_MIN. Populate power
domain descriptor dynamically by leveraging fconf APIs.</p></li>
<li><p>arm/fvp: Add Cactus/Ivy Secure Partition information and use two
instances of Cactus at S-EL1</p></li>
<li><p>arm/fvp: Add support to run BL32 in TDRAM and BL31 in secure DRAM</p></li>
<li><p>arm/fvp: Add support for GICv4 extension and BL2 hash calculation in BL1</p></li>
<li><p>arm/n1sdp: Setup multichip gic routing table, update platform macros
for dual-chip setup, introduce platform information SDS region, add
support to update presence of External LLC, and enable the
NEOVERSE_N1_EXTERNAL_LLC flag</p></li>
<li><p>arm/rdn1edge: Add support for dual-chip configuration and use
CREATE_SEQ helper macro to compare chip count</p></li>
<li><p>arm/sgm: Always use SCMI for SGM platforms</p></li>
<li><p>arm/sgm775: Add support for dynamic config using fconf</p></li>
<li><p>arm/sgi: Add multi-chip mode parameter in HW_CONFIG dts, macros for
remote chip device region, chip_id and multi_chip_mode to platform
variant info, and introduce number of chips macro</p></li>
<li><p>brcm: Add BL2 and BL31 support common across Broadcom platforms</p></li>
<li><p>brcm: Add iproc SPI Nor flash support, spi driver, emmc driver,
and support to retrieve plat_toc_flags</p></li>
<li><p>hisilicon: hikey960: Enable system power off callback</p></li>
<li><p>intel: Enable bridge access, SiP SMC secure register access, and uboot
entrypoint support</p></li>
<li><p>intel: Implement platform specific system reset 2</p></li>
<li><p>intel: Introduce mailbox response length handling</p></li>
<li><p>imx: console: Use CONSOLE_T_BASE for UART base address and generic console_t
data structure</p></li>
<li><p>imx8mm: Provide uart base as build option and add the support for opteed spd
on imx8mq/imx8mm</p></li>
<li><p>imx8qx: Provide debug uart num as build</p></li>
<li><p>imx8qm: Apply clk/pinmux configuration for DEBUG_CONSOLE and provide debug
uart num as build param</p></li>
<li><p>marvell: a8k: Implement platform specific power off and add support
for loading MG CM3 images</p></li>
<li><p>mediatek: mt8183: Add Vmodem/Vcore DVS init level</p></li>
<li><p>qemu: Support optional encryption of BL31 and BL32 images
and ARM_LINUX_KERNEL_AS_BL33 to pass FDT address</p></li>
<li><p>qemu: Define ARMV7_SUPPORTS_VFP</p></li>
<li><p>qemu: Implement PSCI_CPU_OFF and qemu_system_off via semihosting</p></li>
<li><p>renesas: rcar_gen3: Add new board revision for M3ULCB</p></li>
<li><p>rockchip: Enable workaround for erratum 855873, claim a macro to enable
hdcp feature for DP, enable power domains of rk3399 before reset, add
support for UART3 as serial output, and initialize reset and poweroff
GPIOs with known invalid value</p></li>
<li><p>rpi: Implement PSCI CPU_OFF, use MMIO accessor, autodetect Mini-UART
vs. PL011 configuration, and allow using PL011 UART for RPi3/RPi4</p></li>
<li><p>rpi3: Include GPIO driver in all BL stages and use same “clock-less”
setup scheme as RPi4</p></li>
<li><p>rpi3/4: Add support for offlining CPUs</p></li>
<li><p>st: stm32mp1: platform.mk: Support generating multiple images in one build,
migrate to implicit rules, derive map file name from target name, generate
linker script with fixed name, and use PHONY for the appropriate targets</p></li>
<li><p>st: stm32mp1: Add support for SPI-NOR, raw NAND, and SPI-NAND boot device,
QSPI, FMC2 driver</p></li>
<li><p>st: stm32mp1: Use stm32mp_get_ddr_ns_size() function, set XN attribute for
some areas in BL2, dynamically map DDR later and non-cacheable during its
test, add a function to get non-secure DDR size, add DT helper for reg by
name, and add compilation flags for boot devices</p></li>
<li><p>socionext: uniphier: Turn on ENABLE_PIE</p></li>
<li><p>ti: k3: Add PIE support</p></li>
<li><p>xilinx: versal: Add set wakeup source, client wakeup, query data, request
wakeup, PM_INIT_FINALIZE, PM_GET_TRUSTZONE_VERSION, PM IOCTL, support for
suspend related, and Get_ChipID APIs</p></li>
<li><p>xilinx: versal: Implement power down/restart related EEMI, SMC handler for
EEMI, PLL related PM, clock related PM, pin control related PM, reset related
PM, device related PM , APIs</p></li>
<li><p>xilinx: versal: Enable ipi mailbox service</p></li>
<li><p>xilinx: versal: Add get_api_version support and support to send PM API to PMC
using IPI</p></li>
<li><p>xilinx: zynqmp: Add checksum support for IPI data, GET_CALLBACK_DATA
function, support to query max divisor, CLK_SET_RATE_PARENT in gem clock
node, support for custom type flags, LPD WDT clock to the pm_clock structure,
idcodes for new RFSoC silicons ZU48DR and ZU49DR, and id for new RFSoC device
ZU39DR</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Security</dt><dd><ul>
<li><p>Use Speculation Barrier instruction for v8.5+ cores</p></li>
<li><p>Add support for optional firmware encryption feature (experimental).</p></li>
<li><p>Introduce a new <cite>dualroot</cite> chain of trust.</p></li>
<li><p>aarch64: Prevent speculative execution past ERET</p></li>
<li><p>aarch32: Stop speculative execution past exception returns.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SPCI</dt><dd><ul>
<li><p>Introduced the Secure Partition Manager Dispatcher (SPMD) component as a
new standard service.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Tools</dt><dd><ul>
<li><p>cert_create: Introduce CoT build option and TBBR CoT makefile,
and define the dualroot CoT</p></li>
<li><p>encrypt_fw: Add firmware authenticated encryption tool</p></li>
<li><p>memory: Add show_memory script that prints a representation
of the memory layout for the latest build</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id2">
<h3>Changed<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Arm Architecture</dt><dd><ul>
<li><p>PIE: Make call to GDT relocation fixup generalized</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>BL-Specific</dt><dd><ul>
<li><p>Increase maximum size of BL2 image</p></li>
<li><p>BL31: Discard .dynsym .dynstr .hash sections to make ENABLE_PIE work</p></li>
<li><p>BL31: Split into two separate memory regions</p></li>
<li><p>Unify BL linker scripts and reduce code duplication.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Build System</dt><dd><ul>
<li><p>Changes to drive cert_create for dualroot CoT</p></li>
<li><p>Enable -Wlogical-op always</p></li>
<li><p>Enable -Wshadow always</p></li>
<li><p>Refactor the warning flags</p></li>
<li><p>PIE: Pass PIE options only to BL31</p></li>
<li><p>Reduce space lost to object alignment</p></li>
<li><p>Set lld as the default linker for Clang builds</p></li>
<li><p>Remove -Wunused-const-variable and -Wpadded warning</p></li>
<li><p>Remove -Wmissing-declarations warning from WARNING1 level</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Drivers</dt><dd><ul>
<li><p>authentication: Necessary fix in drivers to upgrade to mbedtls-2.18.0</p></li>
<li><p>console: Integrate UART base address in generic console_t</p></li>
<li><p>gicv3: Change API for GICR_IPRIORITYR accessors and separate
GICD and GICR accessor functions</p></li>
<li><p>io: Change seek offset to signed long long and panic in case
of io setup failure</p></li>
<li><p>smmu: SMMUv3: Changed retry loop to delay timer</p></li>
<li><p>tbbr: Reduce size of hash and ECDSA key buffers when possible</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Library Code</dt><dd><ul>
<li><p>libc: Consolidate the size_t, unified, and NULL definitions,
and unify intmax_t and uintmax_t on AArch32/64</p></li>
<li><p>ROMLIB: Optimize memory layout when ROMLIB is used</p></li>
<li><p>xlat_tables_v2: Use ARRAY_SIZE in REGISTER_XLAT_CONTEXT_FULL_SPEC,
merge REGISTER_XLAT_CONTEXT_{FULL_SPEC,RO_BASE_TABLE},
and simplify end address checks in mmap_add_region_check()</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Platforms</dt><dd><ul>
<li><p>allwinner: Adjust SRAM A2 base to include the ARISC vectors, clean up MMU
setup, reenable USE_COHERENT_MEM, remove unused include path, move the
NOBITS region to SRAM A1, convert AXP803 regulator setup code into a driver,
enable clock before resetting I2C/RSB</p></li>
<li><p>allwinner: h6: power: Switch to using the AXP driver</p></li>
<li><p>allwinner: a64: power: Use fdt_for_each_subnode, remove obsolete register
check, remove duplicate DT check, and make sunxi_turn_off_soc static</p></li>
<li><p>allwinner: Build PMIC bus drivers only in BL31, clean up PMIC-related error
handling, and synchronize PMIC enumerations</p></li>
<li><p>arm/a5ds: Change boot address to point to DDR address</p></li>
<li><p>arm/common: Check for out-of-bound accesses in the platform io policies</p></li>
<li><p>arm/corstone700: Updating the kernel arguments to support initramfs,
use fdts DDR memory and XIP rootfs, and set UART clocks to 32MHz</p></li>
<li><p>arm/fvp: Modify multithreaded dts file of DynamIQ FVPs, slightly bump
the stack size for bl1 and bl2, remove re-definition of topology related
build options, stop reclaiming init code with Clang builds, and map only
the needed DRAM region statically in BL31/SP_MIN</p></li>
<li><p>arm/juno: Maximize space allocated to SCP_BL2</p></li>
<li><p>arm/sgi: Bump bl1 RW limit, mark remote chip shared ram as non-cacheable,
move GIC related constants to board files, include AFF3 affinity in core
position calculation, move bl31_platform_setup to board file, and move
topology information to board folder</p></li>
<li><p>common: Refactor load_auth_image_internal().</p></li>
<li><p>hisilicon: Remove uefi-tools in hikey and hikey960 documentation</p></li>
<li><p>intel: Modify non secure access function, BL31 address mapping, mailbox’s
get_config_status, and stratix10 BL31 parameter handling</p></li>
<li><p>intel: Remove un-needed checks for qspi driver r/w and s10 unused source code</p></li>
<li><p>intel: Change all global sip function to static</p></li>
<li><p>intel: Refactor common platform code</p></li>
<li><p>intel: Create SiP service header file</p></li>
<li><p>marvell: armada: scp_bl2: Allow loading up to 8 images</p></li>
<li><p>marvell: comphy-a3700: Support SGMII COMPHY power off and fix USB3
powering on when on lane 2</p></li>
<li><p>marvell: Consolidate console register calls</p></li>
<li><p>mediatek: mt8183: Protect 4GB~8GB dram memory, refine GIC driver for
low power scenarios, and switch PLL/CLKSQ/ck_off/axi_26m control to SPM</p></li>
<li><p>qemu: Update flash address map to keep FIP in secure FLASH0</p></li>
<li><p>renesas: rcar_gen3: Update IPL and Secure Monitor Rev.2.0.6, update DDR
setting for H3, M3, M3N, change fixed destination address of BL31 and BL32,
add missing #{address,size}-cells into generated DT, pass DT to OpTee OS,
and move DDR drivers out of staging</p></li>
<li><p>rockchip: Make miniloader ddr_parameter handling optional, cleanup securing
of ddr regions, move secure init to separate file, use base+size for secure
ddr regions, bring TZRAM_SIZE values in lined, and prevent macro expansion
in paths</p></li>
<li><p>rpi: Move plat_helpers.S to common</p></li>
<li><p>rpi3: gpio: Simplify GPIO setup</p></li>
<li><p>rpi4: Skip UART initialisation</p></li>
<li><p>st: stm32m1: Use generic console_t data structure, remove second
QSPI flash instance, update for FMC2 pin muxing, and reduce MAX_XLAT_TABLES
to 4</p></li>
<li><p>socionext: uniphier: Make on-chip SRAM and I/O register regions configurable</p></li>
<li><p>socionext: uniphier: Make PSCI related, counter control, UART, pinmon, NAND
controller, and eMMC controller base addresses configurable</p></li>
<li><p>socionext: uniphier: Change block_addressing flag and the return value type
of .is_usb_boot() to bool</p></li>
<li><p>socionext: uniphier: Run BL33 at EL2, call uniphier_scp_is_running() only
when on-chip STM is supported, define PLAT_XLAT_TABLES_DYNAMIC only for BL2,
support read-only xlat tables, use enable_mmu() in common function, shrink
UNIPHIER_ROM_REGION_SIZE, prepare uniphier_soc_info() for next SoC, extend
boot device detection for future SoCs, make all BL images completely
position-independent, make uniphier_mmap_setup() work with PIE, pass SCP
base address as a function parameter, set buffer offset and length for
io_block dynamically, and use more mmap_add_dynamic_region() for loading
images</p></li>
<li><p>spd/trusty: Disable error messages seen during boot, allow gic base to be
specified with GICD_BASE, and allow getting trusty memsize from BL32_MEM_SIZE
instead of TSP_SEC_MEM_SIZE</p></li>
<li><p>ti: k3: common: Enable ARM cluster power down and rename device IDs to
be more consistent</p></li>
<li><p>ti: k3: drivers: ti_sci: Put sequence number in coherent memory and
remove indirect structure of const data</p></li>
<li><p>xilinx: Move ipi mailbox svc to xilinx common</p></li>
<li><p>xilinx: zynqmp: Use GIC framework for warm restart</p></li>
<li><p>xilinx: zynqmp: pm: Move custom clock flags to typeflags, remove
CLK_TOPSW_LSBUS from invalid clock list and rename FPD WDT clock ID</p></li>
<li><p>xilinx: versal: Increase OCM memory size for DEBUG builds and adjust
cpu clock, Move versal_def.h and versal_private to include directory</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Tools</dt><dd><ul>
<li><p>sptool: Updated sptool to accommodate building secure partition packages.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id3">
<h3>Resolved Issues<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Arm Architecture</dt><dd><ul>
<li><p>Fix crash dump for lower EL</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>BL-Specific</dt><dd><ul>
<li><p>Bug fix: Protect TSP prints with lock</p></li>
<li><p>Fix boot failures on some builds linked with ld.lld.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Build System</dt><dd><ul>
<li><p>Fix clang build if CC is not in the path.</p></li>
<li><p>Fix ‘BL stage’ comment for build macros</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Code Quality</dt><dd><ul>
<li><p>coverity: Fix various MISRA violations including null pointer violations,
C issues in BL1/BL2/BL31 and FDT helper functions, using boolean essential,
type, and removing unnecessary header file and comparisons to LONG_MAX in
debugfs devfip</p></li>
<li><p>Based on coding guidelines, replace all <cite>unsigned long</cite> depending on if
fixed based on AArch32 or AArch64.</p></li>
<li><p>Unify type of “cpu_idx” and Platform specific defines across PSCI module.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Drivers</dt><dd><ul>
<li><p>auth: Necessary fix in drivers to upgrade to mbedtls-2.18.0</p></li>
<li><p>delay_timer: Fix non-standard frequency issue in udelay</p></li>
<li><p>gicv3: Fix compiler dependent behavior</p></li>
<li><p>gic600: Fix include ordering according to the coding style and power up sequence</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Library Code</dt><dd><ul>
<li><p>el3_runtime: Fix stack pointer maintenance on EA handling path,
fixup ‘cm_setup_context’ prototype, and adds TPIDR_EL2 register
to the context save restore routines</p></li>
<li><p>libc: Fix SIZE_MAX on AArch32</p></li>
<li><p>locks: T589: Fix insufficient ordering guarantees in bakery lock</p></li>
<li><p>pmf: Fix ‘tautological-constant-compare’ error, Make the runtime
instrumentation work on AArch32, and Simplify PMF helper macro
definitions across header files</p></li>
<li><p>xlat_tables_v2: Fix assembler warning of PLAT_RO_XLAT_TABLES</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Platforms</dt><dd><ul>
<li><p>allwinner: Fix H6 GPIO and CCU memory map addresses and incorrect ARISC
code patch offset check</p></li>
<li><p>arm/a5ds: Correct system freq and Cache Writeback Granule, and cleanup
enable-method in devicetree</p></li>
<li><p>arm/fvp: Fix incorrect GIC mapping, BL31 load address and image size
for RESET_TO_BL31=1, topology description of cpus for DynamIQ based
FVP, and multithreaded FVP power domain tree</p></li>
<li><p>arm/fvp: spm-mm: Correcting instructions to build SPM for FVP</p></li>
<li><p>arm/common: Fix ROTPK hash generation for ECDSA encryption, BL2 bug in
dynamic configuration initialisation, and current RECLAIM_INIT_CODE behavior</p></li>
<li><p>arm/rde1edge: Fix incorrect topology tree description</p></li>
<li><p>arm/sgi: Fix the incorrect check for SCMI channel ID</p></li>
<li><p>common: Flush dcache when storing timestamp</p></li>
<li><p>intel: Fix UEFI decompression issue, memory calibration, SMC SIP service,
mailbox config return status, mailbox driver logic, FPGA manager on
reconfiguration, and mailbox send_cmd issue</p></li>
<li><p>imx: Fix shift-overflow errors, the rdc memory region slot’s offset,
multiple definition of ipc_handle, missing inclusion of cdefs.h, and
correct the SGIs that used for secure interrupt</p></li>
<li><p>mediatek: mt8183: Fix AARCH64 init fail on CPU0</p></li>
<li><p>rockchip: Fix definition of struct param_ddr_usage</p></li>
<li><p>rpi4: Fix documentation of armstub config entry</p></li>
<li><p>st: Correct io possible NULL pointer dereference and device_size type,
nand xor_ecc.val assigned value, static analysis tool issues, and fix
incorrect return value and correctly check pwr-regulators node</p></li>
<li><p>xilinx: zynqmp: Correct syscnt freq for QEMU and fix clock models
and IDs of GEM-related clocks</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id4">
<h3>Known Issues<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl>
<dt>Build System</dt><dd><ul>
<li><p>dtb: DTB creation not supported when building on a Windows host.</p>
<p>This step in the build process is skipped when running on a Windows host. A
known issue from the 1.6 release.</p>
</li>
<li><p>Intermittent assertion firing <cite>ASSERT: services/spd/tspd/tspd_main.c:105</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Coverity</dt><dd><ul class="simple">
<li><p>Intermittent Race condition in Coverity Jenkins Build Job</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Platforms</dt><dd><ul>
<li><p>arm/juno: System suspend from Linux does not function as documented in the
user guide</p>
<p>Following the instructions provided in the user guide document does not
result in the platform entering system suspend state as expected. A message
relating to the hdlcd driver failing to suspend will be emitted on the
Linux terminal.</p>
</li>
<li><p>mediatek/mt6795: This platform does not build in this release</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="version-2-2">
<h2>Version 2.2<a class="headerlink" href="#version-2-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3>New Features<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl>
<dt>Architecture</dt><dd><ul>
<li><dl class="simple">
<dt>Enable Pointer Authentication (PAuth) support for Secure World</dt><dd><ul class="simple">
<li><p>Adds support for ARMv8.3-PAuth in BL1 SMC calls and
BL2U image for firmware updates.</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Enable Memory Tagging Extension (MTE) support in both secure and non-secure
worlds</p>
<blockquote>
<div><ul class="simple">
<li><p>Adds support for the new Memory Tagging Extension arriving in
ARMv8.5. MTE support is now enabled by default on systems that
support it at EL0.</p></li>
<li><p>To enable it at ELx for both the non-secure and the secure
world, the compiler flag <code class="docutils literal notranslate"><span class="pre">CTX_INCLUDE_MTE_REGS</span></code> includes register
saving and restoring when necessary in order to prevent information
leakage between the worlds.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Add support for Branch Target Identification (BTI)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Build System</dt><dd><ul class="simple">
<li><p>Modify FVP makefile for CPUs that support both AArch64/32</p></li>
<li><p>AArch32: Allow compiling with soft-float toolchain</p></li>
<li><p>Makefile: Add default warning flags</p></li>
<li><p>Add Makefile check for PAuth and AArch64</p></li>
<li><p>Add compile-time errors for HW_ASSISTED_COHERENCY flag</p></li>
<li><p>Apply compile-time check for AArch64-only CPUs</p></li>
<li><p>build_macros: Add mechanism to prevent bin generation.</p></li>
<li><p>Add support for default stack-protector flag</p></li>
<li><p>spd: opteed: Enable NS_TIMER_SWITCH</p></li>
<li><p>plat/arm: Skip BL2U if RESET_TO_SP_MIN flag is set</p></li>
<li><p>Add new build option to let each platform select which implementation of spinlocks
it wants to use</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CPU Support</dt><dd><ul class="simple">
<li><p>DSU: Workaround for erratum 798953 and 936184</p></li>
<li><p>Neoverse N1: Force cacheable atomic to near atomic</p></li>
<li><p>Neoverse N1: Workaround for erratum 1073348, 1130799, 1165347, 1207823,
1220197, 1257314, 1262606, 1262888, 1275112, 1315703, 1542419</p></li>
<li><p>Neoverse Zeus: Apply the MSR SSBS instruction</p></li>
<li><p>cortex-Hercules/HerculesAE: Support added for Cortex-Hercules and
Cortex-HerculesAE CPUs</p></li>
<li><p>cortex-Hercules/HerculesAE: Enable AMU for Cortex-Hercules and Cortex-HerculesAE</p></li>
<li><p>cortex-a76AE: Support added for Cortex-A76AE CPU</p></li>
<li><p>cortex-a76: Workaround for erratum 1257314, 1262606, 1262888, 1275112,
1286807</p></li>
<li><p>cortex-a65/a65AE: Support added for  Cortex-A65 and  Cortex-A65AE CPUs</p></li>
<li><p>cortex-a65: Enable AMU for  Cortex-A65</p></li>
<li><p>cortex-a55: Workaround for erratum 1221012</p></li>
<li><p>cortex-a35: Workaround for erratum 855472</p></li>
<li><p>cortex-a9: Workaround for erratum 794073</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Drivers</dt><dd><ul>
<li><p>console: Allow the console to register multiple times</p></li>
<li><p>delay: Timeout detection support</p></li>
<li><p>gicv3: Enabled multi-socket GIC redistributor frame discovery and migrated
ARM platforms to the new API</p>
<blockquote>
<div><ul class="simple">
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">gicv3_rdistif_probe</span></code> function that delegates the responsibility
of discovering the corresponding redistributor base frame to each CPU
itself.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>sbsa: Add SBSA watchdog driver</p></li>
<li><p>st/stm32_hash: Add HASH driver</p></li>
<li><p>ti/uart: Add an AArch32 variant</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Library at ROM (romlib)</dt><dd><ul class="simple">
<li><p>Introduce BTI support in Library at ROM (romlib)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>New Platforms Support</dt><dd><ul class="simple">
<li><p>amlogic: g12a: New platform support added for the S905X2 (G12A) platform</p></li>
<li><p>amlogic: meson/gxl: New platform support added for Amlogic Meson
S905x (GXL)</p></li>
<li><p>arm/a5ds: New platform support added for A5 DesignStart</p></li>
<li><p>arm/corstone: New platform support added for Corstone-700</p></li>
<li><p>intel: New platform support added for Agilex</p></li>
<li><p>mediatek:  New platform support added for MediaTek mt8183</p></li>
<li><p>qemu/qemu_sbsa: New platform support added for QEMU SBSA platform</p></li>
<li><p>renesas/rcar_gen3: plat: New platform support added for D3</p></li>
<li><p>rockchip: New platform support added for px30</p></li>
<li><p>rockchip: New platform support added for rk3288</p></li>
<li><p>rpi: New platform support added for Raspberry Pi 4</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Platforms</dt><dd><ul class="simple">
<li><p>arm/common: Introduce wrapper functions to setup secure watchdog</p></li>
<li><p>arm/fvp: Add Delay Timer driver to BL1 and BL31 and option for defining
platform DRAM2 base</p></li>
<li><p>arm/fvp: Add Linux DTS files for 32 bit threaded FVPs</p></li>
<li><p>arm/n1sdp: Add code for DDR ECC enablement and BL33 copy to DDR, Initialise CNTFRQ
in Non Secure CNTBaseN</p></li>
<li><p>arm/juno: Use shared mbedtls heap between BL1 and BL2 and add basic support for
dynamic config</p></li>
<li><p>imx: Basic support for PicoPi iMX7D, rdc module init, caam module init,
aipstz init, IMX_SIP_GET_SOC_INFO, IMX_SIP_BUILDINFO added</p></li>
<li><p>intel: Add ncore ccu driver</p></li>
<li><p>mediatek/mt81*: Use new bl31_params_parse() helper</p></li>
<li><p>nvidia: tegra: Add support for multi console interface</p></li>
<li><p>qemu/qemu_sbsa: Adding memory mapping for both FLASH0/FLASH1</p></li>
<li><p>qemu: Added gicv3 support, new console interface in AArch32, and sub-platforms</p></li>
<li><p>renesas/rcar_gen3: plat: Add R-Car V3M support, new board revision for H3ULCB, DBSC4
setting before self-refresh mode</p></li>
<li><p>socionext/uniphier: Support console based on  multi-console</p></li>
<li><p>st: stm32mp1: Add OP-TEE, Avenger96, watchdog, LpDDR3, authentication support
and general SYSCFG management</p></li>
<li><p>ti/k3: common: Add support for J721E, Use coherent memory for shared data, Trap all
asynchronous bus errors to EL3</p></li>
<li><p>xilinx/zynqmp: Add support for multi console interface, Initialize IPI table from
zynqmp_config_setup()</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>PSCI</dt><dd><ul class="simple">
<li><dl class="simple">
<dt>Adding new optional PSCI hook <code class="docutils literal notranslate"><span class="pre">pwr_domain_on_finish_late</span></code></dt><dd><ul>
<li><p>This PSCI hook <code class="docutils literal notranslate"><span class="pre">pwr_domain_on_finish_late</span></code> is similar to
<code class="docutils literal notranslate"><span class="pre">pwr_domain_on_finish</span></code> but is guaranteed to be invoked when the
respective core and cluster are participating in coherency.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Security</dt><dd><ul class="simple">
<li><p>Speculative Store Bypass Safe (SSBS): Further enhance protection against Spectre
variant 4 by disabling speculative loads/stores (SPSR.SSBS bit) by default.</p></li>
<li><dl class="simple">
<dt>UBSAN support and handlers</dt><dd><ul>
<li><p>Adds support for the Undefined Behaviour sanitizer. There are two types of
support offered - minimalistic trapping support which essentially immediately
crashes on undefined behaviour and full support with full debug messages.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Tools</dt><dd><ul class="simple">
<li><p>cert_create: Add support for bigger RSA key sizes (3KB and 4KB),
previously the maximum size was 2KB.</p></li>
<li><p>fiptool: Add support to build fiptool on Windows.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id6">
<h3>Changed<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Architecture</dt><dd><ul>
<li><p>Refactor ARMv8.3 Pointer Authentication support code</p></li>
<li><p>backtrace: Strip PAC field when PAUTH is enabled</p></li>
<li><p>Prettify crash reporting output on AArch64.</p></li>
<li><dl class="simple">
<dt>Rework smc_unknown return code path in smc_handler</dt><dd><ul>
<li><p>Leverage the existing <code class="docutils literal notranslate"><span class="pre">el3_exit()</span></code> return routine for smc_unknown return
path rather than a custom set of instructions.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>BL-Specific</dt><dd><ul>
<li><p>Invalidate dcache build option for BL2 entry at EL3</p></li>
<li><p>Add missing support for BL2_AT_EL3 in XIP memory</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Boot Flow</dt><dd><ul>
<li><p>Add helper to parse BL31 parameters (both versions)</p></li>
<li><p>Factor out cross-BL API into export headers suitable for 3rd party code</p></li>
<li><p>Introduce lightweight BL platform parameter library</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Drivers</dt><dd><ul>
<li><p>auth: Memory optimization for Chain of Trust (CoT) description</p></li>
<li><p>bsec: Move bsec_mode_is_closed_device() service to platform</p></li>
<li><p>cryptocell: Move Cryptocell specific API into driver</p></li>
<li><p>gicv3: Prevent pending G1S interrupt from becoming G0 interrupt</p></li>
<li><p>mbedtls: Remove weak heap implementation</p></li>
<li><p>mmc: Increase delay between ACMD41 retries</p></li>
<li><p>mmc: stm32_sdmmc2: Correctly manage block size</p></li>
<li><p>mmc: stm32_sdmmc2: Manage max-frequency property from DT</p></li>
<li><p>synopsys/emmc: Do not change FIFO TH as this breaks some platforms</p></li>
<li><p>synopsys: Update synopsys drivers to not rely on undefined overflow behaviour</p></li>
<li><p>ufs: Extend the delay after reset to wait for some slower chips</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Platforms</dt><dd><ul>
<li><p>amlogic/meson/gxl: Remove BL2 dependency from BL31</p></li>
<li><p>arm/common: Shorten the Firmware Update (FWU) process</p></li>
<li><p>arm/fvp: Remove GIC initialisation from secondary core cold boot</p></li>
<li><p>arm/sgm: Temporarily disable shared Mbed TLS heap for SGM</p></li>
<li><p>hisilicon: Update hisilicon drivers to not rely on undefined overflow behaviour</p></li>
<li><p>imx: imx8: Replace PLAT_IMX8* with PLAT_imx8*, remove duplicated linker symbols and
deprecated code include, keep only IRQ 32 unmasked, enable all power domain by default</p></li>
<li><p>marvell: Prevent SError accessing PCIe link, Switch to xlat_tables_v2, do not rely on
argument passed via smc, make sure that comphy init will use correct address</p></li>
<li><p>mediatek: mt8173: Refactor RTC and PMIC drivers</p></li>
<li><p>mediatek: mt8173: Apply MULTI_CONSOLE framework</p></li>
<li><p>nvidia: Tegra: memctrl_v2: fix “overflow before widen” coverity issue</p></li>
<li><p>qemu: Simplify the image size calculation, Move and generalise FDT PSCI fixup, move
gicv2 codes to separate file</p></li>
<li><p>renesas/rcar_gen3: Convert to multi-console API, update QoS setting, Update IPL and
Secure Monitor Rev2.0.4, Change to restore timer counter value at resume, Update DDR
setting rev.0.35, qos: change subslot cycle, Change periodic write DQ training option.</p></li>
<li><p>rockchip: Allow SOCs with undefined wfe check bits, Streamline and complete UARTn_BASE
macros, drop rockchip-specific imported linker symbols for bl31, Disable binary generation
for all SOCs, Allow console device to be set by DTB, Use new bl31_params_parse functions</p></li>
<li><p>rpi/rpi3: Move shared rpi3 files into common directory</p></li>
<li><p>socionext/uniphier: Set CONSOLE_FLAG_TRANSLATE_CRLF and clean up console driver</p></li>
<li><p>socionext/uniphier: Replace DIV_ROUND_UP() with div_round_up() from utils_def.h</p></li>
<li><p>st/stm32mp: Split stm32mp_io_setup function, move stm32_get_gpio_bank_clock() to private
file, correctly handle Clock Spreading Generator, move oscillator functions to generic file,
realign device tree files with internal devs, enable RTCAPB clock for dual-core chips, use a
common function to check spinlock is available, move check_header() to common code</p></li>
<li><p>ti/k3: Enable SEPARATE_CODE_AND_RODATA by default, Remove shared RAM space,
Drop _ADDRESS from K3_USART_BASE to match other defines, Remove MSMC port
definitions, Allow USE_COHERENT_MEM for K3, Set L2 latency on A72 cores</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>PSCI</dt><dd><ul>
<li><p>PSCI: Lookup list of parent nodes to lock only once</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Secure Partition Manager (SPM): SPCI Prototype</dt><dd><ul>
<li><p>Fix service UUID lookup</p></li>
<li><p>Adjust size of virtual address space per partition</p></li>
<li><p>Refactor xlat context creation</p></li>
<li><p>Move shim layer to TTBR1_EL1</p></li>
<li><p>Ignore empty regions in resource description</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Security</dt><dd><ul>
<li><p>Refactor SPSR initialisation code</p></li>
<li><dl class="simple">
<dt>SMMUv3: Abort DMA transactions</dt><dd><ul>
<li><p>For security DMA should be blocked at the SMMU by default unless explicitly
enabled for a device. SMMU is disabled after reset with all streams bypassing
the SMMU, and abortion of all incoming transactions implements a default deny
policy on reset.</p></li>
<li><p>Moves <code class="docutils literal notranslate"><span class="pre">bl1_platform_setup()</span></code> function from arm_bl1_setup.c to FVP platforms’
fvp_bl1_setup.c and fvp_ve_bl1_setup.c files.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Tools</dt><dd><ul>
<li><p>cert_create: Remove RSA PKCS#1 v1.5 support</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id7">
<h3>Resolved Issues<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Architecture</dt><dd><ul>
<li><p>Fix the CAS spinlock implementation by adding a missing DSB in <code class="docutils literal notranslate"><span class="pre">spin_unlock()</span></code></p></li>
<li><dl class="simple">
<dt>AArch64: Fix SCTLR bit definitions</dt><dd><ul>
<li><p>Removes incorrect <code class="docutils literal notranslate"><span class="pre">SCTLR_V_BIT</span></code> definition and adds definitions for
ARMv8.3-Pauth <cite>EnIB</cite>, <cite>EnDA</cite> and <cite>EnDB</cite> bits.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Fix restoration of PAuth context</dt><dd><ul>
<li><p>Replace call to <code class="docutils literal notranslate"><span class="pre">pauth_context_save()</span></code> with <code class="docutils literal notranslate"><span class="pre">pauth_context_restore()</span></code> in
case of unknown SMC call.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>BL-Specific Issues</dt><dd><ul>
<li><p>Fix BL31 crash reporting on AArch64 only platforms</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Build System</dt><dd><ul>
<li><p>Remove several warnings reported with W=2 and W=1</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Code Quality Issues</dt><dd><ul>
<li><p>SCTLR and ACTLR are 32-bit for AArch32 and 64-bit for AArch64</p></li>
<li><p>Unify type of “cpu_idx” across PSCI module.</p></li>
<li><p>Assert if power level value greater then PSCI_INVALID_PWR_LVL</p></li>
<li><p>Unsigned long should not be used as per coding guidelines</p></li>
<li><p>Reduce the number of memory leaks in cert_create</p></li>
<li><p>Fix type of cot_desc_ptr</p></li>
<li><p>Use explicit-width data types in AAPCS parameter structs</p></li>
<li><p>Add python configuration for editorconfig</p></li>
<li><p>BL1: Fix type consistency</p></li>
<li><p>Enable -Wshift-overflow=2 to check for undefined shift behavior</p></li>
<li><p>Updated upstream platforms to not rely on undefined overflow behaviour</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Coverity Quality Issues</dt><dd><ul>
<li><p>Remove GGC ignore -Warray-bounds</p></li>
<li><p>Fix Coverity #261967, Infinite loop</p></li>
<li><p>Fix Coverity #343017, Missing unlock</p></li>
<li><p>Fix Coverity #343008, Side affect in assertion</p></li>
<li><p>Fix Coverity #342970, Uninitialized scalar variable</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CPU Support</dt><dd><ul>
<li><p>cortex-a12: Fix MIDR mask</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Drivers</dt><dd><ul>
<li><p>console: Remove Arm console unregister on suspend</p></li>
<li><p>gicv3: Fix support for full SPI range</p></li>
<li><p>scmi: Fix wrong payload length</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Library Code</dt><dd><ul>
<li><p>libc: Fix sparse warning for __assert()</p></li>
<li><p>libc: Fix memchr implementation</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Platforms</dt><dd><ul>
<li><p>rpi: rpi3: Fix compilation error when stack protector is enabled</p></li>
<li><p>socionext/uniphier: Fix compilation fail for SPM support build config</p></li>
<li><p>st/stm32mp1: Fix TZC400 configuration against non-secure DDR</p></li>
<li><p>ti/k3: common: Fix RO data area size calculation</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Security</dt><dd><ul>
<li><dl class="simple">
<dt>AArch32: Disable Secure Cycle Counter</dt><dd><ul>
<li><p>Changes the implementation for disabling Secure Cycle Counter.
For ARMv8.5 the counter gets disabled by setting <code class="docutils literal notranslate"><span class="pre">SDCR.SCCD</span></code> bit on
CPU cold/warm boot. For the earlier architectures PMCR register is
saved/restored on secure world entry/exit from/to Non-secure state,
and cycle counting gets disabled by setting PMCR.DP bit.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>AArch64: Disable Secure Cycle Counter</dt><dd><ul>
<li><p>For ARMv8.5 the counter gets disabled by setting <code class="docutils literal notranslate"><span class="pre">MDCR_El3.SCCD</span></code> bit on
CPU cold/warm boot. For the earlier architectures PMCR_EL0 register is
saved/restored on secure world entry/exit from/to Non-secure state,
and cycle counting gets disabled by setting PMCR_EL0.DP bit.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="deprecations">
<h3>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Common Code</dt><dd><ul>
<li><p>Remove MULTI_CONSOLE_API flag and references to it</p></li>
<li><p>Remove deprecated <cite>plat_crash_console_*</cite></p></li>
<li><p>Remove deprecated interfaces <cite>get_afflvl_shift</cite>, <cite>mpidr_mask_lower_afflvls</cite>, <cite>eret</cite></p></li>
<li><p>AARCH32/AARCH64 macros are now deprecated in favor of <code class="docutils literal notranslate"><span class="pre">__aarch64__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__ASSEMBLY__</span></code> macro is now deprecated in favor of <code class="docutils literal notranslate"><span class="pre">__ASSEMBLER__</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Drivers</dt><dd><ul>
<li><p>console: Removed legacy console API</p></li>
<li><p>console: Remove deprecated finish_console_register</p></li>
<li><p>tzc: Remove deprecated types <cite>tzc_action_t</cite> and <cite>tzc_region_attributes_t</cite></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Secure Partition Manager (SPM):</dt><dd><ul>
<li><p>Prototype SPCI-based SPM (services/std_svc/spm) will be replaced with alternative
methods of secure partitioning support.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id8">
<h3>Known Issues<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl>
<dt>Build System Issues</dt><dd><ul>
<li><p>dtb: DTB creation not supported when building on a Windows host.</p>
<p>This step in the build process is skipped when running on a Windows host. A
known issue from the 1.6 release.</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Platform Issues</dt><dd><ul>
<li><p>arm/juno: System suspend from Linux does not function as documented in the
user guide</p>
<p>Following the instructions provided in the user guide document does not
result in the platform entering system suspend state as expected. A message
relating to the hdlcd driver failing to suspend will be emitted on the
Linux terminal.</p>
</li>
<li><p>mediatek/mt6795: This platform does not build in this release</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="version-2-1">
<h2>Version 2.1<a class="headerlink" href="#version-2-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id9">
<h3>New Features<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl>
<dt>Architecture</dt><dd><ul>
<li><p>Support for ARMv8.3 pointer authentication in the normal and secure worlds</p>
<p>The use of pointer authentication in the normal world is enabled whenever
architectural support is available, without the need for additional build
flags.</p>
<p>Use of pointer authentication in the secure world remains an
experimental configuration at this time. Using both the <code class="docutils literal notranslate"><span class="pre">ENABLE_PAUTH</span></code>
and <code class="docutils literal notranslate"><span class="pre">CTX_INCLUDE_PAUTH_REGS</span></code> build flags, pointer authentication can be
enabled in EL3 and S-EL1/0.</p>
<p>See the <a class="reference internal" href="design/firmware-design.html#firmware-design"><span class="std std-ref">Firmware Design</span></a> document for additional details on the use
of pointer authentication.</p>
</li>
<li><p>Enable Data Independent Timing (DIT) in EL3, where supported</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Build System</dt><dd><ul>
<li><p>Support for BL-specific build flags</p></li>
<li><p>Support setting compiler target architecture based on <code class="docutils literal notranslate"><span class="pre">ARM_ARCH_MINOR</span></code>
build option.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">RECLAIM_INIT_CODE</span></code> build flag:</p>
<p>A significant amount of the code used for the initialization of BL31 is
not needed again after boot time. In order to reduce the runtime memory
footprint, the memory used for this code can be reclaimed after
initialization.</p>
<p>Certain boot-time functions were marked with the <code class="docutils literal notranslate"><span class="pre">__init</span></code> attribute to
enable this reclamation.</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>CPU Support</dt><dd><ul class="simple">
<li><p>cortex-a76: Workaround for erratum 1073348</p></li>
<li><p>cortex-a76: Workaround for erratum 1220197</p></li>
<li><p>cortex-a76: Workaround for erratum 1130799</p></li>
<li><p>cortex-a75: Workaround for erratum 790748</p></li>
<li><p>cortex-a75: Workaround for erratum 764081</p></li>
<li><p>cortex-a73: Workaround for erratum 852427</p></li>
<li><p>cortex-a73: Workaround for erratum 855423</p></li>
<li><p>cortex-a57: Workaround for erratum 817169</p></li>
<li><p>cortex-a57: Workaround for erratum 814670</p></li>
<li><p>cortex-a55: Workaround for erratum 903758</p></li>
<li><p>cortex-a55: Workaround for erratum 846532</p></li>
<li><p>cortex-a55: Workaround for erratum 798797</p></li>
<li><p>cortex-a55: Workaround for erratum 778703</p></li>
<li><p>cortex-a55: Workaround for erratum 768277</p></li>
<li><p>cortex-a53: Workaround for erratum 819472</p></li>
<li><p>cortex-a53: Workaround for erratum 824069</p></li>
<li><p>cortex-a53: Workaround for erratum 827319</p></li>
<li><p>cortex-a17: Workaround for erratum 852423</p></li>
<li><p>cortex-a17: Workaround for erratum 852421</p></li>
<li><p>cortex-a15: Workaround for erratum 816470</p></li>
<li><p>cortex-a15: Workaround for erratum 827671</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Documentation</dt><dd><ul class="simple">
<li><p>Exception Handling Framework documentation</p></li>
<li><p>Library at ROM (romlib) documentation</p></li>
<li><p>RAS framework documentation</p></li>
<li><p>Coding Guidelines document</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Drivers</dt><dd><ul>
<li><dl class="simple">
<dt>ccn: Add API for setting and reading node registers</dt><dd><ul class="simple">
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">ccn_read_node_reg</span></code> function</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">ccn_write_node_reg</span></code> function</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>partition: Support MBR partition entries</p></li>
<li><p>scmi: Add <code class="docutils literal notranslate"><span class="pre">plat_css_get_scmi_info</span></code> function</p>
<p>Adds a new API <code class="docutils literal notranslate"><span class="pre">plat_css_get_scmi_info</span></code> which lets the platform
register a platform-specific instance of <code class="docutils literal notranslate"><span class="pre">scmi_channel_plat_info_t</span></code> and
remove the default values</p>
</li>
<li><p>tzc380: Add TZC-380 TrustZone Controller driver</p></li>
<li><p>tzc-dmc620: Add driver to manage the TrustZone Controller within the
DMC-620 Dynamic Memory Controller</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Library at ROM (romlib)</dt><dd><ul>
<li><p>Add platform-specific jump table list</p></li>
<li><p>Allow patching of romlib functions</p>
<p>This change allows patching of functions in the romlib. This can be done by
adding “patch” at the end of the jump table entry for the function that
needs to be patched in the file jmptbl.i.</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Library Code</dt><dd><ul class="simple">
<li><p>Support non-LPAE-enabled MMU tables in AArch32</p></li>
<li><dl class="simple">
<dt>mmio: Add <code class="docutils literal notranslate"><span class="pre">mmio_clrsetbits_16</span></code> function</dt><dd><ul>
<li><p>16-bit variant of <code class="docutils literal notranslate"><span class="pre">mmio_clrsetbits</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>object_pool: Add Object Pool Allocator</dt><dd><ul>
<li><p>Manages object allocation using a fixed-size static array</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">pool_alloc</span></code> and <code class="docutils literal notranslate"><span class="pre">pool_alloc_n</span></code> functions</p></li>
<li><p>Does not provide any functions to free allocated objects (by design)</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>libc: Added <code class="docutils literal notranslate"><span class="pre">strlcpy</span></code> function</p></li>
<li><p>libc: Import <code class="docutils literal notranslate"><span class="pre">strrchr</span></code> function from FreeBSD</p></li>
<li><p>xlat_tables: Add support for ARMv8.4-TTST</p></li>
<li><p>xlat_tables: Support mapping regions without an explicitly specified VA</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Math</dt><dd><ul class="simple">
<li><p>Added softudiv macro to support software division</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Memory Partitioning And Monitoring (MPAM)</dt><dd><ul class="simple">
<li><p>Enabled MPAM EL2 traps (<code class="docutils literal notranslate"><span class="pre">MPAMHCR_EL2</span></code> and <code class="docutils literal notranslate"><span class="pre">MPAM_EL2</span></code>)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Platforms</dt><dd><ul>
<li><p>amlogic: Add support for Meson S905 (GXBB)</p></li>
<li><p>arm/fvp_ve: Add support for FVP Versatile Express platform</p></li>
<li><p>arm/n1sdp: Add support for Neoverse N1 System Development platform</p></li>
<li><p>arm/rde1edge: Add support for Neoverse E1 platform</p></li>
<li><p>arm/rdn1edge: Add support for Neoverse N1 platform</p></li>
<li><p>arm: Add support for booting directly to Linux without an intermediate
loader (AArch32)</p></li>
<li><p>arm/juno: Enable new CPU errata workarounds for A53 and A57</p></li>
<li><p>arm/juno: Add romlib support</p>
<p>Building a combined BL1 and ROMLIB binary file with the correct page
alignment is now supported on the Juno platform. When <code class="docutils literal notranslate"><span class="pre">USE_ROMLIB</span></code> is set
for Juno, it generates the combined file <code class="docutils literal notranslate"><span class="pre">bl1_romlib.bin</span></code> which needs to
be used instead of bl1.bin.</p>
</li>
<li><p>intel/stratix: Add support for Intel Stratix 10 SoC FPGA platform</p></li>
<li><p>marvell: Add support for Armada-37xx SoC platform</p></li>
<li><p>nxp: Add support for i.MX8M and i.MX7 Warp7 platforms</p></li>
<li><p>renesas: Add support for R-Car Gen3 platform</p></li>
<li><p>xilinx: Add support for Versal ACAP platforms</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Position-Independent Executable (PIE)</p>
<p>PIE support has initially been added to BL31. The <code class="docutils literal notranslate"><span class="pre">ENABLE_PIE</span></code> build flag is
used to enable or disable this functionality as required.</p>
</li>
<li><dl>
<dt>Secure Partition Manager</dt><dd><ul>
<li><p>New SPM implementation based on SPCI Alpha 1 draft specification</p>
<p>A new version of SPM has been implemented, based on the SPCI (Secure
Partition Client Interface) and SPRT (Secure Partition Runtime) draft
specifications.</p>
<p>The new implementation is a prototype that is expected to undergo intensive
rework as the specifications change. It has basic support for multiple
Secure Partitions and Resource Descriptions.</p>
<p>The older version of SPM, based on MM (ARM Management Mode Interface
Specification), is still present in the codebase. A new build flag,
<code class="docutils literal notranslate"><span class="pre">SPM_MM</span></code> has been added to allow selection of the desired implementation.
This flag defaults to 1, selecting the MM-based implementation.</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Security</dt><dd><ul>
<li><p>Spectre Variant-1 mitigations (<code class="docutils literal notranslate"><span class="pre">CVE-2017-5753</span></code>)</p></li>
<li><p>Use Speculation Store Bypass Safe (SSBS) functionality where available</p>
<p>Provides mitigation against <code class="docutils literal notranslate"><span class="pre">CVE-2018-19440</span></code> (Not saving x0 to x3
registers can leak information from one Normal World SMC client to another)</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id10">
<h3>Changed<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl class="simple">
<dt>Build System</dt><dd><ul class="simple">
<li><p>Warning levels are now selectable with <code class="docutils literal notranslate"><span class="pre">W=&lt;1,2,3&gt;</span></code></p></li>
<li><p>Removed unneeded include paths in PLAT_INCLUDES</p></li>
<li><p>“Warnings as errors” (Werror) can be disabled using <code class="docutils literal notranslate"><span class="pre">E=0</span></code></p></li>
<li><p>Support totally quiet output with <code class="docutils literal notranslate"><span class="pre">-s</span></code> flag</p></li>
<li><p>Support passing options to checkpatch using <code class="docutils literal notranslate"><span class="pre">CHECKPATCH_OPTS=&lt;opts&gt;</span></code></p></li>
<li><p>Invoke host compiler with <code class="docutils literal notranslate"><span class="pre">HOSTCC</span> <span class="pre">/</span> <span class="pre">HOSTCCFLAGS</span></code> instead of <code class="docutils literal notranslate"><span class="pre">CC</span> <span class="pre">/</span> <span class="pre">CFLAGS</span></code></p></li>
<li><dl class="simple">
<dt>Make device tree pre-processing similar to U-boot/Linux by:</dt><dd><ul>
<li><p>Creating separate <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code> for DT preprocessing so that compiler
options specific to it can be accommodated.</p></li>
<li><p>Replacing <code class="docutils literal notranslate"><span class="pre">CPP</span></code> with <code class="docutils literal notranslate"><span class="pre">PP</span></code> for DT pre-processing</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>CPU Support</dt><dd><ul>
<li><p>Errata report function definition is now mandatory for CPU support files</p>
<p>CPU operation files must now define a <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;_errata_report</span></code> function to
print errata status. This is no longer a weak reference.</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Documentation</dt><dd><ul class="simple">
<li><p>Migrated some content from GitHub wiki to <code class="docutils literal notranslate"><span class="pre">docs/</span></code> directory</p></li>
<li><p>Security advisories now have CVE links</p></li>
<li><p>Updated copyright guidelines</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Drivers</dt><dd><ul>
<li><p>console: The <code class="docutils literal notranslate"><span class="pre">MULTI_CONSOLE_API</span></code> framework has been rewritten in C</p></li>
<li><p>console: Ported multi-console driver to AArch32</p></li>
<li><p>gic: Remove ‘lowest priority’ constants</p>
<p>Removed <code class="docutils literal notranslate"><span class="pre">GIC_LOWEST_SEC_PRIORITY</span></code> and <code class="docutils literal notranslate"><span class="pre">GIC_LOWEST_NS_PRIORITY</span></code>.
Platforms should define these if required, or instead determine the correct
priority values at runtime.</p>
</li>
<li><p>delay_timer: Check that the Generic Timer extension is present</p></li>
<li><p>mmc: Increase command reply timeout to 10 milliseconds</p></li>
<li><p>mmc: Poll eMMC device status to ensure <code class="docutils literal notranslate"><span class="pre">EXT_CSD</span></code> command completion</p></li>
<li><p>mmc: Correctly check return code from <code class="docutils literal notranslate"><span class="pre">mmc_fill_device_info</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><p>External Libraries</p>
<blockquote>
<div><ul>
<li><p>libfdt: Upgraded from 1.4.2 to 1.4.6-9</p></li>
<li><p>mbed TLS: Upgraded from 2.12 to 2.16</p>
<p>This change incorporates fixes for security issues that should be reviewed
to determine if they are relevant for software implementations using
Trusted Firmware-A. See the <a class="reference external" href="https://tls.mbed.org/tech-updates/releases">mbed TLS releases</a> page for details on
changes from the 2.12 to the 2.16 release.</p>
</li>
</ul>
</div></blockquote>
</li>
<li><dl class="simple">
<dt>Library Code</dt><dd><ul class="simple">
<li><p>compiler-rt: Updated <code class="docutils literal notranslate"><span class="pre">lshrdi3.c</span></code> and <code class="docutils literal notranslate"><span class="pre">int_lib.h</span></code> with changes from
LLVM master branch (r345645)</p></li>
<li><p>cpu: Updated macro that checks need for <code class="docutils literal notranslate"><span class="pre">CVE-2017-5715</span></code> mitigation</p></li>
<li><p>libc: Made setjmp and longjmp C standard compliant</p></li>
<li><p>libc: Allowed overriding the default libc (use <code class="docutils literal notranslate"><span class="pre">OVERRIDE_LIBC</span></code>)</p></li>
<li><p>libc: Moved setjmp and longjmp to the <code class="docutils literal notranslate"><span class="pre">libc/</span></code> directory</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Platforms</dt><dd><ul>
<li><p>Removed Mbed TLS dependency from plat_bl_common.c</p></li>
<li><p>arm: Removed unused <code class="docutils literal notranslate"><span class="pre">ARM_MAP_BL_ROMLIB</span></code> macro</p></li>
<li><p>arm: Removed <code class="docutils literal notranslate"><span class="pre">ARM_BOARD_OPTIMISE_MEM</span></code> feature and build flag</p></li>
<li><p>arm: Moved several components into <code class="docutils literal notranslate"><span class="pre">drivers/</span></code> directory</p>
<p>This affects the SDS, SCP, SCPI, MHU and SCMI components</p>
</li>
<li><p>arm/juno: Increased maximum BL2 image size to <code class="docutils literal notranslate"><span class="pre">0xF000</span></code></p>
<p>This change was required to accommodate a larger <code class="docutils literal notranslate"><span class="pre">libfdt</span></code> library</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>SCMI</dt><dd><ul class="simple">
<li><p>Optimized bakery locks when hardware-assisted coherency is enabled using the
<code class="docutils literal notranslate"><span class="pre">HW_ASSISTED_COHERENCY</span></code> build flag</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>SDEI</dt><dd><ul>
<li><p>Added support for unconditionally resuming secure world execution after
<a class="reference internal" href="glossary.html#term-SDEI"><span class="xref std std-term">SDEI</span></a> event processing completes</p>
<p><a class="reference internal" href="glossary.html#term-SDEI"><span class="xref std std-term">SDEI</span></a> interrupts, although targeting EL3, occur on behalf of the non-secure
world, and may have higher priority than secure world
interrupts. Therefore they might preempt secure execution and yield
execution to the non-secure <a class="reference internal" href="glossary.html#term-SDEI"><span class="xref std std-term">SDEI</span></a> handler. Upon completion of <a class="reference internal" href="glossary.html#term-SDEI"><span class="xref std std-term">SDEI</span></a> event
handling, resume secure execution if it was preempted.</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Translation Tables (XLAT)</dt><dd><ul>
<li><p>Dynamically detect need for <code class="docutils literal notranslate"><span class="pre">Common</span> <span class="pre">not</span> <span class="pre">Private</span> <span class="pre">(TTBRn_ELx.CnP)</span></code> bit</p>
<p>Properly handle the case where <code class="docutils literal notranslate"><span class="pre">ARMv8.2-TTCNP</span></code> is implemented in a CPU
that does not implement all mandatory v8.2 features (and so must claim to
implement a lower architecture version).</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id11">
<h3>Resolved Issues<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl class="simple">
<dt>Architecture</dt><dd><ul class="simple">
<li><p>Incorrect check for SSBS feature detection</p></li>
<li><p>Unintentional register clobber in AArch32 reset_handler function</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Build System</dt><dd><ul class="simple">
<li><p>Dependency issue during DTB image build</p></li>
<li><p>Incorrect variable expansion in Arm platform makefiles</p></li>
<li><p>Building on Windows with verbose mode (<code class="docutils literal notranslate"><span class="pre">V=1</span></code>) enabled is broken</p></li>
<li><p>AArch32 compilation flags is missing <code class="docutils literal notranslate"><span class="pre">$(march32-directive)</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>BL-Specific Issues</dt><dd><ul class="simple">
<li><p>bl2: <code class="docutils literal notranslate"><span class="pre">uintptr_t</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">defined</span></code> error when <code class="docutils literal notranslate"><span class="pre">BL2_IN_XIP_MEM</span></code> is defined</p></li>
<li><p>bl2: Missing prototype warning in <code class="docutils literal notranslate"><span class="pre">bl2_arch_setup</span></code></p></li>
<li><p>bl31: Omission of Global Offset Table (GOT) section</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Code Quality Issues</dt><dd><ul class="simple">
<li><p>Multiple MISRA compliance issues</p></li>
<li><p>Potential NULL pointer dereference (Coverity-detected)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Drivers</dt><dd><ul class="simple">
<li><p>mmc: Local declaration of <code class="docutils literal notranslate"><span class="pre">scr</span></code> variable causes a cache issue when
invalidating after the read DMA transfer completes</p></li>
<li><p>mmc: <code class="docutils literal notranslate"><span class="pre">ACMD41</span></code> does not send voltage information during initialization,
resulting in the command being treated as a query. This prevents the
command from initializing the controller.</p></li>
<li><p>mmc: When checking device state using <code class="docutils literal notranslate"><span class="pre">mmc_device_state()</span></code> there are no
retries attempted in the event of an error</p></li>
<li><p>ccn: Incorrect Region ID calculation for RN-I nodes</p></li>
<li><p>console: <code class="docutils literal notranslate"><span class="pre">Fix</span> <span class="pre">MULTI_CONSOLE_API</span></code> when used as a crash console</p></li>
<li><p>partition: Improper NULL checking in gpt.c</p></li>
<li><p>partition: Compilation failure in <code class="docutils literal notranslate"><span class="pre">VERBOSE</span></code> mode (<code class="docutils literal notranslate"><span class="pre">V=1</span></code>)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Library Code</dt><dd><ul>
<li><p>common: Incorrect check for Address Authentication support</p></li>
<li><p>xlat: Fix XLAT_V1 / XLAT_V2 incompatibility</p>
<p>The file <code class="docutils literal notranslate"><span class="pre">arm_xlat_tables.h</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">xlat_tables_compat.h</span></code>
and has been moved to a common folder. This header can be used to guarantee
compatibility, as it includes the correct header based on
<code class="docutils literal notranslate"><span class="pre">XLAT_TABLES_LIB_V2</span></code>.</p>
</li>
<li><p>xlat: armclang unused-function warning on <code class="docutils literal notranslate"><span class="pre">xlat_clean_dcache_range</span></code></p></li>
<li><p>xlat: Invalid <code class="docutils literal notranslate"><span class="pre">mm_cursor</span></code> checks in <code class="docutils literal notranslate"><span class="pre">mmap_add</span></code> and <code class="docutils literal notranslate"><span class="pre">mmap_add_ctx</span></code></p></li>
<li><p>sdei: Missing <code class="docutils literal notranslate"><span class="pre">context.h</span></code> header</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Platforms</dt><dd><ul>
<li><p>common: Missing prototype warning for <code class="docutils literal notranslate"><span class="pre">plat_log_get_prefix</span></code></p></li>
<li><p>arm: Insufficient maximum BL33 image size</p></li>
<li><p>arm: Potential memory corruption during BL2-BL31 transition</p>
<p>On Arm platforms, the BL2 memory can be overlaid by BL31/BL32. The memory
descriptors describing the list of executable images are created in BL2
R/W memory, which could be possibly corrupted later on by BL31/BL32 due
to overlay. This patch creates a reserved location in SRAM for these
descriptors and are copied over by BL2 before handing over to next BL
image.</p>
</li>
<li><p>juno: Invalid behaviour when <code class="docutils literal notranslate"><span class="pre">CSS_USE_SCMI_SDS_DRIVER</span></code> is not set</p>
<p>In <code class="docutils literal notranslate"><span class="pre">juno_pm.c</span></code> the <code class="docutils literal notranslate"><span class="pre">css_scmi_override_pm_ops</span></code> function was used
regardless of whether the build flag was set. The original behaviour has
been restored in the case where the build flag is not set.</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Tools</dt><dd><ul class="simple">
<li><p>fiptool: Incorrect UUID parsing of blob parameters</p></li>
<li><p>doimage: Incorrect object rules in Makefile</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id12">
<h3>Deprecations<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><dl class="simple">
<dt>Common Code</dt><dd><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">plat_crash_console_init</span></code> function</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plat_crash_console_putc</span></code> function</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plat_crash_console_flush</span></code> function</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">finish_console_register</span></code> macro</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>AArch64-specific Code</dt><dd><ul>
<li><p>helpers: <code class="docutils literal notranslate"><span class="pre">get_afflvl_shift</span></code></p></li>
<li><p>helpers: <code class="docutils literal notranslate"><span class="pre">mpidr_mask_lower_afflvls</span></code></p></li>
<li><p>helpers: <code class="docutils literal notranslate"><span class="pre">eret</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Secure Partition Manager (SPM)</dt><dd><ul>
<li><p>Boot-info structure</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id13">
<h3>Known Issues<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl>
<dt>Build System Issues</dt><dd><ul>
<li><p>dtb: DTB creation not supported when building on a Windows host.</p>
<p>This step in the build process is skipped when running on a Windows host. A
known issue from the 1.6 release.</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl>
<dt>Platform Issues</dt><dd><ul>
<li><p>arm/juno: System suspend from Linux does not function as documented in the
user guide</p>
<p>Following the instructions provided in the user guide document does not
result in the platform entering system suspend state as expected. A message
relating to the hdlcd driver failing to suspend will be emitted on the
Linux terminal.</p>
</li>
<li><p>arm/juno: The firmware update use-cases do not work with motherboard
firmware version &lt; v1.5.0 (the reset reason is not preserved). The Linaro
18.04 release has MB v1.4.9. The MB v1.5.0 is available in Linaro 18.10
release.</p></li>
<li><p>mediatek/mt6795: This platform does not build in this release</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="version-2-0">
<h2>Version 2.0<a class="headerlink" href="#version-2-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id14">
<h3>New Features<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Removal of a number of deprecated APIs</p>
<ul>
<li><p>A new Platform Compatibility Policy document has been created which
references a wiki page that maintains a listing of deprecated
interfaces and the release after which they will be removed.</p></li>
<li><p>All deprecated interfaces except the MULTI_CONSOLE_API have been removed
from the code base.</p></li>
<li><p>Various Arm and partner platforms have been updated to remove the use of
removed APIs in this release.</p></li>
<li><p>This release is otherwise unchanged from 1.6 release</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="issues-resolved-since-last-release">
<h3>Issues resolved since last release<a class="headerlink" href="#issues-resolved-since-last-release" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>No issues known at 1.6 release resolved in 2.0 release</p></li>
</ul>
</div>
<div class="section" id="id15">
<h3>Known Issues<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>DTB creation not supported when building on a Windows host. This step in the
build process is skipped when running on a Windows host. Known issue from
1.6 version.</p></li>
<li><p>As a result of removal of deprecated interfaces the Nvidia Tegra, Marvell
Armada 8K and MediaTek MT6795 platforms do not build in this release.
Also MediaTek MT8173, NXP QorIQ LS1043A, NXP i.MX8QX, NXP i.MX8QMa,
Rockchip RK3328, Rockchip RK3368 and Rockchip RK3399 platforms have not been
confirmed to be working after the removal of the deprecated interfaces
although they do build.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-1-6">
<h2>Version 1.6<a class="headerlink" href="#version-1-6" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id16">
<h3>New Features<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Addressing Speculation Security Vulnerabilities</p>
<ul>
<li><p>Implement static workaround for CVE-2018-3639 for AArch32 and AArch64</p></li>
<li><p>Add support for dynamic mitigation for CVE-2018-3639</p></li>
<li><p>Implement dynamic mitigation for CVE-2018-3639 on Cortex-A76</p></li>
<li><p>Ensure <a class="reference internal" href="glossary.html#term-SDEI"><span class="xref std std-term">SDEI</span></a> handler executes with CVE-2018-3639 mitigation enabled</p></li>
</ul>
</li>
<li><p>Introduce RAS handling on AArch64</p>
<ul>
<li><p>Some RAS extensions are mandatory for Armv8.2 CPUs, with others
mandatory for Armv8.4 CPUs however, all extensions are also optional
extensions to the base Armv8.0 architecture.</p></li>
<li><p>The Armv8 RAS Extensions introduced Standard Error Records which are a
set of standard registers to configure RAS node policy and allow RAS
Nodes to record and expose error information for error handling agents.</p></li>
<li><p>Capabilities are provided to support RAS Node enumeration and iteration
along with individual interrupt registrations and fault injections
support.</p></li>
<li><p>Introduce handlers for Uncontainable errors, Double Faults and EL3
External Aborts</p></li>
</ul>
</li>
<li><p>Enable Memory Partitioning And Monitoring (MPAM) for lower EL’s</p>
<ul>
<li><p>Memory Partitioning And Monitoring is an Armv8.4 feature that enables
various memory system components and resources to define partitions.
Software running at various ELs can then assign themselves to the
desired partition to control their performance aspects.</p></li>
<li><p>When ENABLE_MPAM_FOR_LOWER_ELS is set to 1, EL3 allows
lower ELs to access their own MPAM registers without trapping to EL3.
This patch however, doesn’t make use of partitioning in EL3; platform
initialisation code should configure and use partitions in EL3 if
required.</p></li>
</ul>
</li>
<li><p>Introduce ROM Lib Feature</p>
<ul>
<li><p>Support combining several libraries into a self-called “romlib” image,
that may be shared across images to reduce memory footprint. The romlib
image is stored in ROM but is accessed through a jump-table that may be
stored in read-write memory, allowing for the library code to be patched.</p></li>
</ul>
</li>
<li><p>Introduce Backtrace Feature</p>
<ul>
<li><p>This function displays the backtrace, the current EL and security state
to allow a post-processing tool to choose the right binary to interpret
the dump.</p></li>
<li><p>Print backtrace in assert() and panic() to the console.</p></li>
</ul>
</li>
<li><p>Code hygiene changes and alignment with MISRA C-2012 guideline with fixes
addressing issues complying to the following rules:</p>
<ul>
<li><p>MISRA rules 4.9, 5.1, 5.3, 5.7, 8.2-8.5, 8.8, 8.13, 9.3, 10.1,
10.3-10.4, 10.8, 11.3, 11.6, 12.1, 14.4, 15.7, 16.1-16.7, 17.7-17.8,
20.7, 20.10, 20.12, 21.1, 21.15, 22.7</p></li>
<li><p>Clean up the usage of void pointers to access symbols</p></li>
<li><p>Increase usage of static qualifier to locally used functions and data</p></li>
<li><p>Migrated to use of u_register_t for register read/write to better
match AArch32 and AArch64 type sizes</p></li>
<li><p>Use int-ll64 for both AArch32 and AArch64 to assist in consistent
format strings between architectures</p></li>
<li><p>Clean up TF-A libc by removing non arm copyrighted implementations
and replacing them with modified FreeBSD and SCC implementations</p></li>
</ul>
</li>
<li><p>Various changes to support Clang linker and assembler</p>
<ul>
<li><p>The clang assembler/preprocessor is used when Clang is selected. However,
the clang linker is not used because it is unable to link TF-A objects
due to immaturity of clang linker functionality at this time.</p></li>
</ul>
</li>
<li><p>Refactor support APIs into Libraries</p>
<ul>
<li><p>Evolve libfdt, mbed TLS library and standard C library sources as
proper libraries that TF-A may be linked against.</p></li>
</ul>
</li>
<li><p>CPU Enhancements</p>
<ul>
<li><p>Add CPU support for Cortex-Ares and Cortex-A76</p></li>
<li><p>Add AMU support for Cortex-Ares</p></li>
<li><p>Add initial CPU support for Cortex-Deimos</p></li>
<li><p>Add initial CPU support for Cortex-Helios</p></li>
<li><p>Implement dynamic mitigation for CVE-2018-3639 on Cortex-A76</p></li>
<li><p>Implement Cortex-Ares erratum 1043202 workaround</p></li>
<li><p>Implement DSU erratum 936184 workaround</p></li>
<li><p>Check presence of fix for errata 843419 in Cortex-A53</p></li>
<li><p>Check presence of fix for errata 835769 in Cortex-A53</p></li>
</ul>
</li>
<li><p>Translation Tables Enhancements</p>
<ul>
<li><p>The xlat v2 library has been refactored in order to be reused by
different TF components at different EL’s including the addition of EL2.
Some refactoring to make the code more generic and less specific to TF,
in order to reuse the library outside of this project.</p></li>
</ul>
</li>
<li><p>SPM Enhancements</p>
<ul>
<li><p>General cleanups and refactoring to pave the way to multiple partitions
support</p></li>
</ul>
</li>
<li><p>SDEI Enhancements</p>
<ul>
<li><p>Allow platforms to define explicit events</p></li>
<li><p>Determine client EL from NS context’s SCR_EL3</p></li>
<li><p>Make dispatches synchronous</p></li>
<li><p>Introduce jump primitives for BL31</p></li>
<li><p>Mask events after CPU wakeup in <a class="reference internal" href="glossary.html#term-SDEI"><span class="xref std std-term">SDEI</span></a> dispatcher to conform to the
specification</p></li>
</ul>
</li>
<li><p>Misc TF-A Core Common Code Enhancements</p>
<ul>
<li><p>Add support for eXecute In Place (XIP) memory in BL2</p></li>
<li><p>Add support for the SMC Calling Convention 2.0</p></li>
<li><p>Introduce External Abort handling on AArch64
External Abort routed to EL3 was reported as an unhandled exception
and caused a panic. This change enables Trusted Firmware-A to handle
External Aborts routed to EL3.</p></li>
<li><p>Save value of ACTLR_EL1 implementation-defined register in the CPU
context structure rather than forcing it to 0.</p></li>
<li><p>Introduce ARM_LINUX_KERNEL_AS_BL33 build option, which allows BL31 to
directly jump to a Linux kernel. This makes for a quicker and simpler
boot flow, which might be useful in some test environments.</p></li>
<li><p>Add dynamic configurations for BL31, BL32 and BL33 enabling support for
Chain of Trust (COT).</p></li>
<li><p>Make TF UUID RFC 4122 compliant</p></li>
</ul>
</li>
<li><p>New Platform Support</p>
<ul>
<li><p>Arm SGI-575</p></li>
<li><p>Arm SGM-775</p></li>
<li><p>Allwinner sun50i_64</p></li>
<li><p>Allwinner sun50i_h6</p></li>
<li><p>NXP QorIQ LS1043A</p></li>
<li><p>NXP i.MX8QX</p></li>
<li><p>NXP i.MX8QM</p></li>
<li><p>NXP i.MX7Solo WaRP7</p></li>
<li><p>TI K3</p></li>
<li><p>Socionext Synquacer SC2A11</p></li>
<li><p>Marvell Armada 8K</p></li>
<li><p>STMicroelectronics STM32MP1</p></li>
</ul>
</li>
<li><p>Misc Generic Platform Common Code Enhancements</p>
<ul>
<li><p>Add MMC framework that supports both eMMC and SD card devices</p></li>
</ul>
</li>
<li><p>Misc Arm Platform Common Code Enhancements</p>
<ul>
<li><p>Demonstrate PSCI MEM_PROTECT from el3_runtime</p></li>
<li><p>Provide RAS support</p></li>
<li><p>Migrate AArch64 port to the multi console driver. The old API is
deprecated and will eventually be removed.</p></li>
<li><p>Move BL31 below BL2 to enable BL2 overlay resulting in changes in the
layout of BL images in memory to enable more efficient use of available
space.</p></li>
<li><p>Add cpp build processing for dtb that allows processing device tree
with external includes.</p></li>
<li><p>Extend FIP io driver to support multiple FIP devices</p></li>
<li><p>Add support for SCMI AP core configuration protocol v1.0</p></li>
<li><p>Use SCMI AP core protocol to set the warm boot entrypoint</p></li>
<li><p>Add support to Mbed TLS drivers for shared heap among different
BL images to help optimise memory usage</p></li>
<li><p>Enable non-secure access to UART1 through a build option to support
a serial debug port for debugger connection</p></li>
</ul>
</li>
<li><p>Enhancements for Arm Juno Platform</p>
<ul>
<li><p>Add support for TrustZone Media Protection 1 (TZMP1)</p></li>
</ul>
</li>
<li><p>Enhancements for Arm FVP Platform</p>
<ul>
<li><p>Dynamic_config: remove the FVP dtb files</p></li>
<li><p>Set DYNAMIC_WORKAROUND_CVE_2018_3639=1 on FVP by default</p></li>
<li><p>Set the ability to dynamically disable Trusted Boot Board
authentication to be off by default with DYN_DISABLE_AUTH</p></li>
<li><p>Add librom enhancement support in FVP</p></li>
<li><p>Support shared Mbed TLS heap between BL1 and BL2 that allow a
reduction in BL2 size for FVP</p></li>
</ul>
</li>
<li><p>Enhancements for Arm SGI/SGM Platform</p>
<ul>
<li><p>Enable ARM_PLAT_MT flag for SGI-575</p></li>
<li><p>Add dts files to enable support for dynamic config</p></li>
<li><p>Add RAS support</p></li>
<li><p>Support shared Mbed TLS heap for SGI and SGM between BL1 and BL2</p></li>
</ul>
</li>
<li><p>Enhancements for Non Arm Platforms</p>
<ul>
<li><p>Raspberry Pi Platform</p></li>
<li><p>Hikey Platforms</p></li>
<li><p>Xilinx Platforms</p></li>
<li><p>QEMU Platform</p></li>
<li><p>Rockchip rk3399 Platform</p></li>
<li><p>TI Platforms</p></li>
<li><p>Socionext Platforms</p></li>
<li><p>Allwinner Platforms</p></li>
<li><p>NXP Platforms</p></li>
<li><p>NVIDIA Tegra Platform</p></li>
<li><p>Marvell Platforms</p></li>
<li><p>STMicroelectronics STM32MP1 Platform</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id17">
<h3>Issues resolved since last release<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>No issues known at 1.5 release resolved in 1.6 release</p></li>
</ul>
</div>
<div class="section" id="id18">
<h3>Known Issues<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>DTB creation not supported when building on a Windows host. This step in the
build process is skipped when running on a Windows host. Known issue from
1.5 version.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-1-5">
<h2>Version 1.5<a class="headerlink" href="#version-1-5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id19">
<h3>New features<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Added new firmware support to enable RAS (Reliability, Availability, and
Serviceability) functionality.</p>
<ul>
<li><p>Secure Partition Manager (SPM): A Secure Partition is a software execution
environment instantiated in S-EL0 that can be used to implement simple
management and security services. The SPM is the firmware component that
is responsible for managing a Secure Partition.</p></li>
<li><p>SDEI dispatcher: Support for interrupt-based <a class="reference internal" href="glossary.html#term-SDEI"><span class="xref std std-term">SDEI</span></a> events and all
interfaces as defined by the <a class="reference internal" href="glossary.html#term-SDEI"><span class="xref std std-term">SDEI</span></a> specification v1.0, see
<a class="reference external" href="http://infocenter.arm.com/help/topic/com.arm.doc.den0054a/ARM_DEN0054A_Software_Delegated_Exception_Interface.pdf">SDEI Specification</a></p></li>
<li><p>Exception Handling Framework (EHF): Framework that allows dispatching of
EL3 interrupts to their registered handlers which are registered based on
their priorities. Facilitates firmware-first error handling policy where
asynchronous exceptions may be routed to EL3.</p>
<p>Integrated the TSPD with EHF.</p>
</li>
</ul>
</li>
<li><p>Updated PSCI support:</p>
<ul>
<li><p>Implemented PSCI v1.1 optional features <cite>MEM_PROTECT</cite> and <cite>SYSTEM_RESET2</cite>.
The supported PSCI version was updated to v1.1.</p></li>
<li><p>Improved PSCI STAT timestamp collection, including moving accounting for
retention states to be inside the locks and fixing handling of wrap-around
when calculating residency in AArch32 execution state.</p></li>
<li><p>Added optional handler for early suspend that executes when suspending to
a power-down state and with data caches enabled.</p>
<p>This may provide a performance improvement on platforms where it is safe
to perform some or all of the platform actions from <cite>pwr_domain_suspend</cite>
with the data caches enabled.</p>
</li>
</ul>
</li>
<li><p>Enabled build option, BL2_AT_EL3, for BL2 to allow execution at EL3 without
any dependency on TF BL1.</p>
<p>This allows platforms which already have a non-TF Boot ROM to directly load
and execute BL2 and subsequent BL stages without need for BL1. This was not
previously possible because BL2 executes at S-EL1 and cannot jump straight to
EL3.</p>
</li>
<li><p>Implemented support for SMCCC v1.1, including <cite>SMCCC_VERSION</cite> and
<cite>SMCCC_ARCH_FEATURES</cite>.</p>
<p>Additionally, added support for <cite>SMCCC_VERSION</cite> in PSCI features to enable
discovery of the SMCCC version via PSCI feature call.</p>
</li>
<li><p>Added Dynamic Configuration framework which enables each of the boot loader
stages to be dynamically configured at runtime if required by the platform.
The boot loader stage may optionally specify a firmware configuration file
and/or hardware configuration file that can then be shared with the next boot
loader stage.</p>
<p>Introduced a new BL handover interface that essentially allows passing of 4
arguments between the different BL stages.</p>
<p>Updated cert_create and fip_tool to support the dynamic configuration files.
The COT also updated to support these new files.</p>
</li>
<li><p>Code hygiene changes and alignment with MISRA guideline:</p>
<ul class="simple">
<li><p>Fix use of undefined macros.</p></li>
<li><p>Achieved compliance with Mandatory MISRA coding rules.</p></li>
<li><p>Achieved compliance for following Required MISRA rules for the default
build configurations on FVP and Juno platforms : 7.3, 8.3, 8.4, 8.5 and
8.8.</p></li>
</ul>
</li>
<li><p>Added support for Armv8.2-A architectural features:</p>
<ul class="simple">
<li><p>Updated translation table set-up to set the CnP (Common not Private) bit
for secure page tables so that multiple PEs in the same Inner Shareable
domain can use the same translation table entries for a given stage of
translation in a particular translation regime.</p></li>
<li><p>Extended the supported values of ID_AA64MMFR0_EL1.PARange to include the
52-bit Physical Address range.</p></li>
<li><p>Added support for the Scalable Vector Extension to allow Normal world
software to access SVE functionality but disable access to SVE, SIMD and
floating point functionality from the Secure world in order to prevent
corruption of the Z-registers.</p></li>
</ul>
</li>
<li><dl class="simple">
<dt>Added support for Armv8.4-A architectural feature Activity Monitor Unit (AMU)</dt><dd><p>extensions.</p>
</dd>
</dl>
<p>In addition to the v8.4 architectural extension, AMU support on Cortex-A75
was implemented.</p>
</li>
<li><p>Enhanced OP-TEE support to enable use of pageable OP-TEE image. The Arm
standard platforms are updated to load up to 3 images for OP-TEE; header,
pager image and paged image.</p>
<p>The chain of trust is extended to support the additional images.</p>
</li>
<li><p>Enhancements to the translation table library:</p>
<ul class="simple">
<li><p>Introduced APIs to get and set the memory attributes of a region.</p></li>
<li><p>Added support to manage both privilege levels in translation regimes that
describe translations for 2 Exception levels, specifically the EL1&amp;0
translation regime, and extended the memory map region attributes to
include specifying Non-privileged access.</p></li>
<li><p>Added support to specify the granularity of the mappings of each region,
for instance a 2MB region can be specified to be mapped with 4KB page
tables instead of a 2MB block.</p></li>
<li><p>Disabled the higher VA range to avoid unpredictable behaviour if there is
an attempt to access addresses in the higher VA range.</p></li>
<li><p>Added helpers for Device and Normal memory MAIR encodings that align with
the Arm Architecture Reference Manual for Armv8-A (Arm DDI0487B.b).</p></li>
<li><p>Code hygiene including fixing type length and signedness of constants,
refactoring of function to enable the MMU, removing all instances where
the virtual address space is hardcoded and added comments that document
alignment needed between memory attributes and attributes specified in
TCR_ELx.</p></li>
</ul>
</li>
<li><p>Updated GIC support:</p>
<ul>
<li><p>Introduce new APIs for GICv2 and GICv3 that provide the capability to
specify interrupt properties rather than list of interrupt numbers alone.
The Arm platforms and other upstream platforms are migrated to use
interrupt properties.</p></li>
<li><p>Added helpers to save / restore the GICv3 context, specifically the
Distributor and Redistributor contexts and architectural parts of the ITS
power management. The Distributor and Redistributor helpers also support
the implementation-defined part of GIC-500 and GIC-600.</p>
<p>Updated the Arm FVP platform to save / restore the GICv3 context on system
suspend / resume as an example of how to use the helpers.</p>
<p>Introduced a new TZC secured DDR carve-out for use by Arm platforms for
storing EL3 runtime data such as the GICv3 register context.</p>
</li>
</ul>
</li>
<li><p>Added support for Armv7-A architecture via build option ARM_ARCH_MAJOR=7.
This includes following features:</p>
<ul class="simple">
<li><p>Updates GICv2 driver to manage GICv1 with security extensions.</p></li>
<li><p>Software implementation for 32bit division.</p></li>
<li><p>Enabled use of generic timer for platforms that do not set
ARM_CORTEX_Ax=yes.</p></li>
<li><p>Support for Armv7-A Virtualization extensions [DDI0406C_C].</p></li>
<li><p>Support for both Armv7-A platforms that only have 32-bit addressing and
Armv7-A platforms that support large page addressing.</p></li>
<li><p>Included support for following Armv7 CPUs: Cortex-A12, Cortex-A17,
Cortex-A7, Cortex-A5, Cortex-A9, Cortex-A15.</p></li>
<li><p>Added support in QEMU for Armv7-A/Cortex-A15.</p></li>
</ul>
</li>
<li><p>Enhancements to Firmware Update feature:</p>
<ul class="simple">
<li><p>Updated the FWU documentation to describe the additional images needed for
Firmware update, and how they are used for both the Juno platform and the
Arm FVP platforms.</p></li>
</ul>
</li>
<li><p>Enhancements to Trusted Board Boot feature:</p>
<ul class="simple">
<li><p>Added support to cert_create tool for RSA PKCS1# v1.5 and SHA384, SHA512
and SHA256.</p></li>
<li><p>For Arm platforms added support to use ECDSA keys.</p></li>
<li><p>Enhanced the mbed TLS wrapper layer to include support for both RSA and
ECDSA to enable runtime selection between RSA and ECDSA keys.</p></li>
</ul>
</li>
<li><p>Added support for secure interrupt handling in AArch32 sp_min, hardcoded to
only handle FIQs.</p></li>
<li><p>Added support to allow a platform to load images from multiple boot sources,
for example from a second flash drive.</p></li>
<li><p>Added a logging framework that allows platforms to reduce the logging level
at runtime and additionally the prefix string can be defined by the platform.</p></li>
<li><p>Further improvements to register initialisation:</p>
<ul class="simple">
<li><p>Control register PMCR_EL0 / PMCR is set to prohibit cycle counting in the
secure world. This register is added to the list of registers that are
saved and restored during world switch.</p></li>
<li><p>When EL3 is running in AArch32 execution state, the Non-secure version of
SCTLR is explicitly initialised during the warmboot flow rather than
relying on the hardware to set the correct reset values.</p></li>
</ul>
</li>
<li><p>Enhanced support for Arm platforms:</p>
<ul>
<li><p>Introduced driver for Shared-Data-Structure (SDS) framework which is used
for communication between SCP and the AP CPU, replacing Boot-Over_MHU
(BOM) protocol.</p>
<p>The Juno platform is migrated to use SDS with the SCMI support added in
v1.3 and is set as default.</p>
<p>The driver can be found in the plat/arm/css/drivers folder.</p>
</li>
<li><p>Improved memory usage by only mapping TSP memory region when the TSPD has
been included in the build. This reduces the memory footprint and avoids
unnecessary memory being mapped.</p></li>
<li><p>Updated support for multi-threading CPUs for FVP platforms - always check
the MT field in MPDIR and access the bit fields accordingly.</p></li>
<li><p>Support building for platforms that model DynamIQ configuration by
implementing all CPUs in a single cluster.</p></li>
<li><p>Improved nor flash driver, for instance clearing status registers before
sending commands. Driver can be found plat/arm/board/common folder.</p></li>
</ul>
</li>
<li><p>Enhancements to QEMU platform:</p>
<ul class="simple">
<li><p>Added support for TBB.</p></li>
<li><p>Added support for using OP-TEE pageable image.</p></li>
<li><p>Added support for LOAD_IMAGE_V2.</p></li>
<li><p>Migrated to use translation table library v2 by default.</p></li>
<li><p>Added support for SEPARATE_CODE_AND_RODATA.</p></li>
</ul>
</li>
<li><p>Applied workarounds CVE-2017-5715 on Arm Cortex-A57, -A72, -A73 and -A75, and
for Armv7-A CPUs Cortex-A9, -A15 and -A17.</p></li>
<li><p>Applied errata workaround for Arm Cortex-A57: 859972.</p></li>
<li><p>Applied errata workaround for Arm Cortex-A72: 859971.</p></li>
<li><p>Added support for Poplar 96Board platform.</p></li>
<li><p>Added support for Raspberry Pi 3 platform.</p></li>
<li><p>Added Call Frame Information (CFI) assembler directives to the vector entries
which enables debuggers to display the backtrace of functions that triggered
a synchronous abort.</p></li>
<li><p>Added ability to build dtb.</p></li>
<li><p>Added support for pre-tool (cert_create and fiptool) image processing
enabling compression of the image files before processing by cert_create and
fiptool.</p>
<p>This can reduce fip size and may also speed up loading of images.  The image
verification will also get faster because certificates are generated based on
compressed images.</p>
<p>Imported zlib 1.2.11 to implement gunzip() for data compression.</p>
</li>
<li><p>Enhancements to fiptool:</p>
<ul class="simple">
<li><p>Enabled the fiptool to be built using Visual Studio.</p></li>
<li><p>Added padding bytes at the end of the last image in the fip to be
facilitate transfer by DMA.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id20">
<h3>Issues resolved since last release<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>TF-A can be built with optimisations disabled (-O0).</p></li>
<li><p>Memory layout updated to enable Trusted Board Boot on Juno platform when
running TF-A in AArch32 execution mode (resolving <a class="reference external" href="https://github.com/ARM-software/tf-issues/issues/501">tf-issue#501</a>).</p></li>
</ul>
</div>
<div class="section" id="id21">
<h3>Known Issues<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>DTB creation not supported when building on a Windows host. This step in the
build process is skipped when running on a Windows host.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-1-4">
<h2>Version 1.4<a class="headerlink" href="#version-1-4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id22">
<h3>New features<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Enabled support for platforms with hardware assisted coherency.</p>
<p>A new build option HW_ASSISTED_COHERENCY allows platforms to take advantage
of the following optimisations:</p>
<ul class="simple">
<li><p>Skip performing cache maintenance during power-up and power-down.</p></li>
<li><p>Use spin-locks instead of bakery locks.</p></li>
<li><p>Enable data caches early on warm-booted CPUs.</p></li>
</ul>
</li>
<li><p>Added support for Cortex-A75 and Cortex-A55 processors.</p>
<p>Both Cortex-A75 and Cortex-A55 processors use the Arm DynamIQ Shared Unit
(DSU). The power-down and power-up sequences are therefore mostly managed in
hardware, reducing complexity of the software operations.</p>
</li>
<li><p>Introduced Arm GIC-600 driver.</p>
<p>Arm GIC-600 IP complies with Arm GICv3 architecture. For FVP platforms, the
GIC-600 driver is chosen when FVP_USE_GIC_DRIVER is set to FVP_GIC600.</p>
</li>
<li><p>Updated GICv3 support:</p>
<ul>
<li><p>Introduced power management APIs for GICv3 Redistributor. These APIs
allow platforms to power down the Redistributor during CPU power on/off.
Requires the GICv3 implementations to have power management operations.</p>
<p>Implemented the power management APIs for FVP.</p>
</li>
<li><p>GIC driver data is flushed by the primary CPU so that secondary CPU do
not read stale GIC data.</p></li>
</ul>
</li>
<li><p>Added support for Arm System Control and Management Interface v1.0 (SCMI).</p>
<p>The SCMI driver implements the power domain management and system power
management protocol of the SCMI specification (Arm DEN 0056ASCMI) for
communicating with any compliant power controller.</p>
<p>Support is added for the Juno platform. The driver can be found in the
plat/arm/css/drivers folder.</p>
</li>
<li><p>Added support to enable pre-integration of TBB with the Arm TrustZone
CryptoCell product, to take advantage of its hardware Root of Trust and
crypto acceleration services.</p></li>
<li><p>Enabled Statistical Profiling Extensions for lower ELs.</p>
<p>The firmware support is limited to the use of SPE in the Non-secure state
and accesses to the SPE specific registers from S-EL1 will trap to EL3.</p>
<p>The SPE are architecturally specified for AArch64 only.</p>
</li>
<li><p>Code hygiene changes aligned with MISRA guidelines:</p>
<ul class="simple">
<li><p>Fixed signed / unsigned comparison warnings in the translation table
library.</p></li>
<li><p>Added U(_x) macro and together with the existing ULL(_x) macro fixed
some of the signed-ness defects flagged by the MISRA scanner.</p></li>
</ul>
</li>
<li><p>Enhancements to Firmware Update feature:</p>
<ul class="simple">
<li><p>The FWU logic now checks for overlapping images to prevent execution of
unauthenticated arbitrary code.</p></li>
<li><p>Introduced new FWU_SMC_IMAGE_RESET SMC that changes the image loading
state machine to go from COPYING, COPIED or AUTHENTICATED states to
RESET state. Previously, this was only possible when the authentication
of an image failed or when the execution of the image finished.</p></li>
<li><p>Fixed integer overflow which addressed TFV-1: Malformed Firmware Update
SMC can result in copy of unexpectedly large data into secure memory.</p></li>
</ul>
</li>
<li><p>Introduced support for Arm Compiler 6 and LLVM (clang).</p>
<p>TF-A can now also be built with the Arm Compiler 6 or the clang compilers.
The assembler and linker must be provided by the GNU toolchain.</p>
<p>Tested with Arm CC 6.7 and clang 3.9.x and 4.0.x.</p>
</li>
<li><p>Memory footprint improvements:</p>
<ul>
<li><p>Introduced <cite>tf_snprintf</cite>, a reduced version of <cite>snprintf</cite> which has
support for a limited set of formats.</p>
<p>The mbedtls driver is updated to optionally use <cite>tf_snprintf</cite> instead of
<cite>snprintf</cite>.</p>
</li>
<li><p>The <cite>assert()</cite> is updated to no longer print the function name, and
additional logging options are supported via an optional platform define
<cite>PLAT_LOG_LEVEL_ASSERT</cite>, which controls how verbose the assert output is.</p></li>
</ul>
</li>
<li><p>Enhancements to TF-A support when running in AArch32 execution state:</p>
<ul class="simple">
<li><p>Support booting SP_MIN and BL33 in AArch32 execution mode on Juno. Due to
hardware limitations, BL1 and BL2 boot in AArch64 state and there is
additional trampoline code to warm reset into SP_MIN in AArch32 execution
state.</p></li>
<li><p>Added support for Arm Cortex-A53/57/72 MPCore processors including the
errata workarounds that are already implemented for AArch64 execution
state.</p></li>
<li><p>For FVP platforms, added AArch32 Trusted Board Boot support, including the
Firmware Update feature.</p></li>
</ul>
</li>
<li><p>Introduced Arm SiP service for use by Arm standard platforms.</p>
<ul>
<li><p>Added new Arm SiP Service SMCs to enable the Non-secure  world to read PMF
timestamps.</p>
<p>Added PMF instrumentation points in TF-A in order to quantify the
overall time spent in the PSCI software implementation.</p>
</li>
<li><p>Added new Arm SiP service SMC to switch execution state.</p>
<p>This allows the lower exception level to change its execution state from
AArch64 to AArch32, or vice verse, via a request to EL3.</p>
</li>
</ul>
</li>
<li><p>Migrated to use SPDX[0] license identifiers to make software license
auditing simpler.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Files that have been imported by FreeBSD have not been modified.</p>
</div>
<p>[0]: <a class="reference external" href="https://spdx.org/">https://spdx.org/</a></p>
</li>
<li><p>Enhancements to the translation table library:</p>
<ul>
<li><p>Added version 2 of translation table library that allows different
translation tables to be modified by using different ‘contexts’. Version 1
of the translation table library only allows the current EL’s translation
tables to be modified.</p>
<p>Version 2 of the translation table also added support for dynamic
regions; regions that can be added and removed dynamically whilst the
MMU is enabled. Static regions can only be added or removed before the
MMU is enabled.</p>
<p>The dynamic mapping functionality is enabled or disabled when compiling
by setting the build option PLAT_XLAT_TABLES_DYNAMIC to 1 or 0. This can
be done per-image.</p>
</li>
<li><p>Added support for translation regimes with two virtual address spaces
such as the one shared by EL1 and EL0.</p>
<p>The library does not support initializing translation tables for EL0
software.</p>
</li>
<li><p>Added support to mark the translation tables as non-cacheable using an
additional build option <cite>XLAT_TABLE_NC</cite>.</p></li>
</ul>
</li>
<li><p>Added support for GCC stack protection. A new build option
ENABLE_STACK_PROTECTOR was introduced that enables compilation of all BL
images with one of the GCC -fstack-protector-* options.</p>
<p>A new platform function plat_get_stack_protector_canary() was introduced
that returns a value used to initialize the canary for stack corruption
detection. For increased effectiveness of protection platforms must provide
an implementation that returns a random value.</p>
</li>
<li><p>Enhanced support for Arm platforms:</p>
<ul>
<li><p>Added support for multi-threading CPUs, indicated by <cite>MT</cite> field in MPDIR.
A new build flag <cite>ARM_PLAT_MT</cite> is added, and when enabled, the functions
accessing MPIDR assume that the <cite>MT</cite> bit is set for the platform and
access the bit fields accordingly.</p>
<p>Also, a new API <cite>plat_arm_get_cpu_pe_count</cite> is added when <cite>ARM_PLAT_MT</cite> is
enabled, returning the Processing Element count within the physical CPU
corresponding to <cite>mpidr</cite>.</p>
</li>
<li><p>The Arm platforms migrated to use version 2 of the translation tables.</p></li>
<li><p>Introduced a new Arm platform layer API <cite>plat_arm_psci_override_pm_ops</cite>
which allows Arm platforms to modify <cite>plat_arm_psci_pm_ops</cite> and therefore
dynamically define PSCI capability.</p></li>
<li><p>The Arm platforms migrated to use IMAGE_LOAD_V2 by default.</p></li>
</ul>
</li>
<li><p>Enhanced reporting of errata workaround status with the following policy:</p>
<ul class="simple">
<li><p>If an errata workaround is enabled:</p>
<ul>
<li><p>If it applies (i.e. the CPU is affected by the errata), an INFO message
is printed, confirming that the errata workaround has been applied.</p></li>
<li><p>If it does not apply, a VERBOSE message is printed, confirming that the
errata workaround has been skipped.</p></li>
</ul>
</li>
<li><p>If an errata workaround is not enabled, but would have applied had it
been, a WARN message is printed, alerting that errata workaround is
missing.</p></li>
</ul>
</li>
<li><p>Added build options ARM_ARCH_MAJOR and ARM_ARM_MINOR to choose the
architecture version to target TF-A.</p></li>
<li><p>Updated the spin lock implementation to use the more efficient CAS (Compare
And Swap) instruction when available. This instruction was introduced in
Armv8.1-A.</p></li>
<li><p>Applied errata workaround for Arm Cortex-A53: 855873.</p></li>
<li><p>Applied errata workaround for Arm-Cortex-A57: 813419.</p></li>
<li><p>Enabled all A53 and A57 errata workarounds for Juno, both in AArch64 and
AArch32 execution states.</p></li>
<li><p>Added support for Socionext UniPhier SoC platform.</p></li>
<li><p>Added support for Hikey960 and Hikey platforms.</p></li>
<li><p>Added support for Rockchip RK3328 platform.</p></li>
<li><p>Added support for NVidia Tegra T186 platform.</p></li>
<li><p>Added support for Designware emmc driver.</p></li>
<li><p>Imported libfdt v1.4.2 that addresses buffer overflow in fdt_offset_ptr().</p></li>
<li><p>Enhanced the CPU operations framework to allow power handlers to be
registered on per-level basis. This enables support for future CPUs that
have multiple threads which might need powering down individually.</p></li>
<li><p>Updated register initialisation to prevent unexpected behaviour:</p>
<ul class="simple">
<li><p>Debug registers MDCR-EL3/SDCR and MDCR_EL2/HDCR are initialised to avoid
unexpected traps into the higher exception levels and disable secure
self-hosted debug. Additionally, secure privileged external debug on
Juno is disabled by programming the appropriate Juno SoC registers.</p></li>
<li><p>EL2 and EL3 configurable controls are initialised to avoid unexpected
traps in the higher exception levels.</p></li>
<li><p>Essential control registers are fully initialised on EL3 start-up, when
initialising the non-secure and secure context structures and when
preparing to leave EL3 for a lower EL. This gives better alignment with
the Arm ARM which states that software must initialise RES0 and RES1
fields with 0 / 1.</p></li>
</ul>
</li>
<li><p>Enhanced PSCI support:</p>
<ul class="simple">
<li><p>Introduced new platform interfaces that decouple PSCI stat residency
calculation from PMF, enabling platforms to use alternative methods of
capturing timestamps.</p></li>
<li><p>PSCI stat accounting performed for retention/standby states when
requested at multiple power levels.</p></li>
</ul>
</li>
<li><p>Simplified fiptool to have a single linked list of image descriptors.</p></li>
<li><p>For the TSP, resolved corruption of pre-empted secure context by aborting any
pre-empted SMC during PSCI power management requests.</p></li>
</ul>
</div>
<div class="section" id="id23">
<h3>Issues resolved since last release<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>TF-A can be built with the latest mbed TLS version (v2.4.2). The earlier
version 2.3.0 cannot be used due to build warnings that the TF-A build
system interprets as errors.</p></li>
<li><p>TBBR, including the Firmware Update feature  is now supported on FVP
platforms when running TF-A in AArch32 state.</p></li>
<li><p>The version of the AEMv8 Base FVP used in this release has resolved the issue
of the model executing a reset instead of terminating in response to a
shutdown request using the PSCI SYSTEM_OFF API.</p></li>
</ul>
</div>
<div class="section" id="id24">
<h3>Known Issues<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Building TF-A with compiler optimisations disabled (-O0) fails.</p></li>
<li><p>Trusted Board Boot currently does not work on Juno when running Trusted
Firmware in AArch32 execution state due to error when loading the sp_min to
memory because of lack of free space available. See <a class="reference external" href="https://github.com/ARM-software/tf-issues/issues/501">tf-issue#501</a> for more
details.</p></li>
<li><p>The errata workaround for A53 errata 843419 is only available from binutils
2.26 and is not present in GCC4.9. If this errata is applicable to the
platform, please use GCC compiler version of at least 5.0. See <a class="reference external" href="https://github.com/ARM-software/arm-trusted-firmware/pull/1002#issuecomment-312650193">PR#1002</a> for
more details.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-1-3">
<h2>Version 1.3<a class="headerlink" href="#version-1-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id25">
<h3>New features<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Added support for running TF-A in AArch32 execution state.</p>
<p>The PSCI library has been refactored to allow integration with <strong>EL3 Runtime
Software</strong>. This is software that is executing at the highest secure
privilege which is EL3 in AArch64 or Secure SVC/Monitor mode in AArch32. See
<a class="reference internal" href="getting_started/psci-lib-integration-guide.html#psci-library-integration-guide-for-armv8-a-aarch32-systems"><span class="std std-ref">PSCI Library Integration guide for Armv8-A AArch32 systems</span></a>.</p>
<p>Included is a minimal AArch32 Secure Payload, <strong>SP-MIN</strong>, that illustrates
the usage and integration of the PSCI library with EL3 Runtime Software
running in AArch32 state.</p>
<p>Booting to the BL1/BL2 images as well as booting straight to the Secure
Payload is supported.</p>
</li>
<li><p>Improvements to the initialization framework for the PSCI service and Arm
Standard Services in general.</p>
<p>The PSCI service is now initialized as part of Arm Standard Service
initialization. This consolidates the initializations of any Arm Standard
Service that may be added in the future.</p>
<p>A new function <code class="docutils literal notranslate"><span class="pre">get_arm_std_svc_args()</span></code> is introduced to get arguments
corresponding to each standard service and must be implemented by the EL3
Runtime Software.</p>
<p>For PSCI, a new versioned structure <code class="docutils literal notranslate"><span class="pre">psci_lib_args_t</span></code> is introduced to
initialize the PSCI Library. <strong>Note</strong> this is a compatibility break due to
the change in the prototype of <code class="docutils literal notranslate"><span class="pre">psci_setup()</span></code>.</p>
</li>
<li><p>To support AArch32 builds of BL1 and BL2, implemented a new, alternative
firmware image loading mechanism that adds flexibility.</p>
<p>The current mechanism has a hard-coded set of images and execution order
(BL31, BL32, etc). The new mechanism is data-driven by a list of image
descriptors provided by the platform code.</p>
<p>Arm platforms have been updated to support the new loading mechanism.</p>
<p>The new mechanism is enabled by a build flag (<code class="docutils literal notranslate"><span class="pre">LOAD_IMAGE_V2</span></code>) which is
currently off by default for the AArch64 build.</p>
<p><strong>Note</strong> <code class="docutils literal notranslate"><span class="pre">TRUSTED_BOARD_BOOT</span></code> is currently not supported when
<code class="docutils literal notranslate"><span class="pre">LOAD_IMAGE_V2</span></code> is enabled.</p>
</li>
<li><p>Updated requirements for making contributions to TF-A.</p>
<p>Commits now must have a ‘Signed-off-by:’ field to certify that the
contribution has been made under the terms of the
<a class="reference download internal" download="" href="_downloads/64c40a63b9b2c30373557926065e7bb2/dco.txt"><code class="xref download docutils literal notranslate"><span class="pre">Developer</span> <span class="pre">Certificate</span> <span class="pre">of</span> <span class="pre">Origin</span></code></a>.</p>
<p>A signed CLA is no longer required.</p>
<p>The <a class="reference internal" href="process/contributing.html#contributor-s-guide"><span class="std std-ref">Contributor’s Guide</span></a> has been updated to reflect this change.</p>
</li>
<li><p>Introduced Performance Measurement Framework (PMF) which provides support
for capturing, storing, dumping and retrieving time-stamps to measure the
execution time of critical paths in the firmware. This relies on defining
fixed sample points at key places in the code.</p></li>
<li><p>To support the QEMU platform port, imported libfdt v1.4.1 from
<a class="reference external" href="https://git.kernel.org/pub/scm/utils/dtc/dtc.git">https://git.kernel.org/pub/scm/utils/dtc/dtc.git</a></p></li>
<li><p>Updated PSCI support:</p>
<ul class="simple">
<li><p>Added support for PSCI NODE_HW_STATE API for Arm platforms.</p></li>
<li><p>New optional platform hook, <code class="docutils literal notranslate"><span class="pre">pwr_domain_pwr_down_wfi()</span></code>, in
<code class="docutils literal notranslate"><span class="pre">plat_psci_ops</span></code> to enable platforms to perform platform-specific actions
needed to enter powerdown, including the ‘wfi’ invocation.</p></li>
<li><p>PSCI STAT residency and count functions have been added on Arm platforms
by using PMF.</p></li>
</ul>
</li>
<li><p>Enhancements to the translation table library:</p>
<ul>
<li><p>Limited memory mapping support for region overlaps to only allow regions
to overlap that are identity mapped or have the same virtual to physical
address offset, and overlap completely but must not cover the same area.</p>
<p>This limitation will enable future enhancements without having to
support complex edge cases that may not be necessary.</p>
</li>
<li><p>The initial translation lookup level is now inferred from the virtual
address space size. Previously, it was hard-coded.</p></li>
<li><p>Added support for mapping Normal, Inner Non-cacheable, Outer
Non-cacheable memory in the translation table library.</p>
<p>This can be useful to map a non-cacheable memory region, such as a DMA
buffer.</p>
</li>
<li><p>Introduced the MT_EXECUTE/MT_EXECUTE_NEVER memory mapping attributes to
specify the access permissions for instruction execution of a memory
region.</p></li>
</ul>
</li>
<li><p>Enabled support to isolate code and read-only data on separate memory pages,
allowing independent access control to be applied to each.</p></li>
<li><p>Enabled SCR_EL3.SIF (Secure Instruction Fetch) bit in BL1 and BL31 common
architectural setup code, preventing fetching instructions from non-secure
memory when in secure state.</p></li>
<li><p>Enhancements to FIP support:</p>
<ul class="simple">
<li><p>Replaced <code class="docutils literal notranslate"><span class="pre">fip_create</span></code> with <code class="docutils literal notranslate"><span class="pre">fiptool</span></code> which provides a more consistent
and intuitive interface as well as additional support to remove an image
from a FIP file.</p></li>
<li><p>Enabled printing the SHA256 digest with info command, allowing quick
verification of an image within a FIP without having to extract the
image and running sha256sum on it.</p></li>
<li><p>Added support for unpacking the contents of an existing FIP file into
the working directory.</p></li>
<li><p>Aligned command line options for specifying images to use same naming
convention as specified by TBBR and already used in cert_create tool.</p></li>
</ul>
</li>
<li><p>Refactored the TZC-400 driver to also support memory controllers that
integrate TZC functionality, for example Arm CoreLink DMC-500. Also added
DMC-500 specific support.</p></li>
<li><p>Implemented generic delay timer based on the system generic counter and
migrated all platforms to use it.</p></li>
<li><p>Enhanced support for Arm platforms:</p>
<ul class="simple">
<li><p>Updated image loading support to make SCP images (SCP_BL2 and SCP_BL2U)
optional.</p></li>
<li><p>Enhanced topology description support to allow multi-cluster topology
definitions.</p></li>
<li><p>Added interconnect abstraction layer to help platform ports select the
right interconnect driver, CCI or CCN, for the platform.</p></li>
<li><p>Added support to allow loading BL31 in the TZC-secured DRAM instead of
the default secure SRAM.</p></li>
<li><p>Added support to use a System Security Control (SSC) Registers Unit
enabling TF-A to be compiled to support multiple Arm platforms and
then select one at runtime.</p></li>
<li><p>Restricted mapping of Trusted ROM in BL1 to what is actually needed by
BL1 rather than entire Trusted ROM region.</p></li>
<li><p>Flash is now mapped as execute-never by default. This increases security
by restricting the executable region to what is strictly needed.</p></li>
</ul>
</li>
<li><p>Applied following erratum workarounds for Cortex-A57: 833471, 826977,
829520, 828024 and 826974.</p></li>
<li><p>Added support for Mediatek MT6795 platform.</p></li>
<li><p>Added support for QEMU virtualization Armv8-A target.</p></li>
<li><p>Added support for Rockchip RK3368 and RK3399 platforms.</p></li>
<li><p>Added support for Xilinx Zynq UltraScale+ MPSoC platform.</p></li>
<li><p>Added support for Arm Cortex-A73 MPCore Processor.</p></li>
<li><p>Added support for Arm Cortex-A72 processor.</p></li>
<li><p>Added support for Arm Cortex-A35 processor.</p></li>
<li><p>Added support for Arm Cortex-A32 MPCore Processor.</p></li>
<li><p>Enabled preloaded BL33 alternative boot flow, in which BL2 does not load
BL33 from non-volatile storage and BL31 hands execution over to a preloaded
BL33. The User Guide has been updated with an example of how to use this
option with a bootwrapped kernel.</p></li>
<li><p>Added support to build TF-A on a Windows-based host machine.</p></li>
<li><p>Updated Trusted Board Boot prototype implementation:</p>
<ul class="simple">
<li><p>Enabled the ability for a production ROM with TBBR enabled to boot test
software before a real ROTPK is deployed (e.g. manufacturing mode).
Added support to use ROTPK in certificate without verifying against the
platform value when <code class="docutils literal notranslate"><span class="pre">ROTPK_NOT_DEPLOYED</span></code> bit is set.</p></li>
<li><p>Added support for non-volatile counter authentication to the
Authentication Module to protect against roll-back.</p></li>
</ul>
</li>
<li><p>Updated GICv3 support:</p>
<ul class="simple">
<li><p>Enabled processor power-down and automatic power-on using GICv3.</p></li>
<li><p>Enabled G1S or G0 interrupts to be configured independently.</p></li>
<li><p>Changed FVP default interrupt driver to be the GICv3-only driver.
<strong>Note</strong> the default build of TF-A will not be able to boot
Linux kernel with GICv2 FDT blob.</p></li>
<li><p>Enabled wake-up from CPU_SUSPEND to stand-by by temporarily re-routing
interrupts and then restoring after resume.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id26">
<h3>Issues resolved since last release<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id27">
<h3>Known issues<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The version of the AEMv8 Base FVP used in this release resets the model
instead of terminating its execution in response to a shutdown request using
the PSCI <code class="docutils literal notranslate"><span class="pre">SYSTEM_OFF</span></code> API. This issue will be fixed in a future version of
the model.</p></li>
<li><p>Building TF-A with compiler optimisations disabled (<code class="docutils literal notranslate"><span class="pre">-O0</span></code>) fails.</p></li>
<li><p>TF-A cannot be built with mbed TLS version v2.3.0 due to build warnings
that the TF-A build system interprets as errors.</p></li>
<li><p>TBBR is not currently supported when running TF-A in AArch32 state.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-1-2">
<h2>Version 1.2<a class="headerlink" href="#version-1-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id28">
<h3>New features<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>The Trusted Board Boot implementation on Arm platforms now conforms to the
mandatory requirements of the TBBR specification.</p>
<p>In particular, the boot process is now guarded by a Trusted Watchdog, which
will reset the system in case of an authentication or loading error. On Arm
platforms, a secure instance of Arm SP805 is used as the Trusted Watchdog.</p>
<p>Also, a firmware update process has been implemented. It enables
authenticated firmware to update firmware images from external interfaces to
SoC Non-Volatile memories. This feature functions even when the current
firmware in the system is corrupt or missing; it therefore may be used as
a recovery mode.</p>
</li>
<li><p>Improvements have been made to the Certificate Generation Tool
(<code class="docutils literal notranslate"><span class="pre">cert_create</span></code>) as follows.</p>
<ul class="simple">
<li><p>Added support for the Firmware Update process by extending the Chain
of Trust definition in the tool to include the Firmware Update
certificate and the required extensions.</p></li>
<li><p>Introduced a new API that allows one to specify command line options in
the Chain of Trust description. This makes the declaration of the tool’s
arguments more flexible and easier to extend.</p></li>
<li><p>The tool has been reworked to follow a data driven approach, which
makes it easier to maintain and extend.</p></li>
</ul>
</li>
<li><p>Extended the FIP tool (<code class="docutils literal notranslate"><span class="pre">fip_create</span></code>) to support the new set of images
involved in the Firmware Update process.</p></li>
<li><p>Various memory footprint improvements. In particular:</p>
<ul class="simple">
<li><p>The bakery lock structure for coherent memory has been optimised.</p></li>
<li><p>The mbed TLS SHA1 functions are not needed, as SHA256 is used to
generate the certificate signature. Therefore, they have been compiled
out, reducing the memory footprint of BL1 and BL2 by approximately
6 KB.</p></li>
<li><p>On Arm development platforms, each BL stage now individually defines
the number of regions that it needs to map in the MMU.</p></li>
</ul>
</li>
<li><p>Added the following new design documents:</p>
<ul class="simple">
<li><p><a class="reference internal" href="design/auth-framework.html#authentication-framework-chain-of-trust"><span class="std std-ref">Authentication Framework &amp; Chain of Trust</span></a></p></li>
<li><p><a class="reference internal" href="components/firmware-update.html#firmware-update-fwu"><span class="std std-ref">Firmware Update (FWU)</span></a></p></li>
<li><p><a class="reference internal" href="design/reset-design.html#cpu-reset"><span class="std std-ref">CPU Reset</span></a></p></li>
<li><p><a class="reference internal" href="design/psci-pd-tree.html#psci-power-domain-tree-structure"><span class="std std-ref">PSCI Power Domain Tree Structure</span></a></p></li>
</ul>
</li>
<li><p>Applied the new image terminology to the code base and documentation, as
described in the <a class="reference internal" href="getting_started/image-terminology.html#image-terminology"><span class="std std-ref">Image Terminology</span></a> document.</p></li>
<li><p>The build system has been reworked to improve readability and facilitate
adding future extensions.</p></li>
<li><p>On Arm standard platforms, BL31 uses the boot console during cold boot
but switches to the runtime console for any later logs at runtime. The TSP
uses the runtime console for all output.</p></li>
<li><p>Implemented a basic NOR flash driver for Arm platforms. It programs the
device using CFI (Common Flash Interface) standard commands.</p></li>
<li><p>Implemented support for booting EL3 payloads on Arm platforms, which
reduces the complexity of developing EL3 baremetal code by doing essential
baremetal initialization.</p></li>
<li><p>Provided separate drivers for GICv3 and GICv2. These expect the entire
software stack to use either GICv2 or GICv3; hybrid GIC software systems
are no longer supported and the legacy Arm GIC driver has been deprecated.</p></li>
<li><p>Added support for Juno r1 and r2. A single set of Juno TF-A binaries can run
on Juno r0, r1 and r2 boards. Note that this TF-A version depends on a Linaro
release that does <em>not</em> contain Juno r2 support.</p></li>
<li><p>Added support for MediaTek mt8173 platform.</p></li>
<li><p>Implemented a generic driver for Arm CCN IP.</p></li>
<li><p>Major rework of the PSCI implementation.</p>
<ul class="simple">
<li><p>Added framework to handle composite power states.</p></li>
<li><p>Decoupled the notions of affinity instances (which describes the
hierarchical arrangement of cores) and of power domain topology, instead
of assuming a one-to-one mapping.</p></li>
<li><p>Better alignment with version 1.0 of the PSCI specification.</p></li>
</ul>
</li>
<li><p>Added support for the SYSTEM_SUSPEND PSCI API on Arm platforms. When invoked
on the last running core on a supported platform, this puts the system
into a low power mode with memory retention.</p></li>
<li><p>Unified the reset handling code as much as possible across BL stages.
Also introduced some build options to enable optimization of the reset path
on platforms that support it.</p></li>
<li><p>Added a simple delay timer API, as well as an SP804 timer driver, which is
enabled on FVP.</p></li>
<li><p>Added support for NVidia Tegra T210 and T132 SoCs.</p></li>
<li><p>Reorganised Arm platforms ports to greatly improve code shareability and
facilitate the reuse of some of this code by other platforms.</p></li>
<li><p>Added support for Arm Cortex-A72 processor in the CPU specific framework.</p></li>
<li><p>Provided better error handling. Platform ports can now define their own
error handling, for example to perform platform specific bookkeeping or
post-error actions.</p></li>
<li><p>Implemented a unified driver for Arm Cache Coherent Interconnects used for
both CCI-400 &amp; CCI-500 IPs. Arm platforms ports have been migrated to this
common driver. The standalone CCI-400 driver has been deprecated.</p></li>
</ul>
</div>
<div class="section" id="id29">
<h3>Issues resolved since last release<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The Trusted Board Boot implementation has been redesigned to provide greater
modularity and scalability. See the
<a class="reference internal" href="design/auth-framework.html#authentication-framework-chain-of-trust"><span class="std std-ref">Authentication Framework &amp; Chain of Trust</span></a> document.
All missing mandatory features are now implemented.</p></li>
<li><p>The FVP and Juno ports may now use the hash of the ROTPK stored in the
Trusted Key Storage registers to verify the ROTPK. Alternatively, a
development public key hash embedded in the BL1 and BL2 binaries might be
used instead. The location of the ROTPK is chosen at build-time using the
<code class="docutils literal notranslate"><span class="pre">ARM_ROTPK_LOCATION</span></code> build option.</p></li>
<li><p>GICv3 is now fully supported and stable.</p></li>
</ul>
</div>
<div class="section" id="id30">
<h3>Known issues<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The version of the AEMv8 Base FVP used in this release resets the model
instead of terminating its execution in response to a shutdown request using
the PSCI <code class="docutils literal notranslate"><span class="pre">SYSTEM_OFF</span></code> API. This issue will be fixed in a future version of
the model.</p></li>
<li><p>While this version has low on-chip RAM requirements, there are further
RAM usage enhancements that could be made.</p></li>
<li><p>The upstream documentation could be improved for structural consistency,
clarity and completeness. In particular, the design documentation is
incomplete for PSCI, the TSP(D) and the Juno platform.</p></li>
<li><p>Building TF-A with compiler optimisations disabled (<code class="docutils literal notranslate"><span class="pre">-O0</span></code>) fails.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-1-1">
<h2>Version 1.1<a class="headerlink" href="#version-1-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id31">
<h3>New features<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>A prototype implementation of Trusted Board Boot has been added. Boot
loader images are verified by BL1 and BL2 during the cold boot path. BL1 and
BL2 use the PolarSSL SSL library to verify certificates and images. The
OpenSSL library is used to create the X.509 certificates. Support has been
added to <code class="docutils literal notranslate"><span class="pre">fip_create</span></code> tool to package the certificates in a FIP.</p></li>
<li><p>Support for calling CPU and platform specific reset handlers upon entry into
BL3-1 during the cold and warm boot paths has been added. This happens after
another Boot ROM <code class="docutils literal notranslate"><span class="pre">reset_handler()</span></code> has already run. This enables a developer
to perform additional actions or undo actions already performed during the
first call of the reset handlers e.g. apply additional errata workarounds.</p></li>
<li><p>Support has been added to demonstrate routing of IRQs to EL3 instead of
S-EL1 when execution is in secure world.</p></li>
<li><p>The PSCI implementation now conforms to version 1.0 of the PSCI
specification. All the mandatory APIs and selected optional APIs are
supported. In particular, support for the <code class="docutils literal notranslate"><span class="pre">PSCI_FEATURES</span></code> API has been
added. A capability variable is constructed during initialization by
examining the <code class="docutils literal notranslate"><span class="pre">plat_pm_ops</span></code> and <code class="docutils literal notranslate"><span class="pre">spd_pm_ops</span></code> exported by the platform and
the Secure Payload Dispatcher. This is used by the PSCI FEATURES function
to determine which PSCI APIs are supported by the platform.</p></li>
<li><p>Improvements have been made to the PSCI code as follows.</p>
<ul class="simple">
<li><p>The code has been refactored to remove redundant parameters from
internal functions.</p></li>
<li><p>Changes have been made to the code for PSCI <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code>, <code class="docutils literal notranslate"><span class="pre">CPU_ON</span></code> and
<code class="docutils literal notranslate"><span class="pre">CPU_OFF</span></code> calls to facilitate an early return to the caller in case a
failure condition is detected. For example, a PSCI <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> call
returns <code class="docutils literal notranslate"><span class="pre">SUCCESS</span></code> to the caller if a pending interrupt is detected early
in the code path.</p></li>
<li><p>Optional platform APIs have been added to validate the <code class="docutils literal notranslate"><span class="pre">power_state</span></code> and
<code class="docutils literal notranslate"><span class="pre">entrypoint</span></code> parameters early in PSCI <code class="docutils literal notranslate"><span class="pre">CPU_ON</span></code> and <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> code
paths.</p></li>
<li><p>PSCI migrate APIs have been reworked to invoke the SPD hook to determine
the type of Trusted OS and the CPU it is resident on (if
applicable). Also, during a PSCI <code class="docutils literal notranslate"><span class="pre">MIGRATE</span></code> call, the SPD hook to migrate
the Trusted OS is invoked.</p></li>
</ul>
</li>
<li><p>It is now possible to build TF-A without marking at least an extra page of
memory as coherent. The build flag <code class="docutils literal notranslate"><span class="pre">USE_COHERENT_MEM</span></code> can be used to
choose between the two implementations. This has been made possible through
these changes.</p>
<ul class="simple">
<li><p>An implementation of Bakery locks, where the locks are not allocated in
coherent memory has been added.</p></li>
<li><p>Memory which was previously marked as coherent is now kept coherent
through the use of software cache maintenance operations.</p></li>
</ul>
<p>Approximately, 4K worth of memory is saved for each boot loader stage when
<code class="docutils literal notranslate"><span class="pre">USE_COHERENT_MEM=0</span></code>. Enabling this option increases the latencies
associated with acquire and release of locks. It also requires changes to
the platform ports.</p>
</li>
<li><p>It is now possible to specify the name of the FIP at build time by defining
the <code class="docutils literal notranslate"><span class="pre">FIP_NAME</span></code> variable.</p></li>
<li><p>Issues with dependencies on the ‘fiptool’ makefile target have been
rectified. The <code class="docutils literal notranslate"><span class="pre">fip_create</span></code> tool is now rebuilt whenever its source files
change.</p></li>
<li><p>The BL3-1 runtime console is now also used as the crash console. The crash
console is changed to SoC UART0 (UART2) from the previous FPGA UART0 (UART0)
on Juno. In FVP, it is changed from UART0 to UART1.</p></li>
<li><p>CPU errata workarounds are applied only when the revision and part number
match. This behaviour has been made consistent across the debug and release
builds. The debug build additionally prints a warning if a mismatch is
detected.</p></li>
<li><p>It is now possible to issue cache maintenance operations by set/way for a
particular level of data cache. Levels 1-3 are currently supported.</p></li>
<li><p>The following improvements have been made to the FVP port.</p>
<ul class="simple">
<li><p>The build option <code class="docutils literal notranslate"><span class="pre">FVP_SHARED_DATA_LOCATION</span></code> which allowed relocation of
shared data into the Trusted DRAM has been deprecated. Shared data is
now always located at the base of Trusted SRAM.</p></li>
<li><p>BL2 Translation tables have been updated to map only the region of
DRAM which is accessible to normal world. This is the region of the 2GB
DDR-DRAM memory at 0x80000000 excluding the top 16MB. The top 16MB is
accessible to only the secure world.</p></li>
<li><p>BL3-2 can now reside in the top 16MB of DRAM which is accessible only to
the secure world. This can be done by setting the build flag
<code class="docutils literal notranslate"><span class="pre">FVP_TSP_RAM_LOCATION</span></code> to the value <code class="docutils literal notranslate"><span class="pre">dram</span></code>.</p></li>
</ul>
</li>
<li><p>Separate translation tables are created for each boot loader image. The
<code class="docutils literal notranslate"><span class="pre">IMAGE_BLx</span></code> build options are used to do this. This allows each stage to
create mappings only for areas in the memory map that it needs.</p></li>
<li><p>A Secure Payload Dispatcher (OPTEED) for the OP-TEE Trusted OS has been
added. Details of using it with TF-A can be found in <a class="reference internal" href="components/spd/optee-dispatcher.html#op-tee-dispatcher"><span class="std std-ref">OP-TEE Dispatcher</span></a></p></li>
</ul>
</div>
<div class="section" id="id32">
<h3>Issues resolved since last release<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The Juno port has been aligned with the FVP port as follows.</p>
<ul>
<li><p>Support for reclaiming all BL1 RW memory and BL2 memory by overlaying
the BL3-1/BL3-2 NOBITS sections on top of them has been added to the
Juno port.</p></li>
<li><p>The top 16MB of the 2GB DDR-DRAM memory at 0x80000000 is configured
using the TZC-400 controller to be accessible only to the secure world.</p></li>
<li><p>The Arm GIC driver is used to configure the GIC-400 instead of using a
GIC driver private to the Juno port.</p></li>
<li><p>PSCI <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> calls that target a standby state are now supported.</p></li>
<li><p>The TZC-400 driver is used to configure the controller instead of direct
accesses to the registers.</p></li>
</ul>
</li>
<li><p>The Linux kernel version referred to in the user guide has DVFS and HMP
support enabled.</p></li>
<li><p>DS-5 v5.19 did not detect Version 5.8 of the Cortex-A57-A53 Base FVPs in
CADI server mode. This issue is not seen with DS-5 v5.20 and Version 6.2 of
the Cortex-A57-A53 Base FVPs.</p></li>
</ul>
</div>
<div class="section" id="id33">
<h3>Known issues<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The Trusted Board Boot implementation is a prototype. There are issues with
the modularity and scalability of the design. Support for a Trusted
Watchdog, firmware update mechanism, recovery images and Trusted debug is
absent. These issues will be addressed in future releases.</p></li>
<li><p>The FVP and Juno ports do not use the hash of the ROTPK stored in the
Trusted Key Storage registers to verify the ROTPK in the
<code class="docutils literal notranslate"><span class="pre">plat_match_rotpk()</span></code> function. This prevents the correct establishment of
the Chain of Trust at the first step in the Trusted Board Boot process.</p></li>
<li><p>The version of the AEMv8 Base FVP used in this release resets the model
instead of terminating its execution in response to a shutdown request using
the PSCI <code class="docutils literal notranslate"><span class="pre">SYSTEM_OFF</span></code> API. This issue will be fixed in a future version of
the model.</p></li>
<li><p>GICv3 support is experimental. There are known issues with GICv3
initialization in the TF-A.</p></li>
<li><p>While this version greatly reduces the on-chip RAM requirements, there are
further RAM usage enhancements that could be made.</p></li>
<li><p>The firmware design documentation for the Test Secure-EL1 Payload (TSP) and
its dispatcher (TSPD) is incomplete. Similarly for the PSCI section.</p></li>
<li><p>The Juno-specific firmware design documentation is incomplete.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-1-0">
<h2>Version 1.0<a class="headerlink" href="#version-1-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id34">
<h3>New features<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>It is now possible to map higher physical addresses using non-flat virtual
to physical address mappings in the MMU setup.</p></li>
<li><p>Wider use is now made of the per-CPU data cache in BL3-1 to store:</p>
<ul>
<li><p>Pointers to the non-secure and secure security state contexts.</p></li>
<li><p>A pointer to the CPU-specific operations.</p></li>
<li><p>A pointer to PSCI specific information (for example the current power
state).</p></li>
<li><p>A crash reporting buffer.</p></li>
</ul>
</li>
<li><p>The following RAM usage improvements result in a BL3-1 RAM usage reduction
from 96KB to 56KB (for FVP with TSPD), and a total RAM usage reduction
across all images from 208KB to 88KB, compared to the previous release.</p>
<ul>
<li><p>Removed the separate <code class="docutils literal notranslate"><span class="pre">early_exception</span></code> vectors from BL3-1 (2KB code size
saving).</p></li>
<li><p>Removed NSRAM from the FVP memory map, allowing the removal of one
(4KB) translation table.</p></li>
<li><p>Eliminated the internal <code class="docutils literal notranslate"><span class="pre">psci_suspend_context</span></code> array, saving 2KB.</p></li>
<li><p>Correctly dimensioned the PSCI <code class="docutils literal notranslate"><span class="pre">aff_map_node</span></code> array, saving 1.5KB in the
FVP port.</p></li>
<li><p>Removed calling CPU mpidr from the bakery lock API, saving 160 bytes.</p></li>
<li><p>Removed current CPU mpidr from PSCI common code, saving 160 bytes.</p></li>
<li><p>Inlined the mmio accessor functions, saving 360 bytes.</p></li>
<li><p>Fully reclaimed all BL1 RW memory and BL2 memory on the FVP port by
overlaying the BL3-1/BL3-2 NOBITS sections on top of these at runtime.</p></li>
<li><p>Made storing the FP register context optional, saving 0.5KB per context
(8KB on the FVP port, with TSPD enabled and running on 8 CPUs).</p></li>
<li><p>Implemented a leaner <code class="docutils literal notranslate"><span class="pre">tf_printf()</span></code> function, allowing the stack to be
greatly reduced.</p></li>
<li><p>Removed coherent stacks from the codebase. Stacks allocated in normal
memory are now used before and after the MMU is enabled. This saves 768
bytes per CPU in BL3-1.</p></li>
<li><p>Reworked the crash reporting in BL3-1 to use less stack.</p></li>
<li><p>Optimized the EL3 register state stored in the <code class="docutils literal notranslate"><span class="pre">cpu_context</span></code> structure
so that registers that do not change during normal execution are
re-initialized each time during cold/warm boot, rather than restored
from memory. This saves about 1.2KB.</p></li>
<li><p>As a result of some of the above, reduced the runtime stack size in all
BL images. For BL3-1, this saves 1KB per CPU.</p></li>
</ul>
</li>
<li><p>PSCI SMC handler improvements to correctly handle calls from secure states
and from AArch32.</p></li>
<li><p>CPU contexts are now initialized from the <code class="docutils literal notranslate"><span class="pre">entry_point_info</span></code>. BL3-1 fully
determines the exception level to use for the non-trusted firmware (BL3-3)
based on the SPSR value provided by the BL2 platform code (or otherwise
provided to BL3-1). This allows platform code to directly run non-trusted
firmware payloads at either EL2 or EL1 without requiring an EL2 stub or OS
loader.</p></li>
<li><p>Code refactoring improvements:</p>
<ul>
<li><p>Refactored <code class="docutils literal notranslate"><span class="pre">fvp_config</span></code> into a common platform header.</p></li>
<li><p>Refactored the fvp gic code to be a generic driver that no longer has an
explicit dependency on platform code.</p></li>
<li><p>Refactored the CCI-400 driver to not have dependency on platform code.</p></li>
<li><p>Simplified the IO driver so it’s no longer necessary to call <code class="docutils literal notranslate"><span class="pre">io_init()</span></code>
and moved all the IO storage framework code to one place.</p></li>
<li><p>Simplified the interface the the TZC-400 driver.</p></li>
<li><p>Clarified the platform porting interface to the TSP.</p></li>
<li><p>Reworked the TSPD setup code to support the alternate BL3-2
initialization flow where BL3-1 generic code hands control to BL3-2,
rather than expecting the TSPD to hand control directly to BL3-2.</p></li>
<li><p>Considerable rework to PSCI generic code to support CPU specific
operations.</p></li>
</ul>
</li>
<li><p>Improved console log output, by:</p>
<ul>
<li><p>Adding the concept of debug log levels.</p></li>
<li><p>Rationalizing the existing debug messages and adding new ones.</p></li>
<li><p>Printing out the version of each BL stage at runtime.</p></li>
<li><p>Adding support for printing console output from assembler code,
including when a crash occurs before the C runtime is initialized.</p></li>
</ul>
</li>
<li><p>Moved up to the latest versions of the FVPs, toolchain, EDK2, kernel, Linaro
file system and DS-5.</p></li>
<li><p>On the FVP port, made the use of the Trusted DRAM region optional at build
time (off by default). Normal platforms will not have such a “ready-to-use”
DRAM area so it is not a good example to use it.</p></li>
<li><p>Added support for PSCI <code class="docutils literal notranslate"><span class="pre">SYSTEM_OFF</span></code> and <code class="docutils literal notranslate"><span class="pre">SYSTEM_RESET</span></code> APIs.</p></li>
<li><p>Added support for CPU specific reset sequences, power down sequences and
register dumping during crash reporting. The CPU specific reset sequences
include support for errata workarounds.</p></li>
<li><p>Merged the Juno port into the master branch. Added support for CPU hotplug
and CPU idle. Updated the user guide to describe how to build and run on the
Juno platform.</p></li>
</ul>
</div>
<div class="section" id="id35">
<h3>Issues resolved since last release<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Removed the concept of top/bottom image loading. The image loader now
automatically detects the position of the image inside the current memory
layout and updates the layout to minimize fragmentation. This resolves the
image loader limitations of previously releases. There are currently no
plans to support dynamic image loading.</p></li>
<li><p>CPU idle now works on the publicized version of the Foundation FVP.</p></li>
<li><p>All known issues relating to the compiler version used have now been
resolved. This TF-A version uses Linaro toolchain 14.07 (based on GCC 4.9).</p></li>
</ul>
</div>
<div class="section" id="id36">
<h3>Known issues<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>GICv3 support is experimental. The Linux kernel patches to support this are
not widely available. There are known issues with GICv3 initialization in
the TF-A.</p></li>
<li><p>While this version greatly reduces the on-chip RAM requirements, there are
further RAM usage enhancements that could be made.</p></li>
<li><p>The firmware design documentation for the Test Secure-EL1 Payload (TSP) and
its dispatcher (TSPD) is incomplete. Similarly for the PSCI section.</p></li>
<li><p>The Juno-specific firmware design documentation is incomplete.</p></li>
<li><p>Some recent enhancements to the FVP port have not yet been translated into
the Juno port. These will be tracked via the tf-issues project.</p></li>
<li><p>The Linux kernel version referred to in the user guide has DVFS and HMP
support disabled due to some known instabilities at the time of this
release. A future kernel version will re-enable these features.</p></li>
<li><p>DS-5 v5.19 does not detect Version 5.8 of the Cortex-A57-A53 Base FVPs in
CADI server mode. This is because the <code class="docutils literal notranslate"><span class="pre">&lt;SimName&gt;</span></code> reported by the FVP in
this version has changed. For example, for the Cortex-A57x4-A53x4 Base FVP,
the <code class="docutils literal notranslate"><span class="pre">&lt;SimName&gt;</span></code> reported by the FVP is <code class="docutils literal notranslate"><span class="pre">FVP_Base_Cortex_A57x4_A53x4</span></code>, while
DS-5 expects it to be <code class="docutils literal notranslate"><span class="pre">FVP_Base_A57x4_A53x4</span></code>.</p>
<p>The temporary fix to this problem is to change the name of the FVP in
<code class="docutils literal notranslate"><span class="pre">sw/debugger/configdb/Boards/ARM</span> <span class="pre">FVP/Base_A57x4_A53x4/cadi_config.xml</span></code>.
Change the following line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">SimName</span><span class="o">&gt;</span><span class="n">System</span> <span class="n">Generator</span><span class="p">:</span><span class="n">FVP_Base_A57x4_A53x4</span><span class="o">&lt;/</span><span class="n">SimName</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>to
System Generator:FVP_Base_Cortex-A57x4_A53x4</p>
<p>A similar change can be made to the other Cortex-A57-A53 Base FVP variants.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="version-0-4">
<h2>Version 0.4<a class="headerlink" href="#version-0-4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id37">
<h3>New features<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Makefile improvements:</p>
<ul>
<li><p>Improved dependency checking when building.</p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">dump</span></code> target (build now always produces dump files).</p></li>
<li><p>Enabled platform ports to optionally make use of parts of the Trusted
Firmware (e.g. BL3-1 only), rather than being forced to use all parts.
Also made the <code class="docutils literal notranslate"><span class="pre">fip</span></code> target optional.</p></li>
<li><p>Specified the full path to source files and removed use of the <code class="docutils literal notranslate"><span class="pre">vpath</span></code>
keyword.</p></li>
</ul>
</li>
<li><p>Provided translation table library code for potential re-use by platforms
other than the FVPs.</p></li>
<li><p>Moved architectural timer setup to platform-specific code.</p></li>
<li><p>Added standby state support to PSCI cpu_suspend implementation.</p></li>
<li><p>SRAM usage improvements:</p>
<ul>
<li><p>Started using the <code class="docutils literal notranslate"><span class="pre">-ffunction-sections</span></code>, <code class="docutils literal notranslate"><span class="pre">-fdata-sections</span></code> and
<code class="docutils literal notranslate"><span class="pre">--gc-sections</span></code> compiler/linker options to remove unused code and data
from the images. Previously, all common functions were being built into
all binary images, whether or not they were actually used.</p></li>
<li><p>Placed all assembler functions in their own section to allow more unused
functions to be removed from images.</p></li>
<li><p>Updated BL1 and BL2 to use a single coherent stack each, rather than one
per CPU.</p></li>
<li><p>Changed variables that were unnecessarily declared and initialized as
non-const (i.e. in the .data section) so they are either uninitialized
(zero init) or const.</p></li>
</ul>
</li>
<li><p>Moved the Test Secure-EL1 Payload (BL3-2) to execute in Trusted SRAM by
default. The option for it to run in Trusted DRAM remains.</p></li>
<li><p>Implemented a TrustZone Address Space Controller (TZC-400) driver. A
default configuration is provided for the Base FVPs. This means the model
parameter <code class="docutils literal notranslate"><span class="pre">-C</span> <span class="pre">bp.secure_memory=1</span></code> is now supported.</p></li>
<li><p>Started saving the PSCI cpu_suspend ‘power_state’ parameter prior to
suspending a CPU. This allows platforms that implement multiple power-down
states at the same affinity level to identify a specific state.</p></li>
<li><p>Refactored the entire codebase to reduce the amount of nesting in header
files and to make the use of system/user includes more consistent. Also
split platform.h to separate out the platform porting declarations from the
required platform porting definitions and the definitions/declarations
specific to the platform port.</p></li>
<li><p>Optimized the data cache clean/invalidate operations.</p></li>
<li><p>Improved the BL3-1 unhandled exception handling and reporting. Unhandled
exceptions now result in a dump of registers to the console.</p></li>
<li><p>Major rework to the handover interface between BL stages, in particular the
interface to BL3-1. The interface now conforms to a specification and is
more future proof.</p></li>
<li><p>Added support for optionally making the BL3-1 entrypoint a reset handler
(instead of BL1). This allows platforms with an alternative image loading
architecture to re-use BL3-1 with fewer modifications to generic code.</p></li>
<li><p>Reserved some DDR DRAM for secure use on FVP platforms to avoid future
compatibility problems with non-secure software.</p></li>
<li><p>Added support for secure interrupts targeting the Secure-EL1 Payload (SP)
(using GICv2 routing only). Demonstrated this working by adding an interrupt
target and supporting test code to the TSP. Also demonstrated non-secure
interrupt handling during TSP processing.</p></li>
</ul>
</div>
<div class="section" id="id38">
<h3>Issues resolved since last release<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Now support use of the model parameter <code class="docutils literal notranslate"><span class="pre">-C</span> <span class="pre">bp.secure_memory=1</span></code> in the Base
FVPs (see <strong>New features</strong>).</p></li>
<li><p>Support for secure world interrupt handling now available (see <strong>New
features</strong>).</p></li>
<li><p>Made enough SRAM savings (see <strong>New features</strong>) to enable the Test Secure-EL1
Payload (BL3-2) to execute in Trusted SRAM by default.</p></li>
<li><p>The tested filesystem used for this release (Linaro AArch64 OpenEmbedded
14.04) now correctly reports progress in the console.</p></li>
<li><p>Improved the Makefile structure to make it easier to separate out parts of
the TF-A for re-use in platform ports. Also, improved target dependency
checking.</p></li>
</ul>
</div>
<div class="section" id="id39">
<h3>Known issues<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>GICv3 support is experimental. The Linux kernel patches to support this are
not widely available. There are known issues with GICv3 initialization in
the TF-A.</p></li>
<li><p>Dynamic image loading is not available yet. The current image loader
implementation (used to load BL2 and all subsequent images) has some
limitations. Changing BL2 or BL3-1 load addresses in certain ways can lead
to loading errors, even if the images should theoretically fit in memory.</p></li>
<li><p>TF-A still uses too much on-chip Trusted SRAM. A number of RAM usage
enhancements have been identified to rectify this situation.</p></li>
<li><p>CPU idle does not work on the advertised version of the Foundation FVP.
Some FVP fixes are required that are not available externally at the time
of writing. This can be worked around by disabling CPU idle in the Linux
kernel.</p></li>
<li><p>Various bugs in TF-A, UEFI and the Linux kernel have been observed when
using Linaro toolchain versions later than 13.11. Although most of these
have been fixed, some remain at the time of writing. These mainly seem to
relate to a subtle change in the way the compiler converts between 64-bit
and 32-bit values (e.g. during casting operations), which reveals
previously hidden bugs in client code.</p></li>
<li><p>The firmware design documentation for the Test Secure-EL1 Payload (TSP) and
its dispatcher (TSPD) is incomplete. Similarly for the PSCI section.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-0-3">
<h2>Version 0.3<a class="headerlink" href="#version-0-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id40">
<h3>New features<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Support for Foundation FVP Version 2.0 added.
The documented UEFI configuration disables some devices that are unavailable
in the Foundation FVP, including MMC and CLCD. The resultant UEFI binary can
be used on the AEMv8 and Cortex-A57-A53 Base FVPs, as well as the Foundation
FVP.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The software will not work on Version 1.0 of the Foundation FVP.</p>
</div>
</li>
<li><p>Enabled third party contributions. Added a new contributing.md containing
instructions for how to contribute and updated copyright text in all files
to acknowledge contributors.</p></li>
<li><p>The PSCI CPU_SUSPEND API has been stabilised to the extent where it can be
used for entry into power down states with the following restrictions:</p>
<ul class="simple">
<li><p>Entry into standby states is not supported.</p></li>
<li><p>The API is only supported on the AEMv8 and Cortex-A57-A53 Base FVPs.</p></li>
</ul>
</li>
<li><p>The PSCI AFFINITY_INFO api has undergone limited testing on the Base FVPs to
allow experimental use.</p></li>
<li><p>Required C library and runtime header files are now included locally in
TF-A instead of depending on the toolchain standard include paths. The
local implementation has been cleaned up and reduced in scope.</p></li>
<li><p>Added I/O abstraction framework, primarily to allow generic code to load
images in a platform-independent way. The existing image loading code has
been reworked to use the new framework. Semi-hosting and NOR flash I/O
drivers are provided.</p></li>
<li><p>Introduced Firmware Image Package (FIP) handling code and tools. A FIP
combines multiple firmware images with a Table of Contents (ToC) into a
single binary image. The new FIP driver is another type of I/O driver. The
Makefile builds a FIP by default and the FVP platform code expect to load a
FIP from NOR flash, although some support for image loading using semi-
hosting is retained.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Building a FIP by default is a non-backwards-compatible change.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Generic BL2 code now loads a BL3-3 (non-trusted firmware) image into
DRAM instead of expecting this to be pre-loaded at known location. This is
also a non-backwards-compatible change.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some non-trusted firmware (e.g. UEFI) will need to be rebuilt so that
it knows the new location to execute from and no longer needs to copy
particular code modules to DRAM itself.</p>
</div>
</li>
<li><p>Reworked BL2 to BL3-1 handover interface. A new composite structure
(bl31_args) holds the superset of information that needs to be passed from
BL2 to BL3-1, including information on how handover execution control to
BL3-2 (if present) and BL3-3 (non-trusted firmware).</p></li>
<li><p>Added library support for CPU context management, allowing the saving and
restoring of</p>
<ul class="simple">
<li><p>Shared system registers between Secure-EL1 and EL1.</p></li>
<li><p>VFP registers.</p></li>
<li><p>Essential EL3 system registers.</p></li>
</ul>
</li>
<li><p>Added a framework for implementing EL3 runtime services. Reworked the PSCI
implementation to be one such runtime service.</p></li>
<li><p>Reworked the exception handling logic, making use of both SP_EL0 and SP_EL3
stack pointers for determining the type of exception, managing general
purpose and system register context on exception entry/exit, and handling
SMCs. SMCs are directed to the correct EL3 runtime service.</p></li>
<li><p>Added support for a Test Secure-EL1 Payload (TSP) and a corresponding
Dispatcher (TSPD), which is loaded as an EL3 runtime service. The TSPD
implements Secure Monitor functionality such as world switching and
EL1 context management, and is responsible for communication with the TSP.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The TSPD does not yet contain support for secure world interrupts.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The TSP/TSPD is not built by default.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="id41">
<h3>Issues resolved since last release<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Support has been added for switching context between secure and normal
worlds in EL3.</p></li>
<li><p>PSCI API calls <code class="docutils literal notranslate"><span class="pre">AFFINITY_INFO</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">PSCI_VERSION</span></code> have now been tested (to
a limited extent).</p></li>
<li><p>The TF-A build artifacts are now placed in the <code class="docutils literal notranslate"><span class="pre">./build</span></code> directory and
sub-directories instead of being placed in the root of the project.</p></li>
<li><p>TF-A is now free from build warnings. Build warnings are now treated as
errors.</p></li>
<li><p>TF-A now provides C library support locally within the project to maintain
compatibility between toolchains/systems.</p></li>
<li><p>The PSCI locking code has been reworked so it no longer takes locks in an
incorrect sequence.</p></li>
<li><p>The RAM-disk method of loading a Linux file-system has been confirmed to
work with the TF-A and Linux kernel version (based on version 3.13) used
in this release, for both Foundation and Base FVPs.</p></li>
</ul>
</div>
<div class="section" id="id42">
<h3>Known issues<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<p>The following is a list of issues which are expected to be fixed in the future
releases of TF-A.</p>
<ul class="simple">
<li><p>The TrustZone Address Space Controller (TZC-400) is not being programmed
yet. Use of model parameter <code class="docutils literal notranslate"><span class="pre">-C</span> <span class="pre">bp.secure_memory=1</span></code> is not supported.</p></li>
<li><p>No support yet for secure world interrupt handling.</p></li>
<li><p>GICv3 support is experimental. The Linux kernel patches to support this are
not widely available. There are known issues with GICv3 initialization in
TF-A.</p></li>
<li><p>Dynamic image loading is not available yet. The current image loader
implementation (used to load BL2 and all subsequent images) has some
limitations. Changing BL2 or BL3-1 load addresses in certain ways can lead
to loading errors, even if the images should theoretically fit in memory.</p></li>
<li><p>TF-A uses too much on-chip Trusted SRAM. Currently the Test Secure-EL1
Payload (BL3-2) executes in Trusted DRAM since there is not enough SRAM.
A number of RAM usage enhancements have been identified to rectify this
situation.</p></li>
<li><p>CPU idle does not work on the advertised version of the Foundation FVP.
Some FVP fixes are required that are not available externally at the time
of writing.</p></li>
<li><p>Various bugs in TF-A, UEFI and the Linux kernel have been observed when
using Linaro toolchain versions later than 13.11. Although most of these
have been fixed, some remain at the time of writing. These mainly seem to
relate to a subtle change in the way the compiler converts between 64-bit
and 32-bit values (e.g. during casting operations), which reveals
previously hidden bugs in client code.</p></li>
<li><p>The tested filesystem used for this release (Linaro AArch64 OpenEmbedded
14.01) does not report progress correctly in the console. It only seems to
produce error output, not standard output. It otherwise appears to function
correctly. Other filesystem versions on the same software stack do not
exhibit the problem.</p></li>
<li><p>The Makefile structure doesn’t make it easy to separate out parts of the
TF-A for re-use in platform ports, for example if only BL3-1 is required in
a platform port. Also, dependency checking in the Makefile is flawed.</p></li>
<li><p>The firmware design documentation for the Test Secure-EL1 Payload (TSP) and
its dispatcher (TSPD) is incomplete. Similarly for the PSCI section.</p></li>
</ul>
</div>
</div>
<div class="section" id="version-0-2">
<h2>Version 0.2<a class="headerlink" href="#version-0-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id43">
<h3>New features<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>First source release.</p></li>
<li><p>Code for the PSCI suspend feature is supplied, although this is not enabled
by default since there are known issues (see below).</p></li>
</ul>
</div>
<div class="section" id="id44">
<h3>Issues resolved since last release<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The “psci” nodes in the FDTs provided in this release now fully comply
with the recommendations made in the PSCI specification.</p></li>
</ul>
</div>
<div class="section" id="id45">
<h3>Known issues<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h3>
<p>The following is a list of issues which are expected to be fixed in the future
releases of TF-A.</p>
<ul class="simple">
<li><p>The TrustZone Address Space Controller (TZC-400) is not being programmed
yet. Use of model parameter <code class="docutils literal notranslate"><span class="pre">-C</span> <span class="pre">bp.secure_memory=1</span></code> is not supported.</p></li>
<li><p>No support yet for secure world interrupt handling or for switching context
between secure and normal worlds in EL3.</p></li>
<li><p>GICv3 support is experimental. The Linux kernel patches to support this are
not widely available. There are known issues with GICv3 initialization in
TF-A.</p></li>
<li><p>Dynamic image loading is not available yet. The current image loader
implementation (used to load BL2 and all subsequent images) has some
limitations. Changing BL2 or BL3-1 load addresses in certain ways can lead
to loading errors, even if the images should theoretically fit in memory.</p></li>
<li><p>Although support for PSCI <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> is present, it is not yet stable
and ready for use.</p></li>
<li><p>PSCI API calls <code class="docutils literal notranslate"><span class="pre">AFFINITY_INFO</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">PSCI_VERSION</span></code> are implemented but have
not been tested.</p></li>
<li><p>The TF-A make files result in all build artifacts being placed in the root
of the project. These should be placed in appropriate sub-directories.</p></li>
<li><p>The compilation of TF-A is not free from compilation warnings. Some of these
warnings have not been investigated yet so they could mask real bugs.</p></li>
<li><p>TF-A currently uses toolchain/system include files like stdio.h. It should
provide versions of these within the project to maintain compatibility
between toolchains/systems.</p></li>
<li><p>The PSCI code takes some locks in an incorrect sequence. This may cause
problems with suspend and hotplug in certain conditions.</p></li>
<li><p>The Linux kernel used in this release is based on version 3.12-rc4. Using
this kernel with the TF-A fails to start the file-system as a RAM-disk. It
fails to execute user-space <code class="docutils literal notranslate"><span class="pre">init</span></code> from the RAM-disk. As an alternative,
the VirtioBlock mechanism can be used to provide a file-system to the
kernel.</p></li>
</ul>
<hr class="docutils" />
<p><em>Copyright (c) 2013-2020, Arm Limited and Contributors. All rights reserved.</em></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="change-log-upcoming.html" class="btn btn-neutral float-right" title="Change Log for Upcoming Release" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="design_documents/cmake_framework.html" class="btn btn-neutral float-left" title="1. TF-A CMake Build System Proposal" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>