

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>12. Secure Partition Manager &mdash; Trusted Firmware-A  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="13. Secure Partition Manager (MM)" href="secure-partition-manager-mm.html" />
    <link rel="prev" title="11. SDEI: Software Delegated Exception Interface" href="sdei.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Trusted Firmware-A
          

          
            
            <img src="../_static/TrustedFirmware-Logo_standard-white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/features.html">1. Feature Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/features.html#current-features">1.1. Current features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/features.html#still-to-come">1.2. Still to come</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/release-information.html">2. Release Processes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/release-information.html#project-release-cadence">2.1. Project Release Cadence</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../about/release-information.html#upcoming-releases">2.1.1. Upcoming Releases</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../about/release-information.html#removal-of-deprecated-interfaces">2.2. Removal of Deprecated Interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/maintainers.html">3. Project Maintenance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/maintainers.html#maintainers">3.1. Maintainers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/maintainers.html#code-owners">3.2. Code owners</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../about/maintainers.html#core-code">3.2.1. Core Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../about/maintainers.html#drivers-libraries-and-framework-code">3.2.2. Drivers, Libraries and Framework Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="../about/maintainers.html#platform-ports">3.2.3. Platform Ports</a></li>
<li class="toctree-l4"><a class="reference internal" href="../about/maintainers.html#secure-payloads-and-dispatchers">3.2.4. Secure Payloads and Dispatchers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../about/maintainers.html#tools">3.2.5. Tools</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/contact.html">4. Support &amp; Contact</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../about/contact.html#mailing-lists">4.1. Mailing Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/contact.html#open-tech-forum-call">4.2. Open Tech Forum Call</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/contact.html#issue-tracker">4.3. Issue Tracker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../about/contact.html#arm-licensees">4.4. Arm Licensees</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/acknowledgements.html">5. Contributor Acknowledgements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/prerequisites.html">1. Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/prerequisites.html#build-host">1.1. Build Host</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/prerequisites.html#toolchain">1.2. Toolchain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/prerequisites.html#software-and-libraries">1.3. Software and Libraries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/prerequisites.html#package-installation-linux">1.3.1. Package Installation (Linux)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/prerequisites.html#supporting-files">1.4. Supporting Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/prerequisites.html#getting-the-tf-a-source">1.5. Getting the TF-A Source</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/docs-build.html">2. Building Documentation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/docs-build.html#prerequisites">2.1. Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/docs-build.html#building-rendered-documentation">2.2. Building rendered documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/docs-build.html#building-rendered-documentation-from-a-container">2.3. Building rendered documentation from a container</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/tools-build.html">3. Building Supporting Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/tools-build.html#building-and-using-the-fip-tool">3.1. Building and using the FIP tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/tools-build.html#building-the-certificate-generation-tool">3.2. Building the Certificate Generation Tool</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/tools-build.html#building-the-firmware-encryption-tool">3.2.1. Building the Firmware Encryption Tool</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/initial-build.html">4. Performing an Initial Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/build-options.html">5. Build Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/build-options.html#common-build-options">5.1. Common build options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/build-options.html#gicv3-driver-options">5.2. GICv3 driver options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/build-options.html#debugging-options">5.3. Debugging options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/image-terminology.html">6. Image Terminology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/image-terminology.html#general-notes">6.1. General Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/image-terminology.html#trusted-firmware-images">6.2. Trusted Firmware Images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#ap-boot-rom-ap-bl1">6.2.1. AP Boot ROM: <code class="docutils literal notranslate"><span class="pre">AP_BL1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#ap-ram-firmware-ap-bl2">6.2.2. AP RAM Firmware: <code class="docutils literal notranslate"><span class="pre">AP_BL2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#el3-runtime-firmware-ap-bl31">6.2.3. EL3 Runtime Firmware: <code class="docutils literal notranslate"><span class="pre">AP_BL31</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#secure-el1-payload-sp-ap-bl32">6.2.4. Secure-EL1 Payload (SP): <code class="docutils literal notranslate"><span class="pre">AP_BL32</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#ap-normal-world-firmware-ap-bl33">6.2.5. AP Normal World Firmware: <code class="docutils literal notranslate"><span class="pre">AP_BL33</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#other-ap-3rd-level-images-ap-bl3-xxx">6.2.6. Other AP 3rd level images: <code class="docutils literal notranslate"><span class="pre">AP_BL3_XXX</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#scp-boot-rom-scp-bl1-previously-bl0">6.2.7. SCP Boot ROM: <code class="docutils literal notranslate"><span class="pre">SCP_BL1</span></code> (previously <code class="docutils literal notranslate"><span class="pre">BL0</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#scp-ram-firmware-scp-bl2-previously-bl3-0">6.2.8. SCP RAM Firmware: <code class="docutils literal notranslate"><span class="pre">SCP_BL2</span></code> (previously <code class="docutils literal notranslate"><span class="pre">BL3-0</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/image-terminology.html#firmware-update-fwu-images">6.3. Firmware Update (FWU) Images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#ap-firmware-update-boot-rom-ap-ns-bl1u">6.3.1. AP Firmware Update Boot ROM: <code class="docutils literal notranslate"><span class="pre">AP_NS_BL1U</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#ap-firmware-update-config-ap-bl2u">6.3.2. AP Firmware Update Config: <code class="docutils literal notranslate"><span class="pre">AP_BL2U</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#scp-firmware-update-config-scp-bl2u-previously-bl2-u0">6.3.3. SCP Firmware Update Config: <code class="docutils literal notranslate"><span class="pre">SCP_BL2U</span></code> (previously <code class="docutils literal notranslate"><span class="pre">BL2-U0</span></code>)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#ap-firmware-updater-ap-ns-bl2u-previously-bl3-u">6.3.4. AP Firmware Updater: <code class="docutils literal notranslate"><span class="pre">AP_NS_BL2U</span></code> (previously <code class="docutils literal notranslate"><span class="pre">BL3-U</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/image-terminology.html#other-processor-firmware-images">6.4. Other Processor Firmware Images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#mcp-boot-rom-mcp-bl1">6.4.1. MCP Boot ROM: <code class="docutils literal notranslate"><span class="pre">MCP_BL1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/image-terminology.html#mcp-ram-firmware-mcp-bl2">6.4.2. MCP RAM Firmware: <code class="docutils literal notranslate"><span class="pre">MCP_BL2</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/porting-guide.html">7. Porting Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#introduction">7.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#common-modifications">7.2. Common modifications</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#common-mandatory-modifications">7.3. Common mandatory modifications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#file-platform-def-h-mandatory">7.3.1. File : platform_def.h [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#file-plat-macros-s-mandatory">7.3.2. File : plat_macros.S [mandatory]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#handling-reset">7.4. Handling Reset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-my-entrypoint-mandatory-when-programmable-reset-address-0">7.4.1. Function : plat_get_my_entrypoint() [mandatory when PROGRAMMABLE_RESET_ADDRESS == 0]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-secondary-cold-boot-setup-mandatory-when-cold-boot-single-cpu-0">7.4.2. Function : plat_secondary_cold_boot_setup() [mandatory when COLD_BOOT_SINGLE_CPU == 0]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-is-my-cpu-primary-mandatory-when-cold-boot-single-cpu-0">7.4.3. Function : plat_is_my_cpu_primary() [mandatory when COLD_BOOT_SINGLE_CPU == 0]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-platform-mem-init-mandatory">7.4.4. Function : platform_mem_init() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-rotpk-info">7.4.5. Function: plat_get_rotpk_info()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-nv-ctr">7.4.6. Function: plat_get_nv_ctr()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-set-nv-ctr">7.4.7. Function: plat_set_nv_ctr()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-set-nv-ctr2">7.4.8. Function: plat_set_nv_ctr2()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#common-mandatory-function-modifications">7.5. Common mandatory function modifications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-my-core-pos">7.5.1. Function : plat_my_core_pos()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-core-pos-by-mpidr">7.5.2. Function : plat_core_pos_by_mpidr()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-mbedtls-heap-when-trusted-board-boot-1">7.5.3. Function : plat_get_mbedtls_heap() [when TRUSTED_BOARD_BOOT == 1]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-enc-key-info-when-fw-enc-status-0-or-1">7.5.4. Function : plat_get_enc_key_info() [when FW_ENC_STATUS == 0 or 1]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#common-optional-modifications">7.6. Common optional modifications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-set-my-stack">7.6.1. Function : plat_set_my_stack()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-my-stack">7.6.2. Function : plat_get_my_stack()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-report-exception">7.6.3. Function : plat_report_exception()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-reset-handler">7.6.4. Function : plat_reset_handler()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-disable-acp">7.6.5. Function : plat_disable_acp()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-error-handler">7.6.6. Function : plat_error_handler()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-panic-handler">7.6.7. Function : plat_panic_handler()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-bl-image-load-info">7.6.8. Function : plat_get_bl_image_load_info()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-next-bl-params">7.6.9. Function : plat_get_next_bl_params()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-stack-protector-canary">7.6.10. Function : plat_get_stack_protector_canary()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-flush-next-bl-params">7.6.11. Function : plat_flush_next_bl_params()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-log-get-prefix">7.6.12. Function : plat_log_get_prefix()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-soc-version">7.6.13. Function : plat_get_soc_version()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-soc-revision">7.6.14. Function : plat_get_soc_revision()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-is-smccc-feature-available">7.6.15. Function : plat_is_smccc_feature_available()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#modifications-specific-to-a-boot-loader-stage">7.7. Modifications specific to a Boot Loader stage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#boot-loader-stage-1-bl1">7.8. Boot Loader Stage 1 (BL1)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-early-platform-setup-mandatory">7.8.1. Function : bl1_early_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-plat-arch-setup-mandatory">7.8.2. Function : bl1_plat_arch_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-platform-setup-mandatory">7.8.3. Function : bl1_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-plat-sec-mem-layout-mandatory">7.8.4. Function : bl1_plat_sec_mem_layout() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-plat-prepare-exit-optional">7.8.5. Function : bl1_plat_prepare_exit() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-plat-set-ep-info-optional">7.8.6. Function : bl1_plat_set_ep_info() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-plat-get-next-image-id-optional">7.8.7. Function : bl1_plat_get_next_image_id() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-plat-get-image-desc-optional">7.8.8. Function : bl1_plat_get_image_desc() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-plat-handle-pre-image-load-optional">7.8.9. Function : bl1_plat_handle_pre_image_load() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-plat-handle-post-image-load-optional">7.8.10. Function : bl1_plat_handle_post_image_load() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-plat-fwu-done-optional">7.8.11. Function : bl1_plat_fwu_done() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl1-plat-mem-check-mandatory">7.8.12. Function : bl1_plat_mem_check() [mandatory]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#boot-loader-stage-2-bl2">7.9. Boot Loader Stage 2 (BL2)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2-early-platform-setup2-mandatory">7.9.1. Function : bl2_early_platform_setup2() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2-plat-arch-setup-mandatory">7.9.2. Function : bl2_plat_arch_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2-platform-setup-mandatory">7.9.3. Function : bl2_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2-plat-handle-pre-image-load-optional">7.9.4. Function : bl2_plat_handle_pre_image_load() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2-plat-handle-post-image-load-optional">7.9.5. Function : bl2_plat_handle_post_image_load() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2-plat-preload-setup-optional">7.9.6. Function : bl2_plat_preload_setup [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-try-next-boot-source-optional">7.9.7. Function : plat_try_next_boot_source() [optional]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#boot-loader-stage-2-bl2-at-el3">7.10. Boot Loader Stage 2 (BL2) at EL3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2-el3-early-platform-setup-mandatory">7.10.1. Function : bl2_el3_early_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2-el3-plat-arch-setup-mandatory">7.10.2. Function : bl2_el3_plat_arch_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2-el3-plat-prepare-exit-optional">7.10.3. Function : bl2_el3_plat_prepare_exit() [optional]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#fwu-boot-loader-stage-2-bl2u">7.11. FWU Boot Loader Stage 2 (BL2U)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2u-early-platform-setup-mandatory">7.11.1. Function : bl2u_early_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2u-plat-arch-setup-mandatory">7.11.2. Function : bl2u_plat_arch_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2u-platform-setup-mandatory">7.11.3. Function : bl2u_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl2u-plat-handle-scp-bl2u-optional">7.11.4. Function : bl2u_plat_handle_scp_bl2u() [optional]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#boot-loader-stage-3-1-bl31">7.12. Boot Loader Stage 3-1 (BL31)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl31-early-platform-setup2-mandatory">7.12.1. Function : bl31_early_platform_setup2() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl31-plat-arch-setup-mandatory">7.12.2. Function : bl31_plat_arch_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl31-platform-setup-mandatory">7.12.3. Function : bl31_platform_setup() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl31-plat-runtime-setup-optional">7.12.4. Function : bl31_plat_runtime_setup() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl31-plat-get-next-image-ep-info-mandatory">7.12.5. Function : bl31_plat_get_next_image_ep_info() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-bl31-plat-enable-mmu-optional">7.12.6. Function : bl31_plat_enable_mmu [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-init-apkey-optional">7.12.7. Function : plat_init_apkey [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-syscnt-freq2-mandatory">7.12.8. Function : plat_get_syscnt_freq2() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-arm-set-twedel-scr-el3-optional">7.12.9. Function : plat_arm_set_twedel_scr_el3() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#define-plat-percpu-bakery-lock-size-optional">7.12.10. #define : PLAT_PERCPU_BAKERY_LOCK_SIZE [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#sdei-porting-requirements">7.12.11. SDEI porting requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#trng-porting-requirements">7.12.12. TRNG porting requirements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#power-state-coordination-interface-in-bl31">7.13. Power State Coordination Interface (in BL31)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-psci-stat-accounting-start-optional">7.13.1. Function : plat_psci_stat_accounting_start() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-psci-stat-accounting-stop-optional">7.13.2. Function : plat_psci_stat_accounting_stop() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-psci-stat-get-residency-optional">7.13.3. Function : plat_psci_stat_get_residency() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-target-pwr-state-optional">7.13.4. Function : plat_get_target_pwr_state() [optional]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-get-power-domain-tree-desc-mandatory">7.13.5. Function : plat_get_power_domain_tree_desc() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-setup-psci-ops-mandatory">7.13.6. Function : plat_setup_psci_ops() [mandatory]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#interrupt-management-framework-in-bl31">7.14. Interrupt Management framework (in BL31)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-interrupt-type-to-line-mandatory">7.14.1. Function : plat_interrupt_type_to_line() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-ic-get-pending-interrupt-type-mandatory">7.14.2. Function : plat_ic_get_pending_interrupt_type() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-ic-get-pending-interrupt-id-mandatory">7.14.3. Function : plat_ic_get_pending_interrupt_id() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-ic-acknowledge-interrupt-mandatory">7.14.4. Function : plat_ic_acknowledge_interrupt() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-ic-end-of-interrupt-mandatory">7.14.5. Function : plat_ic_end_of_interrupt() [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-ic-get-interrupt-type-mandatory">7.14.6. Function : plat_ic_get_interrupt_type() [mandatory]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#crash-reporting-mechanism-in-bl31">7.15. Crash Reporting mechanism (in BL31)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-crash-console-init-mandatory">7.15.1. Function : plat_crash_console_init [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-crash-console-putc-mandatory">7.15.2. Function : plat_crash_console_putc [mandatory]</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-crash-console-flush-mandatory">7.15.3. Function : plat_crash_console_flush [mandatory]</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#external-abort-handling-and-ras-support">7.16. External Abort handling and RAS Support</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-ea-handler">7.16.1. Function : plat_ea_handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-handle-uncontainable-ea">7.16.2. Function : plat_handle_uncontainable_ea</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-handle-double-fault">7.16.3. Function : plat_handle_double_fault</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/porting-guide.html#function-plat-handle-el3-ea">7.16.4. Function : plat_handle_el3_ea</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#build-flags">7.17. Build flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#platform-include-paths">7.18. Platform include paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#c-library">7.19. C Library</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/porting-guide.html#storage-abstraction-layer">7.20. Storage abstraction layer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html">8. PSCI Library Integration guide for Armv8-A AArch32 systems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#generic-call-sequence-for-psci-library-interface-aarch32">8.1. Generic call sequence for PSCI Library interface (AArch32)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#psci-cpu-context-management">8.2. PSCI CPU context management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#psci-library-interface">8.3. PSCI Library Interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#interface-psci-setup">8.3.1. Interface : psci_setup()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#interface-psci-prepare-next-non-secure-ctx">8.3.2. Interface : psci_prepare_next_non_secure_ctx()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#interface-psci-register-spd-pm-hook">8.3.3. Interface : psci_register_spd_pm_hook()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#interface-psci-smc-handler">8.3.4. Interface : psci_smc_handler()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#interface-psci-warmboot-entrypoint">8.3.5. Interface : psci_warmboot_entrypoint()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#el3-runtime-software-dependencies">8.4. EL3 Runtime Software dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#general-dependencies">8.4.1. General dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#cpu-context-management-api">8.4.2. CPU Context management API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#platform-api">8.4.3. Platform API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#secure-payload-power-management-callback">8.4.4. Secure payload power management callback</a></li>
<li class="toctree-l4"><a class="reference internal" href="../getting_started/psci-lib-integration-guide.html#cpu-operations">8.4.5. CPU operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/rt-svc-writers-guide.html">9. EL3 Runtime Service Writer’s Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/rt-svc-writers-guide.html#introduction">9.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/rt-svc-writers-guide.html#owning-entities-call-types-and-function-ids">9.2. Owning Entities, Call Types and Function IDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/rt-svc-writers-guide.html#getting-started">9.3. Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/rt-svc-writers-guide.html#registering-a-runtime-service">9.4. Registering a runtime service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/rt-svc-writers-guide.html#initializing-a-runtime-service">9.5. Initializing a runtime service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/rt-svc-writers-guide.html#handling-runtime-service-requests">9.6. Handling runtime service requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/rt-svc-writers-guide.html#services-that-contain-multiple-sub-services">9.7. Services that contain multiple sub-services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/rt-svc-writers-guide.html#secure-el1-payload-dispatcher-service-spd">9.8. Secure-EL1 Payload Dispatcher service (SPD)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Processes &amp; Policies</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../process/security.html">1. Security Handling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../process/security.html#security-disclosures">1.1. Security Disclosures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/security.html#found-a-security-issue">1.2. Found a Security Issue?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/security.html#attribution">1.3. Attribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/security.html#security-advisories">1.4. Security Advisories</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../process/platform-compatibility-policy.html">2. Platform Compatibility Policy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../process/platform-compatibility-policy.html#introduction">2.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/platform-compatibility-policy.html#id1">2.2. Platform compatibility policy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../process/coding-style.html">3. Coding Style</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#file-encoding">3.1. File Encoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#language">3.2. Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#c-language-standard">3.3. C Language Standard</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#misra-compliance">3.4. MISRA Compliance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#indentation">3.5. Indentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#spacing">3.6. Spacing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#line-length">3.7. Line Length</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#blank-lines">3.8. Blank Lines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#braces">3.9. Braces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-style.html#opening-brace-placement">3.9.1. Opening Brace Placement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-style.html#conditional-statement-bodies">3.9.2. Conditional Statement Bodies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#naming">3.10. Naming</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-style.html#functions">3.10.1. Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-style.html#local-variables-and-parameters">3.10.2. Local Variables and Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-style.html#preprocessor-macros">3.10.3. Preprocessor Macros</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#function-attributes">3.11. Function Attributes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#alignment">3.12. Alignment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-style.html#switch-statement-alignment">3.12.1. Switch Statement Alignment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-style.html#pointer-alignment">3.12.2. Pointer Alignment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#comments">3.13. Comments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#headers-and-inclusion">3.14. Headers and inclusion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-style.html#header-guards">3.14.1. Header guards</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-style.html#include-statement-ordering">3.14.2. Include statement ordering</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-style.html#include-statement-variants">3.14.3. Include statement variants</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-style.html#typedefs">3.15. Typedefs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-style.html#avoid-anonymous-typedefs-of-structs-enums-in-headers">3.15.1. Avoid anonymous typedefs of structs/enums in headers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../process/coding-guidelines.html">4. Coding Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-guidelines.html#automatic-editor-configuration">4.1. Automatic Editor Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-guidelines.html#automatic-compliance-checking">4.2. Automatic Compliance Checking</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-guidelines.html#ignored-checkpatch-warnings">4.2.1. Ignored Checkpatch Warnings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-guidelines.html#performance-considerations">4.3. Performance considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-guidelines.html#avoid-printf-and-use-logging-macros">4.3.1. Avoid printf and use logging macros</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-guidelines.html#use-const-data-where-possible">4.3.2. Use const data where possible</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-guidelines.html#libc-functions-that-are-banned-or-to-be-used-with-caution">4.4. Libc functions that are banned or to be used with caution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-guidelines.html#error-handling-and-robustness">4.5. Error handling and robustness</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-guidelines.html#using-cassert-to-check-for-compile-time-data-errors">4.5.1. Using CASSERT to check for compile time data errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-guidelines.html#using-assert-to-check-for-programming-errors">4.5.2. Using assert() to check for programming errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-guidelines.html#handling-integration-errors">4.5.3. Handling integration errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-guidelines.html#handling-recoverable-errors">4.5.4. Handling recoverable errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-guidelines.html#handling-unrecoverable-errors">4.5.5. Handling unrecoverable errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/coding-guidelines.html#handling-critical-unresponsiveness">4.5.6. Handling critical unresponsiveness</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-guidelines.html#use-of-built-in-c-and-libc-data-types">4.6. Use of built-in <em>C</em> and <em>libc</em> data types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/coding-guidelines.html#favor-c-language-over-assembly-language">4.7. Favor C language over assembly language</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../process/contributing.html">5. Contributor’s Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../process/contributing.html#getting-started">5.1. Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/contributing.html#making-changes">5.2. Making Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/contributing.html#submitting-changes">5.3. Submitting Changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/contributing.html#binary-components">5.4. Binary Components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../process/code-review-guidelines.html">6. Code Review Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../process/code-review-guidelines.html#why-do-we-do-code-reviews">6.1. Why do we do code reviews?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/code-review-guidelines.html#good-practices">6.2. Good practices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/code-review-guidelines.html#guidelines-for-patch-contributors">6.3. Guidelines for patch contributors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/code-review-guidelines.html#guidelines-for-all-reviewers">6.4. Guidelines for all reviewers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/code-review-guidelines.html#guidelines-for-code-owners">6.5. Guidelines for code owners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/code-review-guidelines.html#guidelines-for-maintainers">6.6. Guidelines for maintainers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../process/faq.html">7. Frequently-Asked Questions (FAQ)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../process/faq.html#how-do-i-update-my-changes">7.1. How do I update my changes?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/faq.html#how-long-will-my-changes-take-to-merge-into-integration">7.2. How long will my changes take to merge into <code class="docutils literal notranslate"><span class="pre">integration</span></code>?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/faq.html#how-long-will-it-take-for-my-changes-to-go-from-integration-to-master">7.3. How long will it take for my changes to go from <code class="docutils literal notranslate"><span class="pre">integration</span></code> to <code class="docutils literal notranslate"><span class="pre">master</span></code>?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../process/faq.html#what-are-these-strange-comments-in-my-changes">7.4. What are these strange comments in my changes?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../process/security-hardening.html">8. Secure Development Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../process/security-hardening.html#security-considerations">8.1. Security considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../process/security-hardening.html#do-not-leak-secrets-to-the-normal-world">8.1.1. Do not leak secrets to the normal world</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/security-hardening.html#handling-denial-of-service-attacks">8.1.2. Handling Denial of Service attacks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../process/security-hardening.html#preventing-secure-world-timing-information-leakage-via-pmu-counters">8.1.3. Preventing Secure-world timing information leakage via PMU counters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../process/security-hardening.html#build-options">8.2. Build options</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Components</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="spd/index.html">1. Secure Payload Dispatcher (SPD)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="spd/optee-dispatcher.html">1.1. OP-TEE Dispatcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="spd/tlk-dispatcher.html">1.2. Trusted Little Kernel (TLK) Dispatcher</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spd/tlk-dispatcher.html#trusted-little-kernel-tlk">1.2.1. Trusted Little Kernel (TLK)</a></li>
<li class="toctree-l4"><a class="reference internal" href="spd/tlk-dispatcher.html#build-tlk">1.2.2. Build TLK</a></li>
<li class="toctree-l4"><a class="reference internal" href="spd/tlk-dispatcher.html#input-parameters-to-tlk">1.2.3. Input parameters to TLK</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="spd/trusty-dispatcher.html">1.3. Trusty Dispatcher</a><ul>
<li class="toctree-l4"><a class="reference internal" href="spd/trusty-dispatcher.html#boot-parameters">1.3.1. Boot parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="spd/trusty-dispatcher.html#supported-platforms">1.3.2. Supported platforms</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="arm-sip-service.html">2. Arm SiP Services</a><ul>
<li class="toctree-l3"><a class="reference internal" href="arm-sip-service.html#performance-measurement-framework-pmf">2.1. Performance Measurement Framework (PMF)</a></li>
<li class="toctree-l3"><a class="reference internal" href="arm-sip-service.html#execution-state-switching-service">2.2. Execution State Switching service</a><ul>
<li class="toctree-l4"><a class="reference internal" href="arm-sip-service.html#arm-sip-svc-exe-state-switch">2.2.1. <code class="docutils literal notranslate"><span class="pre">ARM_SIP_SVC_EXE_STATE_SWITCH</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="arm-sip-service.html#debugfs-interface">2.3. DebugFS interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="arm-sip-service.html#mount">2.3.1. MOUNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="arm-sip-service.html#open">2.3.2. OPEN</a></li>
<li class="toctree-l4"><a class="reference internal" href="arm-sip-service.html#close">2.3.3. CLOSE</a></li>
<li class="toctree-l4"><a class="reference internal" href="arm-sip-service.html#read">2.3.4. READ</a></li>
<li class="toctree-l4"><a class="reference internal" href="arm-sip-service.html#seek">2.3.5. SEEK</a></li>
<li class="toctree-l4"><a class="reference internal" href="arm-sip-service.html#bind">2.3.6. BIND</a></li>
<li class="toctree-l4"><a class="reference internal" href="arm-sip-service.html#stat">2.3.7. STAT</a></li>
<li class="toctree-l4"><a class="reference internal" href="arm-sip-service.html#init">2.3.8. INIT</a></li>
<li class="toctree-l4"><a class="reference internal" href="arm-sip-service.html#version">2.3.9. VERSION</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="debugfs-design.html">3. Debug FS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="debugfs-design.html#overview">3.1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="debugfs-design.html#virtual-filesystem">3.2. Virtual filesystem</a><ul>
<li class="toctree-l4"><a class="reference internal" href="debugfs-design.html#namespace">3.2.1. Namespace</a></li>
<li class="toctree-l4"><a class="reference internal" href="debugfs-design.html#p-interface">3.2.2. 9p interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="debugfs-design.html#smc-interface">3.3. SMC interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="debugfs-design.html#security-considerations">3.4. Security considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="debugfs-design.html#limitations">3.5. Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="debugfs-design.html#applications">3.6. Applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="exception-handling.html">4. Exception Handling Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#introduction">4.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#the-role-of-exception-handling-framework">4.2. The role of Exception Handling Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#interrupt-handling">4.3. Interrupt handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="exception-handling.html#partitioning-priority-levels">4.3.1. Partitioning priority levels</a></li>
<li class="toctree-l4"><a class="reference internal" href="exception-handling.html#programming-priority">4.3.2. Programming priority</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#registering-handler">4.4. Registering handler</a></li>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#interrupt-handling-example">4.5. Interrupt handling example</a></li>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#activating-and-deactivating-priorities">4.6. Activating and Deactivating priorities</a></li>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#transition-of-priority-levels">4.7. Transition of priority levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#effect-on-smc-calls">4.8. Effect on SMC calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#build-time-flow">4.9. Build-time flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#run-time-flow">4.10. Run-time flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#interrupt-prioritisation-considerations">4.11. Interrupt Prioritisation Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="exception-handling.html#limitations">4.12. Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fconf/index.html">5. Firmware Configuration Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fconf/index.html#introduction">5.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="fconf/index.html#accessing-properties">5.2. Accessing properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="fconf/index.html#defining-properties">5.3. Defining properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="fconf/index.html#loading-the-property-device-tree">5.4. Loading the property device tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="fconf/index.html#populating-the-properties">5.5. Populating the properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="fconf/index.html#namespace-guidance">5.6. Namespace guidance</a></li>
<li class="toctree-l3"><a class="reference internal" href="fconf/index.html#properties-binding-information">5.7. Properties binding information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="fconf/fconf_properties.html">5.7.1. DTB binding for FCONF properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="firmware-update.html">6. Firmware Update (FWU)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="firmware-update.html#introduction">6.1. Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#scope">6.1.1. Scope</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="firmware-update.html#fwu-overview">6.2. FWU Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="firmware-update.html#image-identification">6.3. Image Identification</a></li>
<li class="toctree-l3"><a class="reference internal" href="firmware-update.html#fwu-state-machine">6.4. FWU State Machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="firmware-update.html#bl1-smc-interface">6.5. BL1 SMC Interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#bl1-smc-call-count">6.5.1. BL1_SMC_CALL_COUNT</a></li>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#bl1-smc-uid">6.5.2. BL1_SMC_UID</a></li>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#bl1-smc-version">6.5.3. BL1_SMC_VERSION</a></li>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#bl1-smc-run-image">6.5.4. BL1_SMC_RUN_IMAGE</a></li>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#fwu-smc-image-copy">6.5.5. FWU_SMC_IMAGE_COPY</a></li>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#fwu-smc-image-auth">6.5.6. FWU_SMC_IMAGE_AUTH</a></li>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#fwu-smc-image-execute">6.5.7. FWU_SMC_IMAGE_EXECUTE</a></li>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#fwu-smc-image-resume">6.5.8. FWU_SMC_IMAGE_RESUME</a></li>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#fwu-smc-sec-image-done">6.5.9. FWU_SMC_SEC_IMAGE_DONE</a></li>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#fwu-smc-update-done">6.5.10. FWU_SMC_UPDATE_DONE</a></li>
<li class="toctree-l4"><a class="reference internal" href="firmware-update.html#fwu-smc-image-reset">6.5.11. FWU_SMC_IMAGE_RESET</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="measured_boot/index.html">7. Measured Boot Driver (MBD)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="measured_boot/index.html#properties-binding-information">7.1. Properties binding information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="measured_boot/event_log.html">7.1.1. DTB binding for Event Log properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="platform-interrupt-controller-API.html">8. Platform Interrupt Controller API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-unsigned-int-plat-ic-get-running-priority-void-optional">8.1. Function: unsigned int plat_ic_get_running_priority(void); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-int-plat-ic-is-spi-unsigned-int-id-optional">8.2. Function: int plat_ic_is_spi(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-int-plat-ic-is-ppi-unsigned-int-id-optional">8.3. Function: int plat_ic_is_ppi(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-int-plat-ic-is-sgi-unsigned-int-id-optional">8.4. Function: int plat_ic_is_sgi(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-unsigned-int-plat-ic-get-interrupt-active-unsigned-int-id-optional">8.5. Function: unsigned int plat_ic_get_interrupt_active(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-void-plat-ic-enable-interrupt-unsigned-int-id-optional">8.6. Function: void plat_ic_enable_interrupt(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-void-plat-ic-disable-interrupt-unsigned-int-id-optional">8.7. Function: void plat_ic_disable_interrupt(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-void-plat-ic-set-interrupt-priority-unsigned-int-id-unsigned-int-priority-optional">8.8. Function: void plat_ic_set_interrupt_priority(unsigned int id, unsigned int priority); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-int-plat-ic-has-interrupt-type-unsigned-int-type-optional">8.9. Function: int plat_ic_has_interrupt_type(unsigned int type); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-void-plat-ic-set-interrupt-type-unsigned-int-id-unsigned-int-type-optional">8.10. Function: void plat_ic_set_interrupt_type(unsigned int id, unsigned int type); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-void-plat-ic-raise-el3-sgi-int-sgi-num-u-register-t-target-optional">8.11. Function: void plat_ic_raise_el3_sgi(int sgi_num, u_register_t target); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-void-plat-ic-set-spi-routing-unsigned-int-id-unsigned-int-routing-mode-u-register-t-mpidr-optional">8.12. Function: void plat_ic_set_spi_routing(unsigned int id, unsigned int routing_mode, u_register_t mpidr); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-void-plat-ic-set-interrupt-pending-unsigned-int-id-optional">8.13. Function: void plat_ic_set_interrupt_pending(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-void-plat-ic-clear-interrupt-pending-unsigned-int-id-optional">8.14. Function: void plat_ic_clear_interrupt_pending(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-unsigned-int-plat-ic-set-priority-mask-unsigned-int-id-optional">8.15. Function: unsigned int plat_ic_set_priority_mask(unsigned int id); [optional]</a></li>
<li class="toctree-l3"><a class="reference internal" href="platform-interrupt-controller-API.html#function-unsigned-int-plat-ic-get-interrupt-id-unsigned-int-raw-optional">8.16. Function: unsigned int plat_ic_get_interrupt_id(unsigned int raw); [optional]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ras.html">9. Reliability, Availability, and Serviceability (RAS) Extensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ras.html#overview">9.1. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="ras.html#platform-apis">9.2. Platform APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="ras.html#registering-ras-error-records">9.3. Registering RAS error records</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ras.html#standard-error-record-helpers">9.3.1. Standard Error Record helpers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ras.html#registering-ras-interrupts">9.4. Registering RAS interrupts</a></li>
<li class="toctree-l3"><a class="reference internal" href="ras.html#double-fault-handling">9.5. Double-fault handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="ras.html#engaging-the-ras-framework">9.6. Engaging the RAS framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="ras.html#interaction-with-exception-handling-framework">9.7. Interaction with Exception Handling Framework</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="romlib-design.html">10. Library at ROM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="romlib-design.html#introduction">10.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="romlib-design.html#index-file">10.2. Index file</a></li>
<li class="toctree-l3"><a class="reference internal" href="romlib-design.html#wrapper-functions">10.3. Wrapper functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="romlib-design.html#script">10.4. Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="romlib-design.html#patching-of-functions-in-library-at-rom">10.5. Patching of functions in library at ROM</a></li>
<li class="toctree-l3"><a class="reference internal" href="romlib-design.html#memory-impact">10.6. Memory impact</a></li>
<li class="toctree-l3"><a class="reference internal" href="romlib-design.html#build-library-at-rom">10.7. Build library at ROM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sdei.html">11. SDEI: Software Delegated Exception Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="sdei.html#introduction">11.1. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdei.html#defining-events">11.2. Defining events</a><ul>
<li class="toctree-l4"><a class="reference internal" href="sdei.html#event-flags">11.2.1. Event flags</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sdei.html#event-definition-example">11.3. Event definition example</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdei.html#configuration-within-exception-handling-framework">11.4. Configuration within Exception Handling Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdei.html#determining-client-el">11.5. Determining client EL</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdei.html#explicit-dispatch-of-events">11.6. Explicit dispatch of events</a><ul>
<li class="toctree-l4"><a class="reference internal" href="sdei.html#conditions-for-event-dispatch">11.6.1. Conditions for event dispatch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sdei.html#porting-requirements">11.7. Porting requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdei.html#note-on-writing-sdei-event-handlers">11.8. Note on writing SDEI event handlers</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">12. Secure Partition Manager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#acronyms">12.1. Acronyms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#foreword">12.2. Foreword</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#terminology">12.2.1. Terminology</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support-for-legacy-platforms">12.2.2. Support for legacy platforms</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sample-reference-stack">12.3. Sample reference stack</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tf-a-build-options">12.4. TF-A build options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#boot-process">12.5. Boot process</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#loading-hafnium-and-secure-partitions-in-the-secure-world">12.5.1. Loading Hafnium and Secure Partitions in the secure world</a></li>
<li class="toctree-l4"><a class="reference internal" href="#booting-through-tf-a">12.5.2. Booting through TF-A</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hafnium-in-the-secure-world">12.6. Hafnium in the secure world</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-considerations">12.6.1. General considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parsing-sp-partition-manifests">12.6.2. Parsing SP partition manifests</a></li>
<li class="toctree-l4"><a class="reference internal" href="#passing-boot-data-to-the-sp">12.6.3. Passing boot data to the SP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sp-boot-order">12.6.4. SP Boot order</a></li>
<li class="toctree-l4"><a class="reference internal" href="#boot-phases">12.6.5. Boot phases</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mandatory-interfaces">12.6.6. Mandatory interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="#direct-messaging">12.6.7. Direct messaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memory-management">12.6.8. Memory management</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interrupt-management">12.6.9. Interrupt management</a></li>
<li class="toctree-l4"><a class="reference internal" href="#power-management">12.6.10. Power management</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sp-notification">12.6.11. SP notification</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#references">12.7. References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="secure-partition-manager-mm.html">13. Secure Partition Manager (MM)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="secure-partition-manager-mm.html#foreword">13.1. Foreword</a></li>
<li class="toctree-l3"><a class="reference internal" href="secure-partition-manager-mm.html#background">13.2. Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="secure-partition-manager-mm.html#introduction">13.3. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="secure-partition-manager-mm.html#description">13.4. Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="secure-partition-manager-mm.html#building-tf-a-with-secure-partition-support">13.4.1. Building TF-A with Secure Partition support</a></li>
<li class="toctree-l4"><a class="reference internal" href="secure-partition-manager-mm.html#describing-secure-partition-resources">13.4.2. Describing Secure Partition resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="secure-partition-manager-mm.html#accessing-secure-partition-services">13.4.3. Accessing Secure Partition services</a></li>
<li class="toctree-l4"><a class="reference internal" href="secure-partition-manager-mm.html#exchanging-data-with-the-secure-partition">13.4.4. Exchanging data with the Secure Partition</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="secure-partition-manager-mm.html#runtime-model-of-the-secure-partition">13.5. Runtime model of the Secure Partition</a><ul>
<li class="toctree-l4"><a class="reference internal" href="secure-partition-manager-mm.html#interface-with-spm">13.5.1. Interface with SPM</a></li>
<li class="toctree-l4"><a class="reference internal" href="secure-partition-manager-mm.html#miscellaneous-interfaces">13.5.2. Miscellaneous interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="secure-partition-manager-mm.html#secure-partition-initialisation">13.5.3. Secure Partition Initialisation</a></li>
<li class="toctree-l4"><a class="reference internal" href="secure-partition-manager-mm.html#runtime-event-delegation">13.5.4. Runtime Event Delegation</a></li>
<li class="toctree-l4"><a class="reference internal" href="secure-partition-manager-mm.html#secure-partition-memory-management">13.5.5. Secure Partition Memory Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="secure-partition-manager-mm.html#error-codes">13.5.6. Error Codes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="psa-ffa-manifest-binding.html">14. PSA FF-A manifest binding to device tree</a><ul>
<li class="toctree-l3"><a class="reference internal" href="psa-ffa-manifest-binding.html#version-1-0">14.1. Version 1.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="psa-ffa-manifest-binding.html#partition-properties">14.1.1. Partition Properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="psa-ffa-manifest-binding.html#memory-regions">14.2. Memory Regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="psa-ffa-manifest-binding.html#device-regions">14.3. Device Regions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="xlat-tables-lib-v2-design.html">15. Translation (XLAT) Tables Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="xlat-tables-lib-v2-design.html#about-version-1-and-version-2">15.1. About version 1 and version 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="xlat-tables-lib-v2-design.html#design-concepts-and-interfaces">15.2. Design concepts and interfaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="xlat-tables-lib-v2-design.html#mmap-regions">15.2.1. <cite>mmap</cite> regions</a></li>
<li class="toctree-l4"><a class="reference internal" href="xlat-tables-lib-v2-design.html#translation-context">15.2.2. Translation Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="xlat-tables-lib-v2-design.html#static-and-dynamic-memory-regions">15.2.3. Static and dynamic memory regions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="xlat-tables-lib-v2-design.html#library-apis">15.3. Library APIs</a></li>
<li class="toctree-l3"><a class="reference internal" href="xlat-tables-lib-v2-design.html#library-limitations">15.4. Library limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="xlat-tables-lib-v2-design.html#implementation-details">15.5. Implementation details</a><ul>
<li class="toctree-l4"><a class="reference internal" href="xlat-tables-lib-v2-design.html#code-structure">15.5.1. Code structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="xlat-tables-lib-v2-design.html#from-mmap-regions-to-translation-tables">15.5.2. From mmap regions to translation tables</a></li>
<li class="toctree-l4"><a class="reference internal" href="xlat-tables-lib-v2-design.html#the-memory-mapping-algorithm">15.5.3. The memory mapping algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="xlat-tables-lib-v2-design.html#tlb-maintenance-operations">15.5.4. TLB maintenance operations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cot-binding.html">16. Chain of trust bindings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cot-binding.html#cot">16.1. cot</a></li>
<li class="toctree-l3"><a class="reference internal" href="cot-binding.html#manifests-and-certificate-node-bindings-definition">16.2. Manifests and Certificate node bindings definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="cot-binding.html#images-and-image-node-bindings-definition">16.3. Images and Image node bindings definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="cot-binding.html#non-volatile-counter-node-binding-definition">16.4. non-volatile counter node binding definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="cot-binding.html#future-update-to-chain-of-trust-binding">16.5. Future update to chain of trust binding</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">System Design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../design/alt-boot-flows.html">1. Alternative Boot Flows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../design/alt-boot-flows.html#el3-payloads-alternative-boot-flow">1.1. EL3 payloads alternative boot flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/alt-boot-flows.html#booting-an-el3-payload">1.1.1. Booting an EL3 payload</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/alt-boot-flows.html#preloaded-bl33-alternative-boot-flow">1.2. Preloaded BL33 alternative boot flow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../design/auth-framework.html">2. Authentication Framework &amp; Chain of Trust</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../design/auth-framework.html#framework-design">2.1. Framework design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/auth-framework.html#chain-of-trust">2.1.1. Chain of Trust</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/auth-framework.html#image-types">2.1.2. Image types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/auth-framework.html#component-responsibilities">2.1.3. Component responsibilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/auth-framework.html#authentication-methods">2.1.4. Authentication methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/auth-framework.html#specifying-a-chain-of-trust">2.2. Specifying a Chain of Trust</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/auth-framework.html#describing-the-image-parsing-methods">2.2.1. Describing the image parsing methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/auth-framework.html#describing-the-authentication-method-s">2.2.2. Describing the authentication method(s)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/auth-framework.html#storing-authentication-parameters">2.2.3. Storing Authentication parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/auth-framework.html#describing-an-image-in-a-cot">2.2.4. Describing an image in a CoT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/auth-framework.html#implementation-example">2.3. Implementation example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/auth-framework.html#the-tbbr-cot">2.3.1. The TBBR CoT</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/auth-framework.html#the-image-parser-library">2.3.2. The image parser library</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/auth-framework.html#the-cryptographic-library">2.3.3. The cryptographic library</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../design/cpu-specific-build-macros.html">3. Arm CPU Specific Build Macros</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../design/cpu-specific-build-macros.html#security-vulnerability-workarounds">3.1. Security Vulnerability Workarounds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/cpu-specific-build-macros.html#cpu-errata-workarounds">3.2. CPU Errata Workarounds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/cpu-specific-build-macros.html#dsu-errata-workarounds">3.3. DSU Errata Workarounds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/cpu-specific-build-macros.html#cpu-specific-optimizations">3.4. CPU Specific optimizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../design/firmware-design.html">4. Firmware Design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#cold-boot">4.1. Cold boot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#dynamic-configuration-during-cold-boot">4.1.1. Dynamic Configuration during cold boot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#bl1">4.1.2. BL1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#bl2">4.1.3. BL2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#running-bl2-at-el3-execution-level">4.1.4. Running BL2 at EL3 execution level</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#aarch64-bl31">4.1.5. AArch64 BL31</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#using-alternative-trusted-boot-firmware-in-place-of-bl1-bl2-aarch64-only">4.1.6. Using alternative Trusted Boot Firmware in place of BL1 &amp; BL2 (AArch64 only)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#aarch32-el3-runtime-software-entrypoint-interface">4.1.7. AArch32 EL3 Runtime Software entrypoint interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#el3-runtime-services-framework">4.2. EL3 runtime services framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#registration">4.2.1. Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#initialization">4.2.2. Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#handling-an-smc">4.2.3. Handling an SMC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#exception-handling-framework">4.3. Exception Handling Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#power-state-coordination-interface">4.4. Power State Coordination Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#secure-el1-payloads-and-dispatchers">4.5. Secure-EL1 Payloads and Dispatchers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#initializing-a-bl32-image">4.5.1. Initializing a BL32 Image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#crash-reporting-in-bl31">4.6. Crash Reporting in BL31</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#guidelines-for-reset-handlers">4.7. Guidelines for Reset Handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#configuring-secure-interrupts">4.8. Configuring secure interrupts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#cpu-specific-operations-framework">4.9. CPU specific operations framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#cpu-specific-reset-handling">4.9.1. CPU specific Reset Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#cpu-specific-power-down-sequence">4.9.2. CPU specific power down sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#cpu-specific-register-reporting-during-crash">4.9.3. CPU specific register reporting during crash</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#cpu-errata-status-reporting">4.9.4. CPU errata status reporting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#memory-layout-of-bl-images">4.10. Memory layout of BL images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#linker-scripts-and-symbols">4.10.1. Linker scripts and symbols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#how-to-choose-the-right-base-addresses-for-each-bootloader-stage-image">4.10.2. How to choose the right base addresses for each bootloader stage image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#firmware-image-package-fip">4.11. Firmware Image Package (FIP)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#firmware-image-package-layout">4.11.1. Firmware Image Package layout</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#firmware-image-package-creation-tool">4.11.2. Firmware Image Package creation tool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#loading-from-a-firmware-image-package-fip">4.11.3. Loading from a Firmware Image Package (FIP)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#use-of-coherent-memory-in-tf-a">4.12. Use of coherent memory in TF-A</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#disabling-the-use-of-coherent-memory-in-tf-a">4.12.1. Disabling the use of coherent memory in TF-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#coherent-memory-usage-in-psci-implementation">4.12.2. Coherent memory usage in PSCI implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#bakery-lock-data">4.12.3. Bakery lock data</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#non-functional-impact-of-removing-coherent-memory">4.12.4. Non Functional Impact of removing coherent memory</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#isolating-code-and-read-only-data-on-separate-memory-pages">4.13. Isolating code and read-only data on separate memory pages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#publish-and-subscribe-framework">4.14. Publish and Subscribe Framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#publish-and-subscribe-example">4.14.1. Publish and Subscribe Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#reclaiming-the-bl31-initialization-code">4.14.2. Reclaiming the BL31 initialization code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#performance-measurement-framework">4.15. Performance Measurement Framework</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#timestamp-identifier-format">4.15.1. Timestamp identifier format</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#registering-a-pmf-service">4.15.2. Registering a PMF service</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#capturing-a-timestamp">4.15.3. Capturing a timestamp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#retrieving-a-timestamp">4.15.4. Retrieving a timestamp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#pmf-code-structure">4.15.5. PMF code structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#armv8-a-architecture-extensions">4.16. Armv8-A Architecture Extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#armv8-1-a">4.16.1. Armv8.1-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#armv8-2-a">4.16.2. Armv8.2-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#armv8-3-a">4.16.3. Armv8.3-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#armv8-5-a">4.16.4. Armv8.5-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/firmware-design.html#armv7-a">4.16.5. Armv7-A</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/firmware-design.html#code-structure">4.17. Code Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../design/interrupt-framework-design.html">5. Interrupt Management Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../design/interrupt-framework-design.html#concepts">5.1. Concepts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#interrupt-types">5.1.1. Interrupt types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#routing-model">5.1.2. Routing model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#valid-routing-models">5.1.3. Valid routing models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#mapping-of-interrupt-type-to-signal">5.1.4. Mapping of interrupt type to signal</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/interrupt-framework-design.html#assumptions-in-interrupt-management-framework">5.2. Assumptions in Interrupt Management Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/interrupt-framework-design.html#software-components">5.3. Software components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/interrupt-framework-design.html#interrupt-registration">5.4. Interrupt registration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#el3-runtime-firmware">5.4.1. EL3 runtime firmware</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#secure-payload-dispatcher">5.4.2. Secure payload dispatcher</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#test-secure-payload-dispatcher-behavior">5.4.3. Test secure payload dispatcher behavior</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#secure-payload">5.4.4. Secure payload</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#test-secure-payload-behavior">5.4.5. Test secure payload behavior</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/interrupt-framework-design.html#interrupt-handling">5.5. Interrupt handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#id4">5.5.1. EL3 runtime firmware</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#id5">5.5.2. Secure payload dispatcher</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#secure-payload-interrupt-handling">5.5.3. Secure payload interrupt handling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design/interrupt-framework-design.html#other-considerations">5.6. Other considerations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/interrupt-framework-design.html#implication-of-preempted-smc-on-non-secure-software">5.6.1. Implication of preempted SMC on Non-Secure Software</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../design/psci-pd-tree.html">6. PSCI Power Domain Tree Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../design/psci-pd-tree.html#requirements">6.1. Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/psci-pd-tree.html#design">6.2. Design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/psci-pd-tree.html#describing-a-power-domain-tree">6.2.1. Describing a power domain tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/psci-pd-tree.html#removing-assumptions-about-mpidrs-used-in-a-platform">6.2.2. Removing assumptions about MPIDRs used in a platform</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/psci-pd-tree.html#traversing-through-and-distinguishing-between-core-and-non-core-power-domains">6.2.3. Traversing through and distinguishing between core and non-core power domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/psci-pd-tree.html#populating-the-power-domain-tree">6.2.4. Populating the power domain tree</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../design/reset-design.html">7. CPU Reset</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../design/reset-design.html#general-reset-code-flow">7.1. General reset code flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/reset-design.html#programmable-cpu-reset-address">7.2. Programmable CPU reset address</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/reset-design.html#cold-boot-on-a-single-cpu">7.3. Cold boot on a single CPU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/reset-design.html#programmable-cpu-reset-address-cold-boot-on-a-single-cpu">7.4. Programmable CPU reset address, Cold boot on a single CPU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/reset-design.html#using-bl31-entrypoint-as-the-reset-address">7.5. Using BL31 entrypoint as the reset address</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design/reset-design.html#determination-of-boot-path">7.5.1. Determination of boot path</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design/reset-design.html#platform-initialization">7.5.2. Platform initialization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../design/trusted-board-boot.html">8. Trusted Board Boot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../design/trusted-board-boot.html#chain-of-trust">8.1. Chain of Trust</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/trusted-board-boot.html#trusted-board-boot-sequence">8.2. Trusted Board Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/trusted-board-boot.html#authentication-framework">8.3. Authentication Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/trusted-board-boot.html#certificate-generation-tool">8.4. Certificate Generation Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/trusted-board-boot.html#authenticated-encryption-framework">8.5. Authenticated Encryption Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design/trusted-board-boot.html#firmware-encryption-tool">8.6. Firmware Encryption Tool</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../design/trusted-board-boot-build.html">9. Building FIP images with support for Trusted Board Boot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plat/index.html">Platform Ports</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../plat/allwinner.html">1. Allwinner ARMv8 SoCs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/allwinner.html#trusted-os-dispatcher">1.1. Trusted OS dispatcher</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/arm/index.html">2. Arm Development Platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/arm/juno/index.html">2.1. Arm Juno Development Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/juno/index.html#platform-specific-build-options">2.1.1. Platform-specific build options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/juno/index.html#running-software-on-juno">2.1.2. Running software on Juno</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/juno/index.html#preparing-tf-a-images">2.1.3. Preparing TF-A images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/juno/index.html#creating-a-firmware-image-package-fip">2.1.4. Creating a Firmware Image Package (FIP)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/juno/index.html#booting-firmware-update-images">2.1.5. Booting Firmware Update images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/juno/index.html#booting-an-el3-payload">2.1.6. Booting an EL3 payload</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/juno/index.html#booting-a-preloaded-kernel-image">2.1.7. Booting a preloaded kernel image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/juno/index.html#testing-system-suspend">2.1.8. Testing System Suspend</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/juno/index.html#additional-resources">2.1.9. Additional Resources</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/arm/fvp/index.html">2.2. Arm Fixed Virtual Platforms (FVP)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/fvp/index.html#fixed-virtual-platform-fvp-support">2.2.1. Fixed Virtual Platform (FVP) Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/fvp/index.html#arm-fvp-platform-specific-build-options">2.2.2. Arm FVP Platform Specific Build Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/fvp/index.html#booting-firmware-update-images">2.2.3. Booting Firmware Update images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/fvp/index.html#booting-an-el3-payload">2.2.4. Booting an EL3 payload</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/fvp/index.html#booting-a-preloaded-kernel-image-base-fvp">2.2.5. Booting a preloaded kernel image (Base FVP)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/arm/fvp-ve/index.html">2.3. Arm Versatile Express</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/fvp-ve/index.html#boot-sequence">2.3.1. Boot Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/fvp-ve/index.html#how-to-build">2.3.2. How to build</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/arm/tc0/index.html">2.4. TC0 Total Compute Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/tc0/index.html#boot-sequence">2.4.1. Boot Sequence</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/arm/arm_fpga/index.html">2.5. Arm FPGA Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/arm_fpga/index.html#platform-specific-build-options">2.5.1. Platform-specific build options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/arm_fpga/index.html#building-the-tf-a-image">2.5.2. Building the TF-A image</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/arm_fpga/index.html#running-the-tf-a-image">2.5.3. Running the TF-A image</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/arm/arm-build-options.html">2.6. Arm Development Platform Build Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/arm-build-options.html#arm-platform-build-options">2.6.1. Arm Platform Build Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/arm-build-options.html#arm-css-platform-specific-build-options">2.6.2. Arm CSS Platform-Specific Build Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/arm/morello/index.html">2.7. Morello Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/arm/morello/index.html#boot-sequence">2.7.1. Boot Sequence</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/meson-axg.html">3. Amlogic Meson A113D (AXG)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plat/meson-gxbb.html">4. Amlogic Meson S905 (GXBB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plat/meson-gxl.html">5. Amlogic Meson S905x (GXL)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plat/meson-g12a.html">6. Amlogic Meson S905X2 (G12A)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plat/hikey.html">7. HiKey</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/hikey.html#how-to-build">7.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/hikey.html#code-locations">7.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/hikey.html#build-procedure">7.1.2. Build Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/hikey.html#setup-console">7.2. Setup Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/hikey.html#flash-images-in-recovery-mode">7.3. Flash images in recovery mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/hikey.html#boot-uefi-in-normal-mode">7.4. Boot UEFI in normal mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/hikey960.html">8. HiKey960</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/hikey960.html#how-to-build">8.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/hikey960.html#code-locations">8.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/hikey960.html#build-procedure">8.1.2. Build Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/hikey960.html#setup-console">8.2. Setup Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/hikey960.html#boot-uefi-in-recovery-mode">8.3. Boot UEFI in recovery mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/hikey960.html#boot-uefi-in-normal-mode">8.4. Boot UEFI in normal mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/intel-agilex.html">9. Intel Agilex SoCFPGA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/intel-agilex.html#how-to-build">9.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/intel-agilex.html#code-locations">9.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/intel-agilex.html#build-procedure">9.1.2. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/intel-agilex.html#install-procedure">9.1.3. Install Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/intel-agilex.html#boot-trace">9.2. Boot trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/intel-stratix10.html">10. Intel Stratix 10 SoCFPGA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/intel-stratix10.html#how-to-build">10.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/intel-stratix10.html#code-locations">10.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/intel-stratix10.html#build-procedure">10.1.2. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/intel-stratix10.html#install-procedure">10.1.3. Install Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/intel-stratix10.html#boot-trace">10.2. Boot trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/marvell/index.html">11. Marvell</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/marvell/armada/build.html">11.1. TF-A Build Instructions for Marvell Platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/build.html#build-instructions">11.1.1. Build Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/build.html#special-build-flags">11.1.2. Special Build Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/build.html#build-output">11.1.3. Build output</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/build.html#tools-and-external-components-installation">11.1.4. Tools and external components installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/marvell/armada/porting.html">11.2. TF-A Porting Guide for Marvell Platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/porting.html#source-code-structure">11.2.1. Source Code Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/porting.html#armada-70x0-armada-80x0-porting">11.2.2. Armada-70x0/Armada-80x0 Porting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-a8k-addr-map.html">11.3. Address decoding flow and address translation units of Marvell Armada 8K SoC family</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-amb.html">11.4. AMB - AXI MBUS address decoding</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-amb.html#mandatory-functions">11.4.1. Mandatory functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-amb.html#mandatory-structures">11.4.2. Mandatory structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-amb.html#examples">11.4.3. Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-ccu.html">11.5. Marvell CCU address decoding bindings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-ccu.html#mandatory-functions">11.5.1. Mandatory functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-ccu.html#mandatory-structures">11.5.2. Mandatory structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-ccu.html#example">11.5.3. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-io-win.html">11.6. Marvell IO WIN address decoding bindings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-io-win.html#mandatory-functions">11.6.1. Mandatory functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-io-win.html#mandatory-structures">11.6.2. Mandatory structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-io-win.html#example">11.6.3. Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-iob.html">11.7. Marvell IOB address decoding bindings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-iob.html#mandatory-functions">11.7.1. Mandatory functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-iob.html#mandatory-structures">11.7.2. Mandatory structures</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-iob.html#target-id-options">11.7.3. Target ID options</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/marvell/armada/misc/mvebu-iob.html#example">11.7.4. Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/mt8183.html">12. MediaTek 8183</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/mt8183.html#boot-sequence">12.1. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/mt8183.html#how-to-build">12.2. How to Build</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/mt8192.html">13. MediaTek 8192</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/mt8192.html#boot-sequence">13.1. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/mt8192.html#how-to-build">13.2. How to Build</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/nvidia-tegra.html">14. NVIDIA Tegra</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/nvidia-tegra.html#directory-structure">14.1. Directory structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/nvidia-tegra.html#trusted-os-dispatcher">14.2. Trusted OS dispatcher</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/nvidia-tegra.html#scatter-files">14.3. Scatter files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/nvidia-tegra.html#preparing-the-bl31-image-to-run-on-tegra-socs">14.4. Preparing the BL31 image to run on Tegra SoCs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/nvidia-tegra.html#power-management">14.5. Power Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/nvidia-tegra.html#tegra-configs">14.6. Tegra configs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/warp7.html">15. NXP i.MX7 WaRP7</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/warp7.html#boot-flow">15.1. Boot Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/warp7.html#build-instructions">15.2. Build Instructions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/warp7.html#u-boot">15.2.1. U-Boot</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/warp7.html#op-tee">15.2.2. OP-TEE</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/warp7.html#tf-a">15.2.3. TF-A</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/warp7.html#fip">15.2.4. FIP</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/warp7.html#deploy-images">15.3. Deploy Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/warp7.html#signing-bl2">15.4. Signing BL2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/imx8.html">16. NXP i.MX 8 Series</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/imx8.html#boot-sequence">16.1. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/imx8.html#how-to-build">16.2. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/imx8.html#build-procedure">16.2.1. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/imx8.html#deploy-tf-a-images">16.2.2. Deploy TF-A Images</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/imx8m.html">17. NXP i.MX 8M Series</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/imx8m.html#boot-sequence">17.1. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/imx8m.html#how-to-build">17.2. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/imx8m.html#build-procedure">17.2.1. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/imx8m.html#deploy-tf-a-images">17.2.2. Deploy TF-A Images</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/ls1043a.html">18. NXP QorIQ® LS1043A</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/ls1043a.html#ls1043ardb-specification">18.1. LS1043ARDB Specification:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/ls1043a.html#boot-sequence">18.2. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/ls1043a.html#how-to-build">18.3. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/ls1043a.html#build-procedure">18.3.1. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/ls1043a.html#deploy-tf-a-images">18.3.2. Deploy TF-A Images</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/poplar.html">19. Poplar</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/poplar.html#how-to-build">19.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/poplar.html#code-locations">19.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/poplar.html#build-procedure">19.1.2. Build Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/poplar.html#install-procedure">19.2. Install Procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/poplar.html#boot-trace">19.3. Boot trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/qemu.html">20. QEMU virt Armv8-A</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/qemu.html#getting-non-tf-images">20.1. Getting non-TF images</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/qemu.html#booting-via-semi-hosting-option">20.2. Booting via semi-hosting option</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/qemu.html#booting-via-flash-based-firmwares">20.3. Booting via flash based firmwares</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/qemu-sbsa.html">21. QEMU SBSA Target</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plat/qti.html">22. Qualcomm Technologies, Inc.</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/qti.html#boot-trace">22.1. Boot Trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/qti.html#how-to-build">22.2. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/qti.html#code-locations">22.2.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/qti.html#build-procedure">22.2.2. Build Procedure</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/rpi3.html">23. Raspberry Pi 3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/rpi3.html#design">23.1. Design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/rpi3.html#placement-of-images">23.1.1. Placement of images</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/rpi3.html#boot-sequence">23.1.2. Boot sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/rpi3.html#secondary-cores">23.1.3. Secondary cores</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rpi3.html#build-instructions">23.2. Build Instructions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/rpi3.html#building-the-firmware-for-kernels-that-don-t-support-psci">23.2.1. Building the firmware for kernels that don’t support PSCI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/rpi3.html#building-the-firmware-for-kernels-that-support-psci">23.2.2. Building the firmware for kernels that support PSCI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rpi3.html#aarch64-kernel-build-instructions">23.3. AArch64 kernel build instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rpi3.html#setup-sd-card">23.4. Setup SD card</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/rpi4.html">24. Raspberry Pi 4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/rpi4.html#build-instructions">24.1. Build Instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rpi4.html#tf-a-port-design">24.2. TF-A port design</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/rcar-gen3.html">25. Renesas R-Car</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/rcar-gen3.html#renesas-r-car-gen3-evaluation-boards">25.1. Renesas R-Car Gen3 evaluation boards:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rcar-gen3.html#overview">25.2. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rcar-gen3.html#how-to-build">25.3. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/rcar-gen3.html#build-tested">25.3.1. Build Tested:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/rcar-gen3.html#system-tested">25.3.2. System Tested:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/rcar-gen3.html#tf-a-build-procedure">25.3.3. TF-A Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/rcar-gen3.html#install-procedure">25.3.4. Install Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rcar-gen3.html#boot-trace">25.4. Boot trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/rz-g2.html">26. Renesas RZ/G</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/rz-g2.html#renesas-rz-g2-reference-platforms">26.1. Renesas RZ/G2 reference platforms:</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rz-g2.html#overview">26.2. Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rz-g2.html#how-to-build">26.3. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/rz-g2.html#build-tested">26.3.1. Build Tested:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/rz-g2.html#system-tested">26.3.2. System Tested:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/rz-g2.html#tf-a-build-procedure">26.3.3. TF-A Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/rz-g2.html#install-procedure">26.3.4. Install Procedure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rz-g2.html#boot-trace">26.4. Boot trace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/rockchip.html">27. Rockchip SoCs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/rockchip.html#boot-sequence">27.1. Boot Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rockchip.html#how-to-build">27.2. How to build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/rockchip.html#how-to-deploy">27.3. How to deploy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/socionext-uniphier.html">28. Socionext UniPhier</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/socionext-uniphier.html#boot-flow">28.1. Boot Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/socionext-uniphier.html#basic-build">28.2. Basic Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/socionext-uniphier.html#optional-features">28.3. Optional features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/synquacer.html">29. Socionext Synquacer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/synquacer.html#how-to-build">29.1. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/synquacer.html#code-locations">29.1.1. Code Locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/synquacer.html#boot-flow">29.1.2. Boot Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/synquacer.html#build-procedure">29.1.3. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/synquacer.html#install-the-system-firmware">29.1.4. Install the System Firmware</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/stm32mp1.html">30. STMicroelectronics STM32MP1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/stm32mp1.html#stm32mp1-versions">30.1. STM32MP1 Versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/stm32mp1.html#design">30.2. Design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/stm32mp1.html#memory-mapping">30.2.1. Memory mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/stm32mp1.html#boot-sequence">30.2.2. Boot sequence</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/stm32mp1.html#build-instructions">30.3. Build Instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/stm32mp1.html#populate-sd-card">30.4. Populate SD-card</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/ti-k3.html">31. Texas Instruments K3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/ti-k3.html#boot-flow">31.1. Boot Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/ti-k3.html#build-instructions">31.2. Build Instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/ti-k3.html#deploy-images">31.3. Deploy Images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/xilinx-versal.html">32. Xilinx Versal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/xilinx-versal.html#xilinx-versal-platform-specific-build-options">32.1. Xilinx Versal platform specific build options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/xilinx-versal.html#plm-tf-a-parameter-passing">32.2. # PLM-&gt;TF-A Parameter Passing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/xilinx-zynqmp.html">33. Xilinx Zynq UltraScale+ MPSoC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/xilinx-zynqmp.html#zynqmp-platform-specific-build-options">33.1. ZynqMP platform specific build options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/xilinx-zynqmp.html#fsbl-tf-a-parameter-passing">33.2. FSBL-&gt;TF-A Parameter Passing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/xilinx-zynqmp.html#power-domain-tree">33.3. Power Domain Tree</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plat/brcm-stingray.html">34. Broadcom Stingray</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plat/brcm-stingray.html#description">34.1. Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../plat/brcm-stingray.html#boot-sequence">34.2. Boot Sequence</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/brcm-stingray.html#code-locations">34.2.1. Code Locations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../plat/brcm-stingray.html#how-to-build">34.3. How to build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plat/brcm-stingray.html#build-procedure">34.3.1. Build Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../plat/brcm-stingray.html#deploy-tf-a-images">34.3.2. Deploy TF-A Images</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../perf/index.html">Performance &amp; Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../perf/psci-performance-juno.html">1. PSCI Performance Measurements on Arm Juno Development Platform</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../perf/psci-performance-juno.html#method">1.1. Method</a></li>
<li class="toctree-l3"><a class="reference internal" href="../perf/psci-performance-juno.html#results-and-commentary">1.2. Results and Commentary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../perf/psci-performance-juno.html#cpu-suspend-to-deepest-power-level-on-all-cpus-in-parallel">1.2.1. <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> to deepest power level on all CPUs in parallel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../perf/psci-performance-juno.html#cpu-suspend-to-power-level-0-on-all-cpus-in-parallel">1.2.2. <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> to power level 0 on all CPUs in parallel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../perf/psci-performance-juno.html#cpu-suspend-to-deepest-power-level-on-all-cpus-in-sequence">1.2.3. <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> to deepest power level on all CPUs in sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../perf/psci-performance-juno.html#cpu-suspend-to-power-level-0-on-all-cpus-in-sequence">1.2.4. <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> to power level 0 on all CPUs in sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="../perf/psci-performance-juno.html#cpu-off-on-all-non-lead-cpus-in-sequence-then-cpu-suspend-on-lead-cpu-to-deepest-power-level">1.2.5. <code class="docutils literal notranslate"><span class="pre">CPU_OFF</span></code> on all non-lead CPUs in sequence then <code class="docutils literal notranslate"><span class="pre">CPU_SUSPEND</span></code> on lead CPU to deepest power level</a></li>
<li class="toctree-l4"><a class="reference internal" href="../perf/psci-performance-juno.html#psci-version-on-all-cpus-in-parallel">1.2.6. <code class="docutils literal notranslate"><span class="pre">PSCI_VERSION</span></code> on all CPUs in parallel</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../perf/tsp.html">2. Test Secure Payload (TSP) and Dispatcher (TSPD)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../perf/tsp.html#building-the-test-secure-payload">2.1. Building the Test Secure Payload</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../perf/performance-monitoring-unit.html">3. Performance Monitoring Unit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../perf/performance-monitoring-unit.html#pmu-counters">3.1. PMU Counters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../perf/performance-monitoring-unit.html#architectural-mappings">3.1.1. Architectural mappings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../perf/performance-monitoring-unit.html#configuring-the-pmu-for-counting-events">3.2. Configuring the PMU for counting events</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../perf/performance-monitoring-unit.html#id1">3.2.1. Architectural mappings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../perf/performance-monitoring-unit.html#relevant-register-fields">3.2.2. Relevant register fields</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security_advisories/index.html">Security Advisories</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../security_advisories/security-advisory-tfv-1.html">1. Advisory TFV-1 (CVE-2016-10319)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security_advisories/security-advisory-tfv-2.html">2. Advisory TFV-2 (CVE-2017-7564)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security_advisories/security-advisory-tfv-3.html">3. Advisory TFV-3 (CVE-2017-7563)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security_advisories/security-advisory-tfv-4.html">4. Advisory TFV-4 (CVE-2017-9607)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security_advisories/security-advisory-tfv-5.html">5. Advisory TFV-5 (CVE-2017-15031)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security_advisories/security-advisory-tfv-6.html">6. Advisory TFV-6 (CVE-2017-5753, CVE-2017-5715, CVE-2017-5754)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../security_advisories/security-advisory-tfv-6.html#variant-1-cve-2017-5753">6.1. Variant 1 (CVE-2017-5753)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security_advisories/security-advisory-tfv-6.html#variant-2-cve-2017-5715">6.2. Variant 2 (CVE-2017-5715)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security_advisories/security-advisory-tfv-6.html#variant-3-cve-2017-5754">6.3. Variant 3 (CVE-2017-5754)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../security_advisories/security-advisory-tfv-7.html">7. Advisory TFV-7 (CVE-2018-3639)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../security_advisories/security-advisory-tfv-7.html#static-mitigation">7.1. Static mitigation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security_advisories/security-advisory-tfv-7.html#dynamic-mitigation">7.2. Dynamic mitigation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../security_advisories/security-advisory-tfv-8.html">8. Advisory TFV-8 (CVE-2018-19440)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../design_documents/index.html">Design Documents</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../design_documents/cmake_framework.html">1. TF-A CMake Build System Proposal</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../design_documents/cmake_framework.html#abstract">1.1. Abstract</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design_documents/cmake_framework.html#introduction">1.2. Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design_documents/cmake_framework.html#main-features">1.3. Main features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../design_documents/cmake_framework.html#structured-configuration-description">1.3.1. Structured configuration description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design_documents/cmake_framework.html#target-description">1.3.2. Target description</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design_documents/cmake_framework.html#compiler-abstraction">1.3.3. Compiler abstraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../design_documents/cmake_framework.html#external-tools">1.3.4. External tools</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../design_documents/cmake_framework.html#workflow">1.4. Workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../design_documents/cmake_framework.html#example">1.5. Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../change-log.html">Change Log &amp; Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-2-4">Version 2.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#changed">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#resolved-issues">Resolved Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#known-issues">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-2-3">Version 2.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id1">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id2">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id3">Resolved Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id4">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-2-2">Version 2.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id5">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id6">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id7">Resolved Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#deprecations">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id8">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-2-1">Version 2.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id9">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id10">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id11">Resolved Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id12">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id13">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-2-0">Version 2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id14">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#issues-resolved-since-last-release">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id15">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-1-6">Version 1.6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id16">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id17">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id18">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-1-5">Version 1.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id19">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id20">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id21">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-1-4">Version 1.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id22">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id23">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id24">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-1-3">Version 1.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id25">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id26">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id27">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-1-2">Version 1.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id28">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id29">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id30">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-1-1">Version 1.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id31">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id32">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id33">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-1-0">Version 1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id34">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id35">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id36">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-0-4">Version 0.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id37">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id38">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id39">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-0-3">Version 0.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id40">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id41">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id42">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../change-log.html#version-0-2">Version 0.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id43">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id44">Issues resolved since last release</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log.html#id45">Known issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../change-log-upcoming.html">Change Log for Upcoming Release</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../change-log-upcoming.html#upcoming-release-version-2-4">Upcoming Release Version 2.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../change-log-upcoming.html#new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log-upcoming.html#changed">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log-upcoming.html#resolved-issues">Resolved Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log-upcoming.html#deprecations">Deprecations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../change-log-upcoming.html#known-issues">Known Issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../license.html#spdx-identifiers">SPDX Identifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../license.html#other-projects">Other Projects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cmake/index.html">Build System Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cmake/index.html#contents">Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cmake/concepts.html">Build System Concepts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cmake/concepts.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake/concepts.html#high-level-requirements">High-level requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake/concepts.html#configuration-space">Configuration space</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake/concepts.html#structured-programming-concepts-with-cmake">Structured Programming Concepts With CMake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake/concepts.html#structuring-the-project">Structuring the project.</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake/concepts.html#entry-points">Entry points</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake/concepts.html#todo-items">TODO items</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cmake/user_guide.html">Build System Users Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cmake/user_guide.html#what-is-needed-to-build-with-cmake">What is needed to build with CMake?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake/user_guide.html#how-to-build-with-cmake">How-to build with CMake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake/user_guide.html#current-limitations">Current limitations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake/user_guide.html#list-of-modules">List of modules</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Trusted Firmware-A</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Components</a> &raquo;</li>
        
      <li><span class="section-number">12. </span>Secure Partition Manager</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/components/secure-partition-manager.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="secure-partition-manager-mm.html" class="btn btn-neutral float-right" title="13. Secure Partition Manager (MM)" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
      
      
        <a href="sdei.html" class="btn btn-neutral float-left" title="11. SDEI: Software Delegated Exception Interface" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="secure-partition-manager">
<h1><a class="toc-backref" href="#id9"><span class="section-number">12. </span>Secure Partition Manager</a><a class="headerlink" href="#secure-partition-manager" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#secure-partition-manager" id="id9">Secure Partition Manager</a></p>
<ul>
<li><p><a class="reference internal" href="#acronyms" id="id10">Acronyms</a></p></li>
<li><p><a class="reference internal" href="#foreword" id="id11">Foreword</a></p>
<ul>
<li><p><a class="reference internal" href="#terminology" id="id12">Terminology</a></p></li>
<li><p><a class="reference internal" href="#support-for-legacy-platforms" id="id13">Support for legacy platforms</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#sample-reference-stack" id="id14">Sample reference stack</a></p></li>
<li><p><a class="reference internal" href="#tf-a-build-options" id="id15">TF-A build options</a></p></li>
<li><p><a class="reference internal" href="#boot-process" id="id16">Boot process</a></p>
<ul>
<li><p><a class="reference internal" href="#loading-hafnium-and-secure-partitions-in-the-secure-world" id="id17">Loading Hafnium and Secure Partitions in the secure world</a></p></li>
<li><p><a class="reference internal" href="#booting-through-tf-a" id="id18">Booting through TF-A</a></p>
<ul>
<li><p><a class="reference internal" href="#sp-manifests" id="id19">SP manifests</a></p></li>
<li><p><a class="reference internal" href="#secure-partition-packages" id="id20">Secure Partition packages</a></p></li>
<li><p><a class="reference internal" href="#specifying-partition-binary-image-and-dt" id="id21">Specifying partition binary image and DT</a></p></li>
<li><p><a class="reference internal" href="#spmc-manifest" id="id22">SPMC manifest</a></p></li>
<li><p><a class="reference internal" href="#spmc-boot" id="id23">SPMC boot</a></p></li>
<li><p><a class="reference internal" href="#loading-of-sps" id="id24">Loading of SPs</a></p></li>
<li><p><a class="reference internal" href="#secure-boot" id="id25">Secure boot</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#hafnium-in-the-secure-world" id="id26">Hafnium in the secure world</a></p>
<ul>
<li><p><a class="reference internal" href="#general-considerations" id="id27">General considerations</a></p>
<ul>
<li><p><a class="reference internal" href="#build-platform-for-the-secure-world" id="id28">Build platform for the secure world</a></p></li>
<li><p><a class="reference internal" href="#secure-partitions-cpu-scheduling" id="id29">Secure Partitions CPU scheduling</a></p></li>
<li><p><a class="reference internal" href="#platform-topology" id="id30">Platform topology</a></p></li>
<li><p><a class="reference internal" href="#usage-of-psci-services-in-the-secure-world" id="id31">Usage of PSCI services in the secure world</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#parsing-sp-partition-manifests" id="id32">Parsing SP partition manifests</a></p></li>
<li><p><a class="reference internal" href="#passing-boot-data-to-the-sp" id="id33">Passing boot data to the SP</a></p></li>
<li><p><a class="reference internal" href="#sp-boot-order" id="id34">SP Boot order</a></p></li>
<li><p><a class="reference internal" href="#boot-phases" id="id35">Boot phases</a></p>
<ul>
<li><p><a class="reference internal" href="#primary-core-boot-up" id="id36">Primary core boot-up</a></p></li>
<li><p><a class="reference internal" href="#secondary-physical-core-boot-up" id="id37">Secondary physical core boot-up</a></p></li>
<li><p><a class="reference internal" href="#secondary-virtual-core-boot-up" id="id38">Secondary virtual core boot-up</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mandatory-interfaces" id="id39">Mandatory interfaces</a></p>
<ul>
<li><p><a class="reference internal" href="#ffa-version" id="id40">FFA_VERSION</a></p></li>
<li><p><a class="reference internal" href="#ffa-features" id="id41">FFA_FEATURES</a></p></li>
<li><p><a class="reference internal" href="#ffa-rxtx-map-ffa-rxtx-unmap" id="id42">FFA_RXTX_MAP/FFA_RXTX_UNMAP</a></p></li>
<li><p><a class="reference internal" href="#ffa-partition-info-get" id="id43">FFA_PARTITION_INFO_GET</a></p></li>
<li><p><a class="reference internal" href="#ffa-id-get" id="id44">FFA_ID_GET</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#direct-messaging" id="id45">Direct messaging</a></p>
<ul>
<li><p><a class="reference internal" href="#sp-to-sp" id="id46">SP-to-SP</a></p></li>
<li><p><a class="reference internal" href="#vm-to-sp" id="id47">VM-to-SP</a></p></li>
<li><p><a class="reference internal" href="#spmc-spmd-messaging" id="id48">SPMC-SPMD messaging</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#memory-management" id="id49">Memory management</a></p></li>
<li><p><a class="reference internal" href="#interrupt-management" id="id50">Interrupt management</a></p>
<ul>
<li><p><a class="reference internal" href="#road-to-a-para-virtualized-interface" id="id51">Road to a para-virtualized interface</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#power-management" id="id52">Power management</a></p></li>
<li><p><a class="reference internal" href="#sp-notification" id="id53">SP notification</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#references" id="id54">References</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="acronyms">
<h2><a class="toc-backref" href="#id10"><span class="section-number">12.1. </span>Acronyms</a><a class="headerlink" href="#acronyms" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>DTB</p></td>
<td><p>Device Tree Blob</p></td>
</tr>
<tr class="row-even"><td><p>DTS</p></td>
<td><p>Device Tree Source</p></td>
</tr>
<tr class="row-odd"><td><p>EC</p></td>
<td><p>Execution Context</p></td>
</tr>
<tr class="row-even"><td><p>FIP</p></td>
<td><p>Firmware Image Package</p></td>
</tr>
<tr class="row-odd"><td><p>FF-A</p></td>
<td><p>Firmware Framework for A-class</p></td>
</tr>
<tr class="row-even"><td><p>IPA</p></td>
<td><p>Intermediate Physical Address</p></td>
</tr>
<tr class="row-odd"><td><p>NWd</p></td>
<td><p>Normal World</p></td>
</tr>
<tr class="row-even"><td><p>ODM</p></td>
<td><p>Original Design Manufacturer</p></td>
</tr>
<tr class="row-odd"><td><p>OEM</p></td>
<td><p>Original Equipment Manufacturer</p></td>
</tr>
<tr class="row-even"><td><p>PA</p></td>
<td><p>Physical Address</p></td>
</tr>
<tr class="row-odd"><td><p>PE</p></td>
<td><p>Processing Element</p></td>
</tr>
<tr class="row-even"><td><p>PVM</p></td>
<td><p>Primary VM</p></td>
</tr>
<tr class="row-odd"><td><p>PSA</p></td>
<td><p>Platform Security Architecture</p></td>
</tr>
<tr class="row-even"><td><p>SP</p></td>
<td><p>Secure Partition</p></td>
</tr>
<tr class="row-odd"><td><p>SPM</p></td>
<td><p>Secure Partition Manager</p></td>
</tr>
<tr class="row-even"><td><p>SPMC</p></td>
<td><p>SPM Core</p></td>
</tr>
<tr class="row-odd"><td><p>SPMD</p></td>
<td><p>SPM Dispatcher</p></td>
</tr>
<tr class="row-even"><td><p>SiP</p></td>
<td><p>Silicon Provider</p></td>
</tr>
<tr class="row-odd"><td><p>SWd</p></td>
<td><p>Secure World</p></td>
</tr>
<tr class="row-even"><td><p>TLV</p></td>
<td><p>Tag-Length-Value</p></td>
</tr>
<tr class="row-odd"><td><p>TOS</p></td>
<td><p>Trusted Operating System</p></td>
</tr>
<tr class="row-even"><td><p>VM</p></td>
<td><p>Virtual Machine</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="foreword">
<h2><a class="toc-backref" href="#id11"><span class="section-number">12.2. </span>Foreword</a><a class="headerlink" href="#foreword" title="Permalink to this headline">¶</a></h2>
<p>Two implementations of a Secure Partition Manager co-exist in the TF-A codebase:</p>
<ul class="simple">
<li><p>SPM based on the PSA FF-A specification <a class="reference internal" href="#id1">[1]</a>.</p></li>
<li><p>SPM based on the MM interface to communicate with an S-EL0 partition <a class="reference internal" href="#id2">[2]</a>.</p></li>
</ul>
<p>Both implementations differ in their architectures and only one can be selected
at build time.</p>
<p>This document:</p>
<ul class="simple">
<li><p>describes the PSA FF-A implementation where the Secure Partition Manager
resides at EL3 and S-EL2 (or EL3 and S-EL1).</p></li>
<li><p>is not an architecture specification and it might provide assumptions
on sections mandated as implementation-defined in the specification.</p></li>
<li><p>covers the implications to TF-A used as a bootloader, and Hafnium
used as a reference code base for an S-EL2 secure firmware on
platforms implementing Armv8.4-SecEL2.</p></li>
</ul>
<div class="section" id="terminology">
<h3><a class="toc-backref" href="#id12"><span class="section-number">12.2.1. </span>Terminology</a><a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Hypervisor refers to the NS-EL2 component managing Virtual Machines (or
partitions) in the Normal World.</p></li>
<li><p>SPMC refers to the S-EL2 component managing Virtual Machines (or Secure
Partitions) in the Secure World when Armv8.4-SecEL2 extension is implemented.</p></li>
<li><p>Alternatively, SPMC can refer to an S-EL1 component, itself being a Secure
Partition and implementing the FF-A ABI on pre-Armv8.4 platforms.</p></li>
<li><p>VM refers to a Normal World Virtual Machine managed by an Hypervisor.</p></li>
<li><p>SP refers to a Secure World “Virtual Machine” managed by the SPMC component.</p></li>
</ul>
</div>
<div class="section" id="support-for-legacy-platforms">
<h3><a class="toc-backref" href="#id13"><span class="section-number">12.2.2. </span>Support for legacy platforms</a><a class="headerlink" href="#support-for-legacy-platforms" title="Permalink to this headline">¶</a></h3>
<p>In the implementation, the SPM is split into SPMD and SPMC components
(although not strictly mandated by the specification). SPMD is located
at EL3 and principally relays FF-A messages from NWd (Hypervisor or OS
kernel) to SPMC located either at S-EL1 or S-EL2.</p>
<p>Hence TF-A must support both cases where SPMC is either located at:</p>
<ul class="simple">
<li><p>S-EL1 supporting pre-Armv8.4 platforms. SPMD conveys FF-A protocol
from EL3 to S-EL1.</p></li>
<li><p>S-EL2 supporting platforms implementing Armv8.4-SecEL2 extension.
SPMD conveys FF-A protocol from EL3 to S-EL2.</p></li>
</ul>
<p>The same SPMD component is used to support both configurations. The SPMC
execution level is a build time choice.</p>
</div>
</div>
<div class="section" id="sample-reference-stack">
<h2><a class="toc-backref" href="#id14"><span class="section-number">12.3. </span>Sample reference stack</a><a class="headerlink" href="#sample-reference-stack" title="Permalink to this headline">¶</a></h2>
<p>The following diagram illustrates a possible configuration with SPMD and SPMC,
one or multiple Secure Partitions, with or without an optional Hypervisor:</p>
<img alt="../_images/ff-a-spm-sel2.png" src="../_images/ff-a-spm-sel2.png" />
</div>
<div class="section" id="tf-a-build-options">
<h2><a class="toc-backref" href="#id15"><span class="section-number">12.4. </span>TF-A build options</a><a class="headerlink" href="#tf-a-build-options" title="Permalink to this headline">¶</a></h2>
<p>The following TF-A build options are provisioned:</p>
<ul class="simple">
<li><p><strong>SPD=spmd</strong>: this option selects the SPMD component to relay FF-A
protocol from NWd to SWd back and forth. It is not possible to
enable another Secure Payload Dispatcher when this option is chosen.</p></li>
<li><p><strong>SPMD_SPM_AT_SEL2</strong>: this option adjusts the SPMC execution
level to being S-EL1 or S-EL2. It defaults to enabled (value 1) when
SPD=spmd is chosen.</p></li>
<li><p><strong>CTX_INCLUDE_EL2_REGS</strong>: this option permits saving (resp.
restoring) the EL2 system register context before entering (resp.
after leaving) the SPMC. It is mandatory when <code class="docutils literal notranslate"><span class="pre">SPMD_SPM_AT_SEL2</span></code> is
enabled. The context save/restore routine and exhaustive list of
registers is visible at <a class="reference internal" href="#id4">[4]</a>.</p></li>
<li><p><strong>SP_LAYOUT_FILE</strong>: this option provides a text description file
providing paths to SP binary images and DTS format manifests
(see <a class="reference internal" href="#specifying-partition-binary-image-and-dt">Specifying partition binary image and DT</a>). It
is required when <code class="docutils literal notranslate"><span class="pre">SPMD_SPM_AT_SEL2</span></code> is enabled hence when multiple
secure partitions are to be loaded on behalf of SPMC.</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 43%" />
<col style="width: 31%" />
<col style="width: 26%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p>CTX_INCLUDE_EL2_REGS</p></td>
<td><p>SPMD_SPM_AT_SEL2</p></td>
</tr>
<tr class="row-even"><td><p>SPMC at S-EL1 (e.g. OP-TEE)</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>SPMC at S-EL2 (e.g. Hafnium)</p></td>
<td><p>1</p></td>
<td><dl class="simple">
<dt>1 (default when</dt><dd><p>SPD=spmd)</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p>Other combinations of such build options either break the build or are not
supported.</p>
<p>Note, the <code class="docutils literal notranslate"><span class="pre">CTX_INCLUDE_EL2_REGS</span></code> option provides the generic support for
barely saving/restoring EL2 registers from an Arm arch perspective. As such
it is decoupled from the <code class="docutils literal notranslate"><span class="pre">SPD=spmd</span></code> option.</p>
<p>BL32 option is re-purposed to specify the SPMC image. It can specify either the
Hafnium binary path (built for the secure world) or the path to a TEE binary
implementing the FF-A protocol.</p>
<p>BL33 option can specify either:</p>
<ul class="simple">
<li><p>the TFTF binary or</p></li>
<li><p>the Hafnium binary path (built for the normal world) if VMs were loaded by
TF-A beforehand or</p></li>
<li><p>a minimal loader performing the loading of VMs and Hafnium.</p></li>
</ul>
<p>Sample TF-A build command line when SPMC is located at S-EL1
(typically pre-Armv8.4):</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make <span class="se">\</span>
<span class="nv">CROSS_COMPILE</span><span class="o">=</span>aarch64-none-elf- <span class="se">\</span>
<span class="nv">SPD</span><span class="o">=</span>spmd <span class="se">\</span>
<span class="nv">SPMD_SPM_AT_SEL2</span><span class="o">=</span><span class="m">0</span> <span class="se">\</span>
<span class="nv">BL32</span><span class="o">=</span>&lt;path-to-tee-binary&gt; <span class="se">\</span>
<span class="nv">BL33</span><span class="o">=</span>&lt;path-to-nwd-binary&gt; <span class="se">\</span>
<span class="nv">PLAT</span><span class="o">=</span>fvp <span class="se">\</span>
all fip
</pre></div>
</div>
<p>Sample TF-A build command line for an Armv8.4-SecEL2 enabled system
where SPMC is located at S-EL2:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make <span class="se">\</span>
<span class="nv">CROSS_COMPILE</span><span class="o">=</span>aarch64-none-elf- <span class="se">\</span>
<span class="nv">SPD</span><span class="o">=</span>spmd <span class="se">\</span>
<span class="nv">CTX_INCLUDE_EL2_REGS</span><span class="o">=</span><span class="m">1</span> <span class="se">\</span>
<span class="nv">ARM_ARCH_MINOR</span><span class="o">=</span><span class="m">4</span> <span class="se">\</span>
<span class="nv">BL32</span><span class="o">=</span>&lt;path-to-swd-hafnium-binary&gt;
<span class="nv">BL33</span><span class="o">=</span>&lt;path-to-nwd-binary&gt; <span class="se">\</span>
<span class="nv">SP_LAYOUT_FILE</span><span class="o">=</span>sp_layout.json <span class="se">\</span>
<span class="nv">PLAT</span><span class="o">=</span>fvp <span class="se">\</span>
all fip
</pre></div>
</div>
<p>Build options to enable secure boot:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>make <span class="se">\</span>
<span class="nv">CROSS_COMPILE</span><span class="o">=</span>aarch64-none-elf- <span class="se">\</span>
<span class="nv">SPD</span><span class="o">=</span>spmd <span class="se">\</span>
<span class="nv">CTX_INCLUDE_EL2_REGS</span><span class="o">=</span><span class="m">1</span> <span class="se">\</span>
<span class="nv">ARM_ARCH_MINOR</span><span class="o">=</span><span class="m">4</span> <span class="se">\</span>
<span class="nv">BL32</span><span class="o">=</span>&lt;path-to-swd-hafnium-binary&gt;
<span class="nv">BL33</span><span class="o">=</span>&lt;path-to-nwd-binary&gt; <span class="se">\</span>
<span class="nv">SP_LAYOUT_FILE</span><span class="o">=</span>../tf-a-tests/build/fvp/debug/sp_layout.json <span class="se">\</span>
<span class="nv">MBEDTLS_DIR</span><span class="o">=</span>&lt;path-to-mbedtls-lib&gt; <span class="se">\</span>
<span class="nv">TRUSTED_BOARD_BOOT</span><span class="o">=</span><span class="m">1</span> <span class="se">\</span>
<span class="nv">COT</span><span class="o">=</span>dualroot <span class="se">\</span>
<span class="nv">ARM_ROTPK_LOCATION</span><span class="o">=</span>devel_rsa <span class="se">\</span>
<span class="nv">ROT_KEY</span><span class="o">=</span>plat/arm/board/common/rotpk/arm_rotprivk_rsa.pem <span class="se">\</span>
<span class="nv">GENERATE_COT</span><span class="o">=</span><span class="m">1</span> <span class="se">\</span>
<span class="nv">PLAT</span><span class="o">=</span>fvp <span class="se">\</span>
all fip
</pre></div>
</div>
</div>
<div class="section" id="boot-process">
<h2><a class="toc-backref" href="#id16"><span class="section-number">12.5. </span>Boot process</a><a class="headerlink" href="#boot-process" title="Permalink to this headline">¶</a></h2>
<div class="section" id="loading-hafnium-and-secure-partitions-in-the-secure-world">
<h3><a class="toc-backref" href="#id17"><span class="section-number">12.5.1. </span>Loading Hafnium and Secure Partitions in the secure world</a><a class="headerlink" href="#loading-hafnium-and-secure-partitions-in-the-secure-world" title="Permalink to this headline">¶</a></h3>
<p>The Hafnium implementation in normal world requires VMs to be loaded in
memory prior to booting. The mechanism upon which VMs are loaded and
exposed to Hafnium are either:</p>
<ul class="simple">
<li><p>by supplying a ramdisk image where VM images are concatenated (1)</p></li>
<li><p>or by providing VM load addresses within Hafnium manifest (2)</p></li>
</ul>
<p>TF-A is the bootlader for the Hafnium and SPs in the secure world. TF-A
does not provide tooling or libraries manipulating ramdisks as required
by (1). Thus BL2 loads SPs payloads independently.
SPs may be signed by different parties (SiP, OEM/ODM, TOS vendor, etc.).
Thus they are supplied as distinct “self-contained” signed entities within
the FIP flash image. The FIP image itself is not signed hence providing
ability to upgrade SPs in the field.</p>
</div>
<div class="section" id="booting-through-tf-a">
<h3><a class="toc-backref" href="#id18"><span class="section-number">12.5.2. </span>Booting through TF-A</a><a class="headerlink" href="#booting-through-tf-a" title="Permalink to this headline">¶</a></h3>
<div class="section" id="sp-manifests">
<h4><a class="toc-backref" href="#id19"><span class="section-number">12.5.2.1. </span>SP manifests</a><a class="headerlink" href="#sp-manifests" title="Permalink to this headline">¶</a></h4>
<p>An SP manifest describes SP attributes as defined in <a class="reference internal" href="#id1">[1]</a>
section 3.1 (partition manifest at virtual FF-A instance) in DTS text format. It
is represented as a single file associated with the SP. A sample is
provided by <a class="reference internal" href="#id5">[5]</a>. A binding document is provided by <a class="reference internal" href="#id6">[6]</a>.</p>
</div>
<div class="section" id="secure-partition-packages">
<h4><a class="toc-backref" href="#id20"><span class="section-number">12.5.2.2. </span>Secure Partition packages</a><a class="headerlink" href="#secure-partition-packages" title="Permalink to this headline">¶</a></h4>
<p>Secure Partitions are bundled as independent package files consisting
of:</p>
<ul class="simple">
<li><p>a header</p></li>
<li><p>a DTB</p></li>
<li><p>an image payload</p></li>
</ul>
<p>The header starts with a magic value and offset values to SP DTB and
image payload. Each SP package is loaded independently by BL2 loader
and verified for authenticity and integrity.</p>
<p>The SP package identified by its UUID (matching FF-A uuid) is inserted
as a single entry into the FIP at end of the TF-A build flow as shown:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>Trusted Boot Firmware BL2: <span class="nv">offset</span><span class="o">=</span>0x1F0, <span class="nv">size</span><span class="o">=</span>0x8AE1, <span class="nv">cmdline</span><span class="o">=</span><span class="s2">&quot;--tb-fw&quot;</span>
EL3 Runtime Firmware BL31: <span class="nv">offset</span><span class="o">=</span>0x8CD1, <span class="nv">size</span><span class="o">=</span>0x13000, <span class="nv">cmdline</span><span class="o">=</span><span class="s2">&quot;--soc-fw&quot;</span>
Secure Payload BL32 <span class="o">(</span>Trusted OS<span class="o">)</span>: <span class="nv">offset</span><span class="o">=</span>0x1BCD1, <span class="nv">size</span><span class="o">=</span>0x15270, <span class="nv">cmdline</span><span class="o">=</span><span class="s2">&quot;--tos-fw&quot;</span>
Non-Trusted Firmware BL33: <span class="nv">offset</span><span class="o">=</span>0x30F41, <span class="nv">size</span><span class="o">=</span>0x92E0, <span class="nv">cmdline</span><span class="o">=</span><span class="s2">&quot;--nt-fw&quot;</span>
HW_CONFIG: <span class="nv">offset</span><span class="o">=</span>0x3A221, <span class="nv">size</span><span class="o">=</span>0x2348, <span class="nv">cmdline</span><span class="o">=</span><span class="s2">&quot;--hw-config&quot;</span>
TB_FW_CONFIG: <span class="nv">offset</span><span class="o">=</span>0x3C569, <span class="nv">size</span><span class="o">=</span>0x37A, <span class="nv">cmdline</span><span class="o">=</span><span class="s2">&quot;--tb-fw-config&quot;</span>
SOC_FW_CONFIG: <span class="nv">offset</span><span class="o">=</span>0x3C8E3, <span class="nv">size</span><span class="o">=</span>0x48, <span class="nv">cmdline</span><span class="o">=</span><span class="s2">&quot;--soc-fw-config&quot;</span>
TOS_FW_CONFIG: <span class="nv">offset</span><span class="o">=</span>0x3C92B, <span class="nv">size</span><span class="o">=</span>0x427, <span class="nv">cmdline</span><span class="o">=</span><span class="s2">&quot;--tos-fw-config&quot;</span>
NT_FW_CONFIG: <span class="nv">offset</span><span class="o">=</span>0x3CD52, <span class="nv">size</span><span class="o">=</span>0x48, <span class="nv">cmdline</span><span class="o">=</span><span class="s2">&quot;--nt-fw-config&quot;</span>
B4B5671E-4A90-4FE1-B81F-FB13DAE1DACB: <span class="nv">offset</span><span class="o">=</span>0x3CD9A, <span class="nv">size</span><span class="o">=</span>0xC168, <span class="nv">cmdline</span><span class="o">=</span><span class="s2">&quot;--blob&quot;</span>
D1582309-F023-47B9-827C-4464F5578FC8: <span class="nv">offset</span><span class="o">=</span>0x48F02, <span class="nv">size</span><span class="o">=</span>0xC168, <span class="nv">cmdline</span><span class="o">=</span><span class="s2">&quot;--blob&quot;</span>
</pre></div>
</div>
<p class="plantuml">
<img src="../_images/plantuml-5cb20313c4ce8ea57c37c1904770314f270f40ba.svg" alt="/'
 ' Copyright (c) 2020, ARM Limited and Contributors. All rights reserved.
 '
 ' SPDX-License-Identifier: BSD-3-Clause
 '/

&#64;startuml

folder SP_vendor_1 {
 artifact sp_binary_1
 artifact sp_manifest_1 [
 sp_manifest_1
 ===
 UUID = xxx
 load_address = 0xaaa
 owner = &quot;Sip&quot;
 ...
 ]
}

folder SP_vendor_2 {
 artifact sp_binary_2
 artifact sp_manifest_2 [
 sp_manifest_2
 ===
 UUID = yyy
 load_address = 0xbbb
 owner = &quot;Plat&quot;
 ]
}

artifact tb_fw_config.dts [
 tb_fw_config.dts
 ----
 secure-partitions
 ===
 spkg_1 UUID
 spkg_1 load_address
 ---
 spkg_2 UUID
 spkg_2 load_address
 ---
 ...
 ===
 ...&lt;rest of the nodes&gt;
]

artifact config.json [
 SP_LAYOUT.json
 ===
 path to sp_binary_1
 path to sp_manifest_1
 ---
 path to sp_binary_2
 path to sp_manifest_2
 ---
 ...
]

control sp_mk_generator

artifact sp_gen [
 sp_gen.mk
 ===
 FDT_SOURCE = ...
 SPTOOL_ARGS = ...
 FIP_ARGS = ...
 CRT_ARGS = ...
]

control dtc
control sptool

artifact tb_fw_config.dtb

artifact spkg_1 [
 sp1.pkg
 ===
 &lt;i&gt;header&lt;/i&gt;
 ---
 manifest
 ---
 binary
]

artifact spkg_2 [
 sp2.pkg
 ===
 &lt;i&gt;header&lt;/i&gt;
 ---
 manifest
 ---
 binary
]

artifact signed_tb_fw_config.dtb [
 tb_fw_config.dtb (signed)
]

artifact signed_spkg_1 [
 sp1.pkg (signed)
 ===
 &lt;i&gt;header&lt;/i&gt;
 ---
 manifest
 ---
 binary
 ---
 &lt;i&gt;signature&lt;/I&gt;
]

artifact signed_spkg_2 [
 sp2.pkg (signed)
 ===
 &lt;i&gt;header&lt;/i&gt;
 ---
 manifest
 ---
 binary
 ---
 &lt;i&gt;signature&lt;/I&gt;
]

control crttool
control fiptool

artifact fip [
 fip.bin
 ===
 tb_fw_config.dtb (signed)
 ---
 ...
 ---
 sp1.pkg  (signed &amp; SiP owned)
 ---
 sp2.pkg  (signed &amp; Platform owned)
 ---
 ...
]

config.json .up.&gt; SP_vendor_1
config.json .up.&gt; SP_vendor_2
config.json --&gt; sp_mk_generator
sp_mk_generator --&gt; sp_gen
sp_gen --&gt; fiptool
sp_gen --&gt; cert_create
sp_gen --&gt; sptool

sptool --&gt; spkg_1
sptool --&gt; spkg_2

spkg_1 --&gt; cert_create
spkg_2 --&gt; cert_create
cert_create --&gt; signed_spkg_1
cert_create --&gt; signed_spkg_2

tb_fw_config.dts --&gt; dtc
dtc --&gt; tb_fw_config.dtb
tb_fw_config.dtb --&gt; cert_create
cert_create --&gt; signed_tb_fw_config.dtb

signed_tb_fw_config.dtb --&gt; fiptool
signed_spkg_1 -down-&gt; fiptool
signed_spkg_2 -down-&gt; fiptool
fiptool -down-&gt; fip

&#64;enduml
"/></p>
</div>
<div class="section" id="specifying-partition-binary-image-and-dt">
<h4><a class="toc-backref" href="#id21"><span class="section-number">12.5.2.3. </span>Specifying partition binary image and DT</a><a class="headerlink" href="#specifying-partition-binary-image-and-dt" title="Permalink to this headline">¶</a></h4>
<p>A description file (json format) is passed to the build flow specifying
paths to the SP binary image and associated DTS partition manifest file.
The latter is going through the dtc compiler to generate the dtb fed into
the SP package.
This file also specifies the owner of the SP, which is an optional field and
identifies the signing domain in case of dualroot CoT.
The possible owner of an SP could either be Silicon Provider or Platform, and
the corresponding “owner” field value could either be “SiP” or “Plat”.
In absence of “owner” field, it defaults to “SiP”.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
    <span class="s2">&quot;tee1&quot;</span> : <span class="o">{</span>
        <span class="s2">&quot;image&quot;</span>: <span class="s2">&quot;tee1.bin&quot;</span>,
         <span class="s2">&quot;pm&quot;</span>: <span class="s2">&quot;tee1.dts&quot;</span>,
         <span class="s2">&quot;owner&quot;</span>: <span class="s2">&quot;SiP&quot;</span>
    <span class="o">}</span>,

    <span class="s2">&quot;tee2&quot;</span> : <span class="o">{</span>
        <span class="s2">&quot;image&quot;</span>: <span class="s2">&quot;tee2.bin&quot;</span>,
        <span class="s2">&quot;pm&quot;</span>: <span class="s2">&quot;tee2.dts&quot;</span>,
        <span class="s2">&quot;owner&quot;</span>: <span class="s2">&quot;Plat&quot;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="spmc-manifest">
<h4><a class="toc-backref" href="#id22"><span class="section-number">12.5.2.4. </span>SPMC manifest</a><a class="headerlink" href="#spmc-manifest" title="Permalink to this headline">¶</a></h4>
<p>This manifest contains an SPMC attributes node consumed by SPMD at boot time. It
is implementing the description from <a class="reference internal" href="#id1">[1]</a> section 3.2 (SP manifest at physical
FF-A instance). The SP manifest at physical FF-A instance is used by the SPMD to
setup a SP that co-resides with the SPMC and executes at S-EL1 or Secure
Supervisor mode.</p>
<p>In this implementation its usage is extended to the secure physical FF-A
instance where SPMC executes at S-EL2.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>attribute <span class="o">{</span>
    <span class="nv">spmc_id</span> <span class="o">=</span> &lt;0x8000&gt;<span class="p">;</span>
    <span class="nv">maj_ver</span> <span class="o">=</span> &lt;0x1&gt;<span class="p">;</span>
    <span class="nv">min_ver</span> <span class="o">=</span> &lt;0x0&gt;<span class="p">;</span>
    <span class="nv">exec_state</span> <span class="o">=</span> &lt;0x0&gt;<span class="p">;</span>
    <span class="nv">load_address</span> <span class="o">=</span> &lt;0x0 0x6000000&gt;<span class="p">;</span>
    <span class="nv">entrypoint</span> <span class="o">=</span> &lt;0x0 0x6000000&gt;<span class="p">;</span>
    <span class="nv">binary_size</span> <span class="o">=</span> &lt;0x60000&gt;<span class="p">;</span>
<span class="o">}</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p><em>spmc_id</em> defines the endpoint ID value that SPMC can query through
<code class="docutils literal notranslate"><span class="pre">FFA_ID_GET</span></code>.</p></li>
<li><p><em>maj_ver/min_ver</em>. SPMD checks provided version versus its internal
version and aborts if not matching.</p></li>
<li><p><em>exec_state</em> defines SPMC execution state (can be AArch64 for
Hafnium, or AArch64/AArch32 for OP-TEE at S-EL1).</p></li>
<li><p><em>load_address</em> and <em>binary_size</em> are mostly used to verify secondary
entry points fit into the loaded binary image.</p></li>
<li><p><em>entrypoint</em> defines the cold boot primary core entry point used by
SPMD (currently matches <code class="docutils literal notranslate"><span class="pre">BL32_BASE</span></code>)</p></li>
</ul>
<p>Other nodes in the manifest are consumed by Hafnium in the secure world.
A sample can be found at [7]:</p>
<ul class="simple">
<li><p>The <em>chosen</em> node is currently unused in SWd. It is meant for NWd to
specify the init ramdisk image.</p></li>
<li><p>The <em>hypervisor</em> node describes SPs. <em>is_ffa_partition</em> boolean
attribute indicates an SP. Load-addr field specifies the load address
at which TF-A loaded the SP package.</p></li>
<li><p><em>cpus</em> node provide the platform topology and allows MPIDR to VMPIDR
mapping. Notice with current implementation primary cpu is declared
first, then secondary cpus must be declared in reverse order.</p></li>
</ul>
</div>
<div class="section" id="spmc-boot">
<h4><a class="toc-backref" href="#id23"><span class="section-number">12.5.2.5. </span>SPMC boot</a><a class="headerlink" href="#spmc-boot" title="Permalink to this headline">¶</a></h4>
<p>The SPMC is loaded by BL2 as the BL32 image.</p>
<p>The SPMC manifest is loaded by BL2 as the <code class="docutils literal notranslate"><span class="pre">TOS_FW_CONFIG</span></code> image.</p>
<p>BL2 passes the SPMC manifest address to BL31 through a register.</p>
<p>BL31(SPMD) runs from primary core, initializes the core contexts and
launches BL32 passing the SPMC manifest address through a register.</p>
</div>
<div class="section" id="loading-of-sps">
<h4><a class="toc-backref" href="#id24"><span class="section-number">12.5.2.6. </span>Loading of SPs</a><a class="headerlink" href="#loading-of-sps" title="Permalink to this headline">¶</a></h4>
<p class="plantuml">
<img src="../_images/plantuml-4169950a398cb46666abe7af2da4d9767bc40f3a.svg" alt="/'
 ' Copyright (c) 2020, ARM Limited and Contributors. All rights reserved.
 '
 ' SPDX-License-Identifier: BSD-3-Clause
 '/

&#64;startuml
participant bl1
participant FIP

bl1 -&gt; FIP : read(FW_CONFIG)
create FW_CONFIG
bl1 -&gt; FW_CONFIG : load

bl1 -&gt; FIP : read(bl2)
create bl2
bl1 -&gt; bl2 : load
bl1 --&gt; bl2 : hand off (FW_CONFIG)

bl2 -&gt; FW_CONFIG : read_node(SPKs)
loop for each spkg subnode
  bl2 -&gt; FW_CONFIG : read(UUID)
  bl2 -&gt; FW_CONFIG : read(load_address)
  bl2 -&gt; FIP : read(spkg&#64;UUID)
  create SPKG
  bl2 -&gt; SPKG : load
end loop

bl2 -&gt; FW_CONFIG : read_node(TOS_FW_CONFIG)
create TOS_FW_CONFIG
bl2 -&gt; TOS_FW_CONFIG : load

bl2 -&gt; FIP : read(bl32/SPMC)
create SPMC
bl2 -&gt; SPMC : load

bl2 -&gt; FIP : read(bl31)
create bl31
bl2 -&gt; bl31 : load
bl2 --&gt; bl31 : hand off (TOS_FW_CONFIG)

bl31 --&gt; SPMC : hand off (TOS_FW_CONFIG)

&#64;enduml
"/></p>
<p>Notice this boot flow is an implementation sample on Arm’s FVP platform. Platforms
not using FW_CONFIG would adjust to a different implementation.</p>
</div>
<div class="section" id="secure-boot">
<h4><a class="toc-backref" href="#id25"><span class="section-number">12.5.2.7. </span>Secure boot</a><a class="headerlink" href="#secure-boot" title="Permalink to this headline">¶</a></h4>
<p>The SP content certificate is inserted as a separate FIP item so that BL2 loads SPMC,
SPMC manifest and Secure Partitions and verifies them for authenticity and integrity.
Refer to TBBR specification <a class="reference internal" href="#id3">[3]</a>.</p>
<p>The multiple-signing domain feature (in current state dual signing domain) allows
the use of two root keys namely S-ROTPK and NS-ROTPK (see <a class="reference internal" href="#id8">[8]</a>):</p>
<ul class="simple">
<li><p>SPMC (BL32) and SPMC manifest are signed by the SiP using the S-ROTPK.</p></li>
<li><p>BL33 may be signed by the OEM using NS-ROTPK.</p></li>
<li><p>An SP may be signed either by SiP (using S-ROTPK) or by OEM (using NS-ROTPK).</p></li>
</ul>
<p>Longer term multiple signing domain will allow additional signing keys, e.g.
if SPs originate from different parties.</p>
<p>See <a class="reference internal" href="#tf-a-build-options">TF-A build options</a> for a sample build command line.</p>
</div>
</div>
</div>
<div class="section" id="hafnium-in-the-secure-world">
<h2><a class="toc-backref" href="#id26"><span class="section-number">12.6. </span>Hafnium in the secure world</a><a class="headerlink" href="#hafnium-in-the-secure-world" title="Permalink to this headline">¶</a></h2>
<p><strong>NOTE: this section is work in progress. Descriptions and implementation choices
are subject to evolve.</strong></p>
<div class="section" id="general-considerations">
<h3><a class="toc-backref" href="#id27"><span class="section-number">12.6.1. </span>General considerations</a><a class="headerlink" href="#general-considerations" title="Permalink to this headline">¶</a></h3>
<div class="section" id="build-platform-for-the-secure-world">
<h4><a class="toc-backref" href="#id28"><span class="section-number">12.6.1.1. </span>Build platform for the secure world</a><a class="headerlink" href="#build-platform-for-the-secure-world" title="Permalink to this headline">¶</a></h4>
<p>The implementation might add specific code parts only relevant to the
secure world. Such code parts might be isolated into different files
and/or conditional code enclosed by a <code class="docutils literal notranslate"><span class="pre">SECURE_WORLD</span></code> macro.</p>
</div>
<div class="section" id="secure-partitions-cpu-scheduling">
<h4><a class="toc-backref" href="#id29"><span class="section-number">12.6.1.2. </span>Secure Partitions CPU scheduling</a><a class="headerlink" href="#secure-partitions-cpu-scheduling" title="Permalink to this headline">¶</a></h4>
<p>In the normal world, VMs are scheduled by the FFA_RUN ABI invoked from the
primary scheduler (in the primary VM), or by a direct message request or
response.</p>
<p>With the FF-A EAC specification, Secure Partitions are scheduled by direct
message invocations from a NWd VM or another SP.</p>
</div>
<div class="section" id="platform-topology">
<h4><a class="toc-backref" href="#id30"><span class="section-number">12.6.1.3. </span>Platform topology</a><a class="headerlink" href="#platform-topology" title="Permalink to this headline">¶</a></h4>
<p>As stated in <a class="reference internal" href="#id1">[1]</a> section 4.4.1 the SPMC implementation assumes the
following SP types:</p>
<ul class="simple">
<li><p>Pinned MP SPs: an Execution Context id matches a physical PE id. MP
SPs must implement the same number of ECs as the number of PEs in the
platform. Hence the <em>execution-ctx-count</em> as defined by
<a class="reference internal" href="#id1">[1]</a> (or NWd-Hafnium <em>vcpu_count</em>) can only take the
value of one or the number of physical PEs.</p></li>
<li><p>Migratable UP SPs: a single execution context can run and be migrated
on any physical PE. It declares a single EC in its SP manifest. An UP
SP can receive a direct message request on any physical core.</p></li>
</ul>
</div>
<div class="section" id="usage-of-psci-services-in-the-secure-world">
<h4><a class="toc-backref" href="#id31"><span class="section-number">12.6.1.4. </span>Usage of PSCI services in the secure world</a><a class="headerlink" href="#usage-of-psci-services-in-the-secure-world" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>The normal world Hypervisor (optional) or OS kernel issues PSCI service
invocations e.g. to request PSCI version, wake-up a secondary core, or request
core suspend. This happens at the non-secure physical FF-A instance. In the
example case of Hafnium in the normal world, it boots on the primary core and
one of the first initialization step is to request the PSCI version. It then
launches the primary VM. The primary VM upon initializing performs PSCI service
calls (at non-secure virtual FF-A instance) which are trapped by the
Hypervisor. Invocation from OS Kernel ends straight at EL3. The PVM issues
<code class="docutils literal notranslate"><span class="pre">PSCI_CPU_ON</span></code> service calls to wake-up secondary cores by passing an
<code class="docutils literal notranslate"><span class="pre">MPIDR</span></code>, entry point address and a CPU context address. The EL3 PSCI layer
then performs an exception return to the secondary core entry point on the
targeted core. Other PSCI calls can happen at run-time from the PVM e.g. to
request core suspend.</p></li>
<li><p>In the existing TF-A PSCI standard library, PSCI service calls are filtered at
EL3 to only originate from the NWd. Thus concerning the SPMC (at secure
physical FF-A instance) the PSCI service invocations cannot happen as in the
normal world. For example, a <code class="docutils literal notranslate"><span class="pre">PSCI_CPU_ON</span></code> service invocation from the SPMC
does not reach the PSCI layer.</p></li>
</ul>
</div>
</div>
<div class="section" id="parsing-sp-partition-manifests">
<h3><a class="toc-backref" href="#id32"><span class="section-number">12.6.2. </span>Parsing SP partition manifests</a><a class="headerlink" href="#parsing-sp-partition-manifests" title="Permalink to this headline">¶</a></h3>
<p>Hafnium must be able to consume SP manifests as defined in
<a class="reference internal" href="#id1">[1]</a> section 3.1, at least for the mandatory fields.</p>
<p>The SP manifest may contain memory and device regions nodes.</p>
<ul class="simple">
<li><p>Memory regions shall be mapped in the SP Stage-2 translation regime at
load time. A memory region node can specify RX/TX buffer regions in which
case it is not necessary for an SP to explicitly call the <code class="docutils literal notranslate"><span class="pre">FFA_RXTX_MAP</span></code>
service.</p></li>
<li><p>Device regions shall be mapped in SP Stage-2 translation regime as
peripherals and possibly allocate additional resources (e.g. interrupts)</p></li>
</ul>
<p>Base addresses for memory and device region nodes are IPAs provided SPMC
identity maps IPAs to PAs within SP Stage-2 translation regime.</p>
<p>Note: currently both VTTBR_EL2 and VSTTBR_EL2 resolve to the same set of page
tables. It is still open whether two sets of page tables shall be provided per
SP. The memory region node as defined in the spec (section 3.1 Table 10)
provides a memory security attribute hinting to map either to the secure or
non-secure stage-2 table.</p>
</div>
<div class="section" id="passing-boot-data-to-the-sp">
<h3><a class="toc-backref" href="#id33"><span class="section-number">12.6.3. </span>Passing boot data to the SP</a><a class="headerlink" href="#passing-boot-data-to-the-sp" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#id1">[1]</a> Section 3.4.2 “Protocol for passing data” defines a
method to passing boot data to SPs (not currently implemented).</p>
<p>Provided that the whole Secure Partition package image (see <a class="reference internal" href="#secure-partition-packages">Secure
Partition packages</a>) is mapped to the SP’s secure Stage-2 translation
regime, an SP can access its own manifest DTB blob and extract its partition
manifest properties.</p>
</div>
<div class="section" id="sp-boot-order">
<h3><a class="toc-backref" href="#id34"><span class="section-number">12.6.4. </span>SP Boot order</a><a class="headerlink" href="#sp-boot-order" title="Permalink to this headline">¶</a></h3>
<p>SP manifests provide an optional boot order attribute meant to resolve
dependencies such as an SP providing a service required to properly boot
another SP.</p>
</div>
<div class="section" id="boot-phases">
<h3><a class="toc-backref" href="#id35"><span class="section-number">12.6.5. </span>Boot phases</a><a class="headerlink" href="#boot-phases" title="Permalink to this headline">¶</a></h3>
<div class="section" id="primary-core-boot-up">
<h4><a class="toc-backref" href="#id36"><span class="section-number">12.6.5.1. </span>Primary core boot-up</a><a class="headerlink" href="#primary-core-boot-up" title="Permalink to this headline">¶</a></h4>
<p>The SPMC performs its platform initializations then loads and creates
secure partitions based on SP packages and manifests. Then each secure
partition is launched in sequence (see <a class="reference internal" href="#sp-boot-order">SP Boot order</a>) on their primary
Execution Context.</p>
<p>Notice the primary physical core may not be core 0. Hence if the primary
core linear id is N, the 1:1 mapping requires MP SPs are launched using
EC[N] on PE[N] (see <a class="reference internal" href="#platform-topology">Platform topology</a>).</p>
<p>The SP’s primary Execution Context (or the EC used when the partition is booted)
exits through <code class="docutils literal notranslate"><span class="pre">FFA_MSG_WAIT</span></code> to indicate successful initialization.</p>
</div>
<div class="section" id="secondary-physical-core-boot-up">
<h4><a class="toc-backref" href="#id37"><span class="section-number">12.6.5.2. </span>Secondary physical core boot-up</a><a class="headerlink" href="#secondary-physical-core-boot-up" title="Permalink to this headline">¶</a></h4>
<p>Upon boot-up, the SPMC running on the primary core performs
implementation-defined SPMD service calls at secure physical FF-A instance
to register the secondary physical cores entry points and context information:</p>
<ul class="simple">
<li><p>This is done through a direct message request invocation to the SPMD
(<code class="docutils literal notranslate"><span class="pre">SET_ENTRY_POINT</span></code>). This service call does not wake-up the targeted
core immediately. The secondary core is woken up later by a NWd
<code class="docutils literal notranslate"><span class="pre">PSCI_CPU_ON</span></code> service invocation. A notification is passed from EL3
PSCI layer to the SPMD, and then to SPMC through an implementation-defined
interface.</p></li>
<li><p>The SPMC/SPMD interface can consist of FF-A direct message requests/responses
transporting PM events.</p></li>
</ul>
<p>If there is no Hypervisor in the normal world, the OS Kernel issues
<code class="docutils literal notranslate"><span class="pre">PSCI_CPU_ON</span></code> calls that are directly trapped to EL3.</p>
<p>When a secondary physical core wakes-up the SPMD notifies the SPMC which updates
its internal states reflecting current physical core is being turned on.
It might then return straight to the SPMD and then to the NWd.</p>
<p><em>(under discussion)</em> There may be possibility that an SP registers “PM events”
(during primary EC boot stage) through an ad-hoc interface. Such events would
be relayed by SPMC to one or more registered SPs on need basis
(see <a class="reference internal" href="#power-management">Power management</a>).</p>
</div>
<div class="section" id="secondary-virtual-core-boot-up">
<h4><a class="toc-backref" href="#id38"><span class="section-number">12.6.5.3. </span>Secondary virtual core boot-up</a><a class="headerlink" href="#secondary-virtual-core-boot-up" title="Permalink to this headline">¶</a></h4>
<p>In the example case where Hafnium exists in the normal world, secondary VMs
issue a <code class="docutils literal notranslate"><span class="pre">PSCI_CPU_ON</span></code> service call which is trapped to the Hypervisor. The
latter then enables the vCPU context for the targeted core, and switches to
the PVM down to the kernel driver with an <code class="docutils literal notranslate"><span class="pre">HF_WAKE_UP</span></code> message. The NWd
driver in PVM can then schedule the newly woken up vCPU context.</p>
<p>In the secure world the primary EC of a given SP passes the secondary EC entry
point and context. The SMC service call is trapped into the SPMC. This can be
either <em>(under discussion)</em>:</p>
<ul class="simple">
<li><p>a specific interface registering the secondary EC entry point,
similarly to above <code class="docutils literal notranslate"><span class="pre">SET_ENTRY_POINT</span></code> service.</p></li>
<li><p>Re-purposing the <code class="docutils literal notranslate"><span class="pre">PSCI_CPU_ON</span></code> function id. It is
assumed that even if the input arguments are the same as the ones defined in
the PSCI standard, the usage deviates by the fact the secondary EC is not
woken up immediately. At least for the PSA-FF-A EAC where only
direct messaging is allowed, it is only after the first direct
message invocation that the secondary EC is entered. This option
might be preferred when the same code base is re-used for a VM or
an SP. The ABI to wake-up a secondary EC can remain similar.</p></li>
</ul>
<p>SPs are always scheduled from the NWd, this paradigm did not change from legacy
TEEs. There must always be some logic (or driver) in the NWd to relinquish CPU
cycles to the SWd. If primary core is 0, an SP EC[x&gt;0] entry point is supplied
by the SP EC[0] when the system boots in SWd. But this EC[x] is not immediately
entered at boot. Later in the boot process when NWd is up, a direct message
request issued from physical core 1 ends up in SP EC[1], and only at this stage
this context is effectively scheduled.</p>
<p>It should be possible for an SP to call into another SP through direct message
provided the latter SP has been booted already. The “boot-order” field in
partition manifests (<a class="reference internal" href="#sp-boot-order">SP Boot order</a>) fulfills the dependency towards availability
of a service within an SP offered to another SP.</p>
</div>
</div>
<div class="section" id="mandatory-interfaces">
<h3><a class="toc-backref" href="#id39"><span class="section-number">12.6.6. </span>Mandatory interfaces</a><a class="headerlink" href="#mandatory-interfaces" title="Permalink to this headline">¶</a></h3>
<p>The following interfaces must be exposed to any VM or SP:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">FFA_STATUS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FFA_ERROR</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FFA_INTERRUPT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FFA_VERSION</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FFA_FEATURES</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FFA_RX_RELEASE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FFA_RXTX_MAP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FFA_RXTX_UNMAP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FFA_PARTITION_INFO_GET</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FFA_ID_GET</span></code></p></li>
</ul>
<div class="section" id="ffa-version">
<h4><a class="toc-backref" href="#id40"><span class="section-number">12.6.6.1. </span>FFA_VERSION</a><a class="headerlink" href="#ffa-version" title="Permalink to this headline">¶</a></h4>
<p>Per <a class="reference internal" href="#id1">[1]</a> section 8.1 <code class="docutils literal notranslate"><span class="pre">FFA_VERSION</span></code> requires a
<em>requested_version</em> parameter from the caller.</p>
<p>In the current implementation when <code class="docutils literal notranslate"><span class="pre">FFA_VERSION</span></code> is invoked from:</p>
<ul class="simple">
<li><p>Hypervisor in NS-EL2: the SPMD returns the SPMC version specified
in the SPMC manifest.</p></li>
<li><p>OS kernel in NS-EL1 when NS-EL2 is not present: the SPMD returns the
SPMC version specified in the SPMC manifest.</p></li>
<li><p>VM in NWd: the Hypervisor returns its implemented version.</p></li>
<li><p>SP in SWd: the SPMC returns its implemented version.</p></li>
<li><p>SPMC at S-EL1/S-EL2: the SPMD returns its implemented version.</p></li>
</ul>
</div>
<div class="section" id="ffa-features">
<h4><a class="toc-backref" href="#id41"><span class="section-number">12.6.6.2. </span>FFA_FEATURES</a><a class="headerlink" href="#ffa-features" title="Permalink to this headline">¶</a></h4>
<p>FF-A features may be discovered by Secure Partitions while booting
through the SPMC. However, SPMC cannot get features from Hypervisor
early at boot time as NS world is not setup yet.</p>
<p>The Hypervisor may decide to gather FF-A features from SPMC through SPMD
once at boot time and store the result. Later when a VM requests FF-A
features, the Hypervisor can adjust its own set of features with what
SPMC advertised, if necessary. Another approach is to always forward FF-A
features to the SPMC when a VM requests it to the Hypervisor. Although
the result is not supposed to change over time so there may not be added
value doing the systematic forwarding.</p>
</div>
<div class="section" id="ffa-rxtx-map-ffa-rxtx-unmap">
<h4><a class="toc-backref" href="#id42"><span class="section-number">12.6.6.3. </span>FFA_RXTX_MAP/FFA_RXTX_UNMAP</a><a class="headerlink" href="#ffa-rxtx-map-ffa-rxtx-unmap" title="Permalink to this headline">¶</a></h4>
<p>VM mailboxes are re-purposed to serve as SP RX/TX buffers. The RX/TX
map API maps the send and receive buffer IPAs to the SP Stage-2 translation regime.</p>
<p>Hafnium in the normal world defines VMs and their attributes as logical structures,
including a mailbox used for FF-A indirect messaging, memory sharing, or the
<a class="reference internal" href="#ffa-partition-info-get">FFA_PARTITION_INFO_GET</a>  ABI.
This same mailbox structure is re-used in the SPMC. <a class="reference internal" href="#id1">[1]</a> states only direct
messaging is allowed to SPs. Thus mailbox usage is restricted to implementing
<a class="reference internal" href="#ffa-partition-info-get">FFA_PARTITION_INFO_GET</a> and memory sharing ABIs.</p>
</div>
<div class="section" id="ffa-partition-info-get">
<h4><a class="toc-backref" href="#id43"><span class="section-number">12.6.6.4. </span>FFA_PARTITION_INFO_GET</a><a class="headerlink" href="#ffa-partition-info-get" title="Permalink to this headline">¶</a></h4>
<p>Partition info get service call can originate:</p>
<ul class="simple">
<li><p>from SP to SPM</p></li>
<li><p>from VM to Hypervisor</p></li>
<li><p>from Hypervisor to SPM</p></li>
</ul>
<p>For the latter case, the service call must be forwarded through the SPMD.</p>
</div>
<div class="section" id="ffa-id-get">
<h4><a class="toc-backref" href="#id44"><span class="section-number">12.6.6.5. </span>FFA_ID_GET</a><a class="headerlink" href="#ffa-id-get" title="Permalink to this headline">¶</a></h4>
<p>The SPMD returns:</p>
<ul class="simple">
<li><p>a default zero value on invocation from the Hypervisor.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">spmc_id</span></code> value specified in the SPMC manifest on invocation from
the SPMC (see <a class="reference internal" href="#spmc-manifest">SPMC manifest</a>)</p></li>
</ul>
<p>The FF-A id space is split into a non-secure space and secure space:</p>
<ul class="simple">
<li><p>FF-A id with bit 15 clear refer to normal world VMs.</p></li>
<li><p>FF-A id with bit 15 set refer to secure world SPs</p></li>
</ul>
<p>Such convention helps the SPMC discriminating the origin and destination worlds
in an FF-A service invocation. In particular the SPMC shall filter unauthorized
transactions in its world switch routine. It must not be permitted for a VM to
use a secure FF-A id as origin world through spoofing:</p>
<ul class="simple">
<li><p>A VM-to-SP messaging passing shall have an origin world being non-secure
(FF-A id bit 15 clear) and destination world being secure (FF-A id bit 15
set).</p></li>
<li><p>Similarly, an SP-to-SP message shall have FF-A id bit 15 set for both origin
and destination ids.</p></li>
</ul>
<p>An incoming direct message request arriving at SPMD from NWd is forwarded to
SPMC without a specific check. The SPMC is resumed through eret and “knows” the
message is coming from normal world in this specific code path. Thus the origin
endpoint id must be checked by SPMC for being a normal world id.</p>
<p>An SP sending a direct message request must have bit 15 set in its origin
endpoint id and this can be checked by the SPMC when the SP invokes the ABI.</p>
<p>The SPMC shall reject the direct message if the claimed world in origin endpoint
id is not consistent:</p>
<ul class="simple">
<li><p>It is either forwarded by SPMD and thus origin endpoint id must be a “normal
world id”,</p></li>
<li><p>or initiated by an SP and thus origin endpoint id must be a “secure world id”.</p></li>
</ul>
</div>
</div>
<div class="section" id="direct-messaging">
<h3><a class="toc-backref" href="#id45"><span class="section-number">12.6.7. </span>Direct messaging</a><a class="headerlink" href="#direct-messaging" title="Permalink to this headline">¶</a></h3>
<p>This is a mandatory interface for Secure Partitions consisting in direct
message request and responses.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ffa_handler</span></code> Hafnium function may:</p>
<ul class="simple">
<li><p>trigger a world change e.g. when an SP invokes the direct message
response ABI to a VM.</p></li>
<li><p>handle multiple requests from the NWd without resuming an SP.</p></li>
</ul>
<div class="section" id="sp-to-sp">
<h4><a class="toc-backref" href="#id46"><span class="section-number">12.6.7.1. </span>SP-to-SP</a><a class="headerlink" href="#sp-to-sp" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>An SP can send a direct message request to another SP</p></li>
<li><p>An SP can receive a direct message response from another SP.</p></li>
</ul>
</div>
<div class="section" id="vm-to-sp">
<h4><a class="toc-backref" href="#id47"><span class="section-number">12.6.7.2. </span>VM-to-SP</a><a class="headerlink" href="#vm-to-sp" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>A VM can send a direct message request to an SP</p></li>
<li><p>An SP can send a direct message response to a VM</p></li>
</ul>
</div>
<div class="section" id="spmc-spmd-messaging">
<h4><a class="toc-backref" href="#id48"><span class="section-number">12.6.7.3. </span>SPMC-SPMD messaging</a><a class="headerlink" href="#spmc-spmd-messaging" title="Permalink to this headline">¶</a></h4>
<p>Specific implementation-defined endpoint IDs are allocated to the SPMC and SPMD.
Referring those IDs in source/destination fields of a direct message
request/response permits SPMD to SPMC messaging back and forth.</p>
<p>Per <a class="reference internal" href="#id1">[1]</a> Table 114 Config No. 1 (physical FF-A instance):</p>
<ul class="simple">
<li><p>SPMC=&gt;SPMD direct message request uses SMC conduit</p></li>
<li><p>SPMD=&gt;SPMC direct message request uses ERET conduit</p></li>
</ul>
<p>Per <a class="reference internal" href="#id1">[1]</a> Table 118 Config No. 1 (physical FF-A instance):</p>
<ul class="simple">
<li><p>SPMC=&gt;SPMD direct message response uses SMC conduit</p></li>
<li><p>SPMD=&gt;SPMC direct message response uses ERET conduit</p></li>
</ul>
</div>
</div>
<div class="section" id="memory-management">
<h3><a class="toc-backref" href="#id49"><span class="section-number">12.6.8. </span>Memory management</a><a class="headerlink" href="#memory-management" title="Permalink to this headline">¶</a></h3>
<p>This section only deals with the PE MMU configuration.</p>
<p>Hafnium in the normal world deals with NS buffers only and provisions
a single root page table directory to VMs. In context of S-EL2 enabled
firmware, two IPA spaces are output from Stage-1 translation (secure
and non-secure). The Stage-2 translation handles:</p>
<ul class="simple">
<li><p>A single secure IPA space when an SP Stage-1 MMU is disabled.</p></li>
<li><p>Two IPA spaces (secure and non-secure) when Stage-1 MMU is enabled.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">VTCR_EL2</span></code> and <code class="docutils literal notranslate"><span class="pre">VSTCR_EL2</span></code> provide additional bits for controlling the
NS/S IPA translations (<code class="docutils literal notranslate"><span class="pre">VSTCR_EL2.SW</span></code>, <code class="docutils literal notranslate"><span class="pre">VSTCR_EL2.SA</span></code>, <code class="docutils literal notranslate"><span class="pre">VTCR_EL2.NSW</span></code>,
<code class="docutils literal notranslate"><span class="pre">VTCR_EL2.NSA</span></code>). There may be two approaches:</p>
<ul class="simple">
<li><p>secure and non-secure mappings are rooted as two separate root page
tables</p></li>
<li><p>secure and non-secure mappings use the same root page table. Access
from S-EL1 to an NS region translates to a secure physical address
space access.</p></li>
</ul>
</div>
<div class="section" id="interrupt-management">
<h3><a class="toc-backref" href="#id50"><span class="section-number">12.6.9. </span>Interrupt management</a><a class="headerlink" href="#interrupt-management" title="Permalink to this headline">¶</a></h3>
<div class="section" id="road-to-a-para-virtualized-interface">
<h4><a class="toc-backref" href="#id51"><span class="section-number">12.6.9.1. </span>Road to a para-virtualized interface</a><a class="headerlink" href="#road-to-a-para-virtualized-interface" title="Permalink to this headline">¶</a></h4>
<p>Current Hafnium implementation uses an ad-hoc mechanism for a VM to get
a pending interrupt number through an hypercall. The PVM injects
interrupts to VMs by delegation from the Hypervisor. The PVM probes a
pending interrupt directly from the GIC distributor.</p>
<p>The short-term plan is to have Hafnium/SPMC in the secure world owner
of the GIC configuration.</p>
<p>The SPMC fully owns the GIC configuration at S-EL2. The SPMC manages
interrupt resources and allocates interrupt ID based on SP manifests.
The SPMC acknowledges physical interrupts and injects virtual interrupts
by setting the vIRQ bit when resuming an SP. A Secure Partition gathers
the interrupt number through an hypercall.</p>
<p>Notice the SPMC/SPMD has to handle Group0 secure interrupts in addition
to Group1 S/NS interrupts.</p>
</div>
</div>
<div class="section" id="power-management">
<h3><a class="toc-backref" href="#id52"><span class="section-number">12.6.10. </span>Power management</a><a class="headerlink" href="#power-management" title="Permalink to this headline">¶</a></h3>
<p>Assumption on the Nwd:</p>
<ul class="simple">
<li><p>NWd is the best candidate to own the platform Power Management
policy. It is master to invoking PSCI service calls from physical
CPUs.</p></li>
<li><p>EL3 monitor is in charge of the PM control part (its PSCI layer
actually writing to platform registers).</p></li>
<li><p>It is fine for the Hypervisor to trap PSCI calls and relay to EL3, or
OS kernel driver to emit PSCI service calls.</p></li>
</ul>
<p>PSCI notification are relayed through the SPMD/SPD PM hooks to the SPMC.
This can either be through re-use of PSCI FIDs or an FF-A direct message
from SPMD to SPMC.</p>
<p>The SPMD performs an exception return to the SPMC which is resumed to
its <code class="docutils literal notranslate"><span class="pre">eret_handler</span></code> routine. It is then either consuming a PSCI FID or
an FF-A FID. Depending on the servicing, the SPMC may return directly to
the SPMD (and then NWd) without resuming an SP at this stage. An example
of this is invocation of <code class="docutils literal notranslate"><span class="pre">FFA_PARTITION_INFO_GET</span></code> from NWd relayed by
the SPMD to the SPMC. The SPMC returns the needed partition information
to the SPMD (then NWd) without actually resuming a partition in secure world.</p>
<p><em>(under discussion)</em>
About using PSCI FIDs from SPMD to SPMC to notify of PM events, it is still
questioned what to use as the return code from the SPMC.
If the function ID used by the SPMC is not an FF-A ID when doing SMC, then the
EL3 std svc handler won’t route the response to the SPMD. That’s where comes the
idea to embed the notification into an FF-A message. The SPMC can discriminate
this message as being a PSCI event, process it, and reply with an FF-A return
message that the SPMD receives as an acknowledgement.</p>
</div>
<div class="section" id="sp-notification">
<h3><a class="toc-backref" href="#id53"><span class="section-number">12.6.11. </span>SP notification</a><a class="headerlink" href="#sp-notification" title="Permalink to this headline">¶</a></h3>
<p>Power management notifications are conveyed from PSCI library to the
SPMD / SPD hooks. A range of events can be relayed to SPMC.</p>
<p>SPs may need to be notified about specific PM events.</p>
<ul class="simple">
<li><p>SPs might register PM events to the SPMC</p></li>
<li><p>On SPMD to SPMC notification, a limited range of SPs may be notified
through a direct message.</p></li>
<li><p>This assumes the mentioned SPs supports managed exit.</p></li>
</ul>
<p>The SPMC is the first to be notified about PM events from the SPMD. It is up
to the SPMC to arbitrate to which SP it needs to send PM events.
An SP explicitly registers to receive notifications to specific PM events.
The register operation can either be an implementation-defined service call
to the SPMC when the primary SP EC boots, or be supplied through the SP
manifest.</p>
</div>
</div>
<div class="section" id="references">
<h2><a class="toc-backref" href="#id54"><span class="section-number">12.7. </span>References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p id="id1">[1] <a class="reference external" href="https://developer.arm.com/docs/den0077/latest">Platform Security Architecture Firmware Framework for Arm® v8-A 1.0 Platform Design Document</a></p>
<p id="id2">[2] <a class="reference internal" href="secure-partition-manager-mm.html#secure-partition-manager-mm"><span class="std std-ref">Secure Partition Manager using MM interface</span></a></p>
<p id="id3">[3] <a class="reference external" href="https://developer.arm.com/docs/den0006/latest/trusted-board-boot-requirements-client-tbbr-client-armv8-a">Trusted Boot Board Requirements
Client</a></p>
<p id="id4">[4] <a class="reference external" href="https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/lib/el3_runtime/aarch64/context.S#n45">https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/lib/el3_runtime/aarch64/context.S#n45</a></p>
<p id="id5">[5] <a class="reference external" href="https://git.trustedfirmware.org/TF-A/tf-a-tests.git/tree/spm/cactus/cactus.dts">https://git.trustedfirmware.org/TF-A/tf-a-tests.git/tree/spm/cactus/cactus.dts</a></p>
<p id="id6">[6] <a class="reference external" href="https://trustedfirmware-a.readthedocs.io/en/latest/components/psa-ffa-manifest-binding.html">https://trustedfirmware-a.readthedocs.io/en/latest/components/psa-ffa-manifest-binding.html</a></p>
<p id="id7">[7] <a class="reference external" href="https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/plat/arm/board/fvp/fdts/fvp_spmc_manifest.dts">https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/plat/arm/board/fvp/fdts/fvp_spmc_manifest.dts</a></p>
<p id="id8">[8] <a class="reference external" href="https://developer.trustedfirmware.org/w/tf_a/poc-multiple-signing-domains/">https://developer.trustedfirmware.org/w/tf_a/poc-multiple-signing-domains/</a></p>
<hr class="docutils" />
<p><em>Copyright (c) 2020, Arm Limited and Contributors. All rights reserved.</em></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="secure-partition-manager-mm.html" class="btn btn-neutral float-right" title="13. Secure Partition Manager (MM)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="sdei.html" class="btn btn-neutral float-left" title="11. SDEI: Software Delegated Exception Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>