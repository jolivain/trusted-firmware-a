<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="751px" preserveAspectRatio="none" style="width:971px;height:751px;" version="1.1" viewBox="0 0 971 751" width="971px" zoomAndPan="magnify"><defs><filter height="300%" id="fzz41liw0wk63" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="193.5" y="77.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="200.5" y="97.4248">FW_CONFIG</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="432.5" y="151.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="439.5" y="171.8545">bl2</text><rect fill="#FFFFFF" filter="url(#fzz41liw0wk63)" height="149.8281" style="stroke: #000000; stroke-width: 2.0;" width="433.5" x="135.5" y="262.4219"/><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="52" x="503" y="366.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="510" y="386.9482">SPKG</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="569" y="448.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="576" y="468.3779">TOS_FW_CONFIG</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="714" y="522.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="721" y="542.8076">SPMC</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="916" y="597.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="923" y="617.2373">bl31</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="27" x2="27" y1="38.2969" y2="710.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="164.5" x2="164.5" y1="38.2969" y2="710.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="242.5" x2="242.5" y1="110.0781" y2="710.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="451.5" x2="451.5" y1="184.5078" y2="710.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="531" x2="531" y1="399.6016" y2="710.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="636" x2="636" y1="481.0313" y2="710.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="743" x2="743" y1="555.4609" y2="710.8047"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="940" x2="940" y1="629.8906" y2="710.8047"/><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="15" y="22.9951">bl1</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="8" y="709.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="15" y="729.7998">bl1</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="34" x="145.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="20" x="152.5" y="22.9951">FIP</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="34" x="145.5" y="709.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="20" x="152.5" y="729.7998">FIP</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="193.5" y="709.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="200.5" y="729.7998">FW_CONFIG</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="432.5" y="709.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="439.5" y="729.7998">bl2</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="52" x="503" y="709.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="510" y="729.7998">SPKG</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="569" y="709.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="576" y="729.7998">TOS_FW_CONFIG</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="714" y="709.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="721" y="729.7998">SPMC</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="916" y="709.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="923" y="729.7998">bl31</text><polygon fill="#A80036" points="152.5,65.2969,162.5,69.2969,152.5,73.2969,156.5,69.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27.5" x2="158.5" y1="69.2969" y2="69.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="34.5" y="64.3638">read(FW_CONFIG)</text><polygon fill="#A80036" points="181.5,94.4297,191.5,98.4297,181.5,102.4297,185.5,98.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27.5" x2="187.5" y1="98.4297" y2="98.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="34.5" y="93.4966">load</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="193.5" y="77.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="200.5" y="97.4248">FW_CONFIG</text><polygon fill="#A80036" points="152.5,139.7266,162.5,143.7266,152.5,147.7266,156.5,143.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27.5" x2="158.5" y1="143.7266" y2="143.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="34.5" y="138.7935">read(bl2)</text><polygon fill="#A80036" points="420.5,168.8594,430.5,172.8594,420.5,176.8594,424.5,172.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27.5" x2="426.5" y1="172.8594" y2="172.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="34.5" y="167.9263">load</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="35" x="432.5" y="151.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="439.5" y="171.8545">bl2</text><polygon fill="#A80036" points="440,214.1563,450,218.1563,440,222.1563,444,218.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="27.5" x2="446" y1="218.1563" y2="218.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="34.5" y="213.2231">hand off (FW_CONFIG)</text><polygon fill="#A80036" points="254,243.2891,244,247.2891,254,251.2891,250,247.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="248" x2="451" y1="247.2891" y2="247.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="260" y="242.356">read_node(SPKs)</text><rect fill="none" height="149.8281" style="stroke: #000000; stroke-width: 2.0;" width="433.5" x="135.5" y="262.4219"/><polygon fill="#EEEEEE" points="135.5,262.4219,212.5,262.4219,212.5,269.4219,202.5,279.4219,135.5,279.4219,135.5,262.4219" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="150.5" y="275.4888">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="156" x="227.5" y="274.6323">[for each spkg subnode]</text><polygon fill="#A80036" points="254,296.5547,244,300.5547,254,304.5547,250,300.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="248" x2="451" y1="300.5547" y2="300.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="260" y="295.6216">read(UUID)</text><polygon fill="#A80036" points="254,325.6875,244,329.6875,254,333.6875,250,329.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="248" x2="451" y1="329.6875" y2="329.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="260" y="324.7544">read(load_address)</text><polygon fill="#A80036" points="175.5,354.8203,165.5,358.8203,175.5,362.8203,171.5,358.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="169.5" x2="451" y1="358.8203" y2="358.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="181.5" y="353.8872">read(spkg@UUID)</text><polygon fill="#A80036" points="491,383.9531,501,387.9531,491,391.9531,495,387.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="497" y1="387.9531" y2="387.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="459" y="383.02">load</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="52" x="503" y="366.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="510" y="386.9482">SPKG</text><polygon fill="#A80036" points="254,436.25,244,440.25,254,444.25,250,440.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="248" x2="451" y1="440.25" y2="440.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="260" y="435.3169">read_node(TOS_FW_CONFIG)</text><polygon fill="#A80036" points="557,465.3828,567,469.3828,557,473.3828,561,469.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="563" y1="469.3828" y2="469.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="459" y="464.4497">load</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="569" y="448.3828"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="576" y="468.3779">TOS_FW_CONFIG</text><polygon fill="#A80036" points="175.5,510.6797,165.5,514.6797,175.5,518.6797,171.5,514.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="169.5" x2="451" y1="514.6797" y2="514.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="181.5" y="509.7466">read(bl32/SPMC)</text><polygon fill="#A80036" points="702,539.8125,712,543.8125,702,547.8125,706,543.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="708" y1="543.8125" y2="543.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="459" y="538.8794">load</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="714" y="522.8125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="721" y="542.8076">SPMC</text><polygon fill="#A80036" points="175.5,585.1094,165.5,589.1094,175.5,593.1094,171.5,589.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="169.5" x2="451" y1="589.1094" y2="589.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="181.5" y="584.1763">read(bl31)</text><polygon fill="#A80036" points="904,614.2422,914,618.2422,904,622.2422,908,618.2422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="452" x2="910" y1="618.2422" y2="618.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="459" y="613.3091">load</text><rect fill="#FEFECE" filter="url(#fzz41liw0wk63)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="916" y="597.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="923" y="617.2373">bl31</text><polygon fill="#A80036" points="928,659.5391,938,663.5391,928,667.5391,932,663.5391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="452" x2="934" y1="663.5391" y2="663.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="459" y="658.606">hand off (TOS_FW_CONFIG)</text><polygon fill="#A80036" points="754,688.6719,744,692.6719,754,696.6719,750,692.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="748" x2="939" y1="692.6719" y2="692.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="760" y="687.7388">hand off (TOS_FW_CONFIG)</text><!--
@startuml
participant bl1
participant FIP

bl1 -> FIP : read(FW_CONFIG)
create FW_CONFIG
bl1 -> FW_CONFIG : load

bl1 -> FIP : read(bl2)
create bl2
bl1 -> bl2 : load
bl1 - -> bl2 : hand off (FW_CONFIG)

bl2 -> FW_CONFIG : read_node(SPKs)
loop for each spkg subnode
  bl2 -> FW_CONFIG : read(UUID)
  bl2 -> FW_CONFIG : read(load_address)
  bl2 -> FIP : read(spkg@UUID)
  create SPKG
  bl2 -> SPKG : load
end loop

bl2 -> FW_CONFIG : read_node(TOS_FW_CONFIG)
create TOS_FW_CONFIG
bl2 -> TOS_FW_CONFIG : load

bl2 -> FIP : read(bl32/SPMC)
create SPMC
bl2 -> SPMC : load

bl2 -> FIP : read(bl31)
create bl31
bl2 -> bl31 : load
bl2 - -> bl31 : hand off (TOS_FW_CONFIG)

bl31 - -> SPMC : hand off (TOS_FW_CONFIG)

@enduml

PlantUML version 1.2017.15(Mon Jul 03 17:45:34 BST 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9.1+1-Ubuntu-0ubuntu1.18.04
Operating System: Linux
OS Version: 4.15.0-124-generic
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>