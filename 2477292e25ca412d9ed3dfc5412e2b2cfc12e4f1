{
  "comments": [
    {
      "key": {
        "uuid": "c1edb701_9e7d9012",
        "filename": "bl31/bl31_context_mgmt.c",
        "patchSetId": 5
      },
      "lineNbr": 42,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-08-05T16:45:30Z",
      "side": 1,
      "message": "Can be done in psci_Arch_setup()",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 42,
        "endChar": 25
      },
      "revId": "2477292e25ca412d9ed3dfc5412e2b2cfc12e4f1",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "464cc0d5_b313246c",
        "filename": "bl31/bl31_context_mgmt.c",
        "patchSetId": 5
      },
      "lineNbr": 42,
      "author": {
        "id": 1000105
      },
      "writtenOn": "2019-08-06T12:45:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c1edb701_9e7d9012",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 42,
        "endChar": 25
      },
      "revId": "2477292e25ca412d9ed3dfc5412e2b2cfc12e4f1",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "66962ba5_eb844d14",
        "filename": "include/lib/el3_runtime/cpu_data.h",
        "patchSetId": 5
      },
      "lineNbr": 106,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-08-05T16:45:30Z",
      "side": 1,
      "message": "It seems this struct may straddle 2 cache lines which means 2 lines need to be flushed for every PSCI operation. It is better to keep this as the 3rd field so that this struct will always be in a single cache line.\n\nThis struct is 12 bytes.\n\nWhich means if this is placed as 3rd field, then this struct will always finish at 16 + 8 + 12 th byte which is less than cache line size.",
      "revId": "2477292e25ca412d9ed3dfc5412e2b2cfc12e4f1",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e21f163a_038f2dbe",
        "filename": "include/plat/common/platform.h",
        "patchSetId": 5
      },
      "lineNbr": 71,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-08-05T16:45:30Z",
      "side": 1,
      "message": "this is not the header to be adding this. This should be a in a header in lib/extensions/pauth.h",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 71,
        "endChar": 25
      },
      "revId": "2477292e25ca412d9ed3dfc5412e2b2cfc12e4f1",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf694114_1b99a942",
        "filename": "include/plat/common/platform.h",
        "patchSetId": 5
      },
      "lineNbr": 71,
      "author": {
        "id": 1000105
      },
      "writtenOn": "2019-08-06T13:59:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e21f163a_038f2dbe",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 71,
        "endChar": 25
      },
      "revId": "2477292e25ca412d9ed3dfc5412e2b2cfc12e4f1",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d2af085_185c2183",
        "filename": "lib/el3_runtime/aarch64/context.S",
        "patchSetId": 5
      },
      "lineNbr": 450,
      "author": {
        "id": 1000105
      },
      "writtenOn": "2019-08-06T13:59:04Z",
      "side": 1,
      "message": "This code below replaces branch to original \"function\" restore_gp_registers_eret with the same functionality.\nrestore_gp_registers_eret is defined as \"func\", but it is only referenced and used as a branch label in this file.\nBecause in this patch a single function restore_gp_pauth_registers() now implements pauth_context_restore() + restore_gp_registers(), there is no any point of adding a new restore_gp_pauth_registers_eret() \"function\" which will be used in just one branch instruction.",
      "revId": "2477292e25ca412d9ed3dfc5412e2b2cfc12e4f1",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "08cf5857_420d87f4",
        "filename": "services/spd/tspd/tspd_pm.c",
        "patchSetId": 5
      },
      "lineNbr": 170,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-08-05T16:45:30Z",
      "side": 1,
      "message": "Do this in psci_arch_setup().",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 170,
        "endChar": 25
      },
      "revId": "2477292e25ca412d9ed3dfc5412e2b2cfc12e4f1",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b88a7438_0ae9f7a7",
        "filename": "services/spd/tspd/tspd_pm.c",
        "patchSetId": 5
      },
      "lineNbr": 170,
      "author": {
        "id": 1000105
      },
      "writtenOn": "2019-08-06T12:45:18Z",
      "side": 1,
      "message": "Doing this causes exception, because in that case key won\u0027t be stored for SUSPEND FINISH event.\nThe key is re-initilised on every psci_warmboot_entrypoint() which is called in CPU ON and SUSPEND FINISH.\nFor secondary CPUs psci_arch_setup() is called only from psci_cpu_on_finish() but not from psci_cpu_suspend_finish().\nI can place this code in psci_cpu_suspend_finish(), which is more correct because tspd_cpu_suspend_finish_handler() is called only when \n(psci_spd_pm !\u003d NULL) \u0026\u0026 (psci_spd_pm-\u003esvc_suspend_finish !\u003d NULL)",
      "parentUuid": "08cf5857_420d87f4",
      "range": {
        "startLine": 166,
        "startChar": 0,
        "endLine": 170,
        "endChar": 25
      },
      "revId": "2477292e25ca412d9ed3dfc5412e2b2cfc12e4f1",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}