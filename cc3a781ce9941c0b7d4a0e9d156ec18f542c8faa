{
  "comments": [
    {
      "key": {
        "uuid": "41267da5_25dde270",
        "filename": "plat/rockchip/common/params_setup.c",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1000060
      },
      "writtenOn": "2019-04-24T21:35:54Z",
      "side": 1,
      "message": "nit: Not exactly sure what the TF policy on this is, but in general I always say you don\u0027t need to guard headers separately. Function prototypes don\u0027t hurt anyone as long as they\u0027re not called, and less #ifdef is always better.",
      "revId": "cc3a781ce9941c0b7d4a0e9d156ec18f542c8faa",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c763cbbe_a1abbf5d",
        "filename": "plat/rockchip/common/params_setup.c",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2019-04-24T21:47:01Z",
      "side": 1,
      "message": "The issue here is that without the libfdt.mk, the include path for libfdt.h is missing as well and thus the header can\u0027t be found. Making that an explicit \u003clib/libfdt/libfdt.h\u003e works on one level but then fails at the next include:\n\ninclude/lib/libfdt/libfdt.h:54:10: fatal error: libfdt_env.h: File or Directory not found\n #include \u003clibfdt_env.h\u003e\n\nSo looks like we\u0027ll need to keep that ifdef",
      "parentUuid": "41267da5_25dde270",
      "revId": "cc3a781ce9941c0b7d4a0e9d156ec18f542c8faa",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c680b7c5_98b9fc62",
        "filename": "plat/rockchip/common/params_setup.c",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1000060
      },
      "writtenOn": "2019-04-25T00:39:50Z",
      "side": 1,
      "message": "Hmm... okay. How about adding libfdt.mk by default? Building the library shouldn\u0027t hurt as long as you\u0027re not referencing functions from it. (I guess the drawback may be that it\u0027s easier to miss if you do add a dependency not guarded by the flag...)",
      "parentUuid": "c763cbbe_a1abbf5d",
      "revId": "cc3a781ce9941c0b7d4a0e9d156ec18f542c8faa",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a8357d2_00de6fe7",
        "filename": "plat/rockchip/common/params_setup.c",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-04-25T15:23:26Z",
      "side": 1,
      "message": "Yes, I agree. It avoids the conditionals for both the makefile and the header inclusion.",
      "parentUuid": "c680b7c5_98b9fc62",
      "revId": "cc3a781ce9941c0b7d4a0e9d156ec18f542c8faa",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d454843_092f0b06",
        "filename": "plat/rockchip/common/params_setup.c",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2019-04-26T21:45:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a8357d2_00de6fe7",
      "revId": "cc3a781ce9941c0b7d4a0e9d156ec18f542c8faa",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f25e8d7_11b97d4b",
        "filename": "plat/rockchip/rk3328/platform.mk",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1000060
      },
      "writtenOn": "2019-04-24T21:35:54Z",
      "side": 1,
      "message": "Unrelated to your patch, but why are you (and every other platform, it seems) doing this? libfdt.mk uses MAKE_LIB, which as far as I can tell builds it into a separate library and automatically adds -lfdt to LDFLAGS. So this really should already link correctly out of the box (by just including the Makefile), without having to additionally link the sources into the main binary as well. If it doesn\u0027t, maybe that\u0027s a bug that needs to be fixed in the build system -- this, at least, doesn\u0027t look like the right solution.",
      "revId": "cc3a781ce9941c0b7d4a0e9d156ec18f542c8faa",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f85dba98_ea3abbde",
        "filename": "plat/rockchip/rk3328/platform.mk",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2019-04-24T21:47:01Z",
      "side": 1,
      "message": "I guess the \"every other platform\" stems from copy\u0027n\u0027pasting that part way too often :-) . I\u0027ll remove that.",
      "parentUuid": "4f25e8d7_11b97d4b",
      "revId": "cc3a781ce9941c0b7d4a0e9d156ec18f542c8faa",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad79ceb9_135645c5",
        "filename": "plat/rockchip/rk3328/platform.mk",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2019-04-24T21:53:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f85dba98_ea3abbde",
      "revId": "cc3a781ce9941c0b7d4a0e9d156ec18f542c8faa",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "089b4b2d_a315ab9b",
        "filename": "plat/rockchip/rk3328/platform.mk",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2019-04-24T22:01:37Z",
      "side": 1,
      "message": "hmm, on second thought this needs more thought ... once I\u0027m awake again (was doing \"ifdef COREBOOT\" instead of the correct \"if COREBOOT\" for one), so will continue tomorrow on this",
      "parentUuid": "ad79ceb9_135645c5",
      "revId": "cc3a781ce9941c0b7d4a0e9d156ec18f542c8faa",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c272045_18e7551b",
        "filename": "plat/rockchip/rk3328/platform.mk",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1000111
      },
      "writtenOn": "2019-04-26T21:45:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "089b4b2d_a315ab9b",
      "revId": "cc3a781ce9941c0b7d4a0e9d156ec18f542c8faa",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}