{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "20dc750f_f3485116",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2022-08-18T11:29:45Z",
      "side": 1,
      "message": "So just picking this comment here exemplary, but this actually affects the whole series: I don\u0027t see anything in the PSCI spec that requires the *primary* core to issue the RESET request. I suspect the wording of \"other cores\" supports the idea that SYSTEM_RESET[2] can be issued from any core.\nFrom briefly looking over all patches, I don\u0027t see anything that actually relies on primary/secondary cores, but at least we should change the wording (everywhere) to remove that non-existing requirement.",
      "revId": "f04e16f3056179042ff5724130a8dd2bec9c102d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "538bd2bd_7b3c68f1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000511
      },
      "writtenOn": "2022-08-23T04:58:34Z",
      "side": 1,
      "message": "PSCI is not strict about which core is issuing the reboot request. But on a Linux based system, it is observed that the Linux kernel put all secondary cores in wfi, and the PSCI is always invoked from the primary CPU.\n\nWill change the primary/secondary terminology in the next series.",
      "parentUuid": "20dc750f_f3485116",
      "revId": "f04e16f3056179042ff5724130a8dd2bec9c102d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ce0bc2b_e160ea0e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 11,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2022-08-23T09:55:27Z",
      "side": 1,
      "message": "Thanks, and just for the records: \"On a Linux based system, it is observed ...\" is not a valid rationale. First, there are many more non-secure OSes or users other than Linux, and secondly that is just the implementation of the current version of the kernel, which could change at any time. What\u0027s authoritative is the PSCI spec here, and that doesn\u0027t require RESET or RESET2 to be issued from the \"primary\" core (whatever that is).",
      "parentUuid": "538bd2bd_7b3c68f1",
      "revId": "f04e16f3056179042ff5724130a8dd2bec9c102d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a820d499_49981e7f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 16,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2022-08-18T09:51:11Z",
      "side": 1,
      "message": "nit: remove one space",
      "range": {
        "startLine": 16,
        "startChar": 21,
        "endLine": 16,
        "endChar": 22
      },
      "revId": "f04e16f3056179042ff5724130a8dd2bec9c102d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f85eac6c_c259d404",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000511
      },
      "writtenOn": "2022-08-23T04:58:34Z",
      "side": 1,
      "message": "Hi,\n\nThank for your suggestions, will fix the comments in next patch series. I need bit more clarification in the previous two patches before sending the new series. could you please reply to that?",
      "revId": "f04e16f3056179042ff5724130a8dd2bec9c102d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28086300_db2cd2dd",
        "filename": "plat/arm/css/common/css_pm.c",
        "patchSetId": 5
      },
      "lineNbr": 382,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2022-08-18T11:29:45Z",
      "side": 1,
      "message": "Why are these barriers here? I think you need a *DSB*, to make sure outstanding memory operations are executed, but I don\u0027t see a need for an ISB?\nCan you please check the requirements, and then add comments briefly explaining the reason for (any remaining) barriers?",
      "revId": "f04e16f3056179042ff5724130a8dd2bec9c102d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7d5e4fd_a1ba48cd",
        "filename": "plat/arm/css/common/css_pm.c",
        "patchSetId": 5
      },
      "lineNbr": 382,
      "author": {
        "id": 1000511
      },
      "writtenOn": "2022-08-23T04:58:34Z",
      "side": 1,
      "message": "Thanks for the pointer, will remove isb.",
      "parentUuid": "28086300_db2cd2dd",
      "revId": "f04e16f3056179042ff5724130a8dd2bec9c102d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dbdc5be4_11a1651e",
        "filename": "plat/arm/css/common/css_pm.c",
        "patchSetId": 5
      },
      "lineNbr": 382,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2022-08-23T09:55:27Z",
      "side": 1,
      "message": "So have you checked which barriers are really needed? There should be documents and implementations out there which give some hints. Barriers are really tricky, and I would like to see some rationale as comments, so this can be reasoned on and potentially fixed later on. Just me saying it *should* not be needed doesn\u0027t mean anything, really ;-)",
      "parentUuid": "d7d5e4fd_a1ba48cd",
      "revId": "f04e16f3056179042ff5724130a8dd2bec9c102d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d4a95db_b420a052",
        "filename": "plat/arm/css/common/css_pm.c",
        "patchSetId": 5
      },
      "lineNbr": 384,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2022-08-18T09:37:59Z",
      "side": 1,
      "message": "How does the primary core ensure that each secondary core reached this point, before proceeding further with power down?",
      "revId": "f04e16f3056179042ff5724130a8dd2bec9c102d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7239d50_f6304999",
        "filename": "plat/arm/css/common/css_pm.c",
        "patchSetId": 5
      },
      "lineNbr": 384,
      "author": {
        "id": 1000511
      },
      "writtenOn": "2022-08-23T04:58:34Z",
      "side": 1,
      "message": "Currently primary core is not ensuring secondary cores has reached here. The primary core issues SCMI command to the power controller (SCP in this case), which can ensure the secondary cores has reached this point by reading the PPU PWSR register.",
      "parentUuid": "9d4a95db_b420a052",
      "revId": "f04e16f3056179042ff5724130a8dd2bec9c102d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5821e0e2_70663a3d",
        "filename": "plat/arm/css/common/css_pm.c",
        "patchSetId": 5
      },
      "lineNbr": 384,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2022-08-23T09:55:27Z",
      "side": 1,
      "message": "Yes, I think this is the common approach: the SCP (or another power management agent) waits for all the required cores to have entered the WFI state, which is signalled through a line from each core. Typically this is reflected in a SoC specific MMIO register, so can be read from the \"outside\". This means we get the required synchronisation through hardware.",
      "parentUuid": "f7239d50_f6304999",
      "revId": "f04e16f3056179042ff5724130a8dd2bec9c102d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}