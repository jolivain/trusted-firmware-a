{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ac78f689_ebd63a79",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000655
      },
      "writtenOn": "2022-03-10T10:52:29Z",
      "side": 1,
      "message": "Trustonic does not recommend its customers to use this patch.\n\nWhile aligned with the spec, this diverges too much from the behavior without FF-A/SPMC.\nWe have discussed with ARM to evolve the spec to allow for re-sharing of physical pages that are already shared in an earlier share operation, as is the case with other hypervisors.",
      "revId": "c159caed2648885ad2ad96f4125cac65a7ff229d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5538072_09437fe9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2022-03-15T06:56:36Z",
      "side": 1,
      "message": "What is the last take on this?\nThis change was requested as a matter of aligning SPMC implementations (here EL3 SPMC and SEL2 Hafnium/SPMC) to follow the spec.\nI understand the new query to be possibly considered in a future spec revision.\nThus shall we go ahead and merge this change or drop (honest question)?",
      "parentUuid": "ac78f689_ebd63a79",
      "revId": "c159caed2648885ad2ad96f4125cac65a7ff229d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f42fe3a2_203820fd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000655
      },
      "writtenOn": "2022-03-15T15:35:35Z",
      "side": 1,
      "message": "Thanks for providing this patch.\nWe would prefer it would not be merged for the moment.\n\nWe need to decide first how to handle the SEL2 case, work-around in the upper layers, similar to https://github.com/OP-TEE/optee_client/pull/233/commits/ff0141a1fe72811031740cc58bf34d3b83c004ef, or small or bigger patch in Hafnium.",
      "parentUuid": "b5538072_09437fe9",
      "revId": "c159caed2648885ad2ad96f4125cac65a7ff229d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9d332090_d49e0720",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000290
      },
      "writtenOn": "2022-03-15T16:32:55Z",
      "side": 1,
      "message": "Apologies for the delay in replying, thanks for the comments.\n\n\u003e Thus shall we go ahead and merge this change or drop (honest question)?\n\u003e We would prefer it would not be merged for the moment.\n\nPersonally I think this patch should still remain as part of this patchset as we are aiming to provide an upstream SPMC implementation that supports the FF-A v1.1 spec. Without this check the implementation would not be compliant and as such also differs in behavior to Hafnium implementing the same version of FF-A which I don\u0027t think is desirable.\n\n\n\u003e We need to decide first how to handle the SEL2 case, work-around in the upper layers, similar to...\n\nAs discussed offline, from an internal investigation it appears that going forward there is a solution that could be implemented inside a TEE driver which could contain the complexity within the endpoints themselves, while still retaining the use of zero copy semantics. At the moment the additional complexity and state tracking that would be required in Hypervisor and SPMC implementations to support the usecase of re-sharing of physical pages does not appear to be warranted.\n\nHappy to continue this discussion offline to further explore the options.",
      "parentUuid": "f42fe3a2_203820fd",
      "revId": "c159caed2648885ad2ad96f4125cac65a7ff229d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f871dd1_d1e9797d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000290
      },
      "writtenOn": "2022-04-25T17:06:54Z",
      "side": 1,
      "message": "From previous discussions IIUC the conclusion here was that we would continue to include this patch as part of the patch stack and Trustonic may revert the patch as a local change to support their current usecase.\n\nPlease correct me if I have misunderstood.",
      "parentUuid": "9d332090_d49e0720",
      "revId": "c159caed2648885ad2ad96f4125cac65a7ff229d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c48a374_8c80faa2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2022-05-17T15:31:25Z",
      "side": 1,
      "message": "That\u0027s my understanding as well (last reply from Marc above), I would go ahead with merging this change as a matter of claiming the EL3 SPMC matches the spec. Let us know if you consider this a blocker.",
      "parentUuid": "8f871dd1_d1e9797d",
      "revId": "c159caed2648885ad2ad96f4125cac65a7ff229d",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}