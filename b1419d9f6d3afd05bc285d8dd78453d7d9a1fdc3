{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c83e438c_425afb43",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-09-13T15:27:21Z",
      "side": 1,
      "message": "There are a number of platform build failures of two kinds:\n\nhttps://ci.trustedfirmware.org/job/tf-a-ci-gateway/47286/\n\n1. on multiple platforms\nhttps://ci.trustedfirmware.org/job/tf-a-builder/2497118/console\n\n00:01:21.673 lib/extensions/sve/simd_ctx.c:18:8: error: unknown type name \u0027simd_regs_t\u0027\n00:01:21.673    18 | static simd_regs_t simd_context[NON_SECURE + 1][PLATFORM_CORE_COUNT];\n00:01:21.673       |        ^~~~~~~~~~~\n00:01:21.673 make: *** [Makefile:1520: /home/buildslave/workspace/tf-a-builder/trusted-firmware-a/build/rdn1edge/debug/bl31/simd_ctx.o] Error 1\n\n\n2. On TC1/TC2 platforms:\n\nhttps://ci.trustedfirmware.org/job/tf-a-builder/2497358/console\n\n00:01:52.942 Makefile:1014: *** recipe commences before first target.  Stop.\n\n\n\nSee the static check and commit lint failures:\nhttps://ci.trustedfirmware.org/job/tf-a-static-checks/6088/\n\nhttps://ci.trustedfirmware.org/job/tf-a-commitlint/5677/console\n\n\n\n\n",
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "44d0e08a_4add1499",
        "filename": "include/lib/extensions/simd_ctx.h",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-09-13T15:31:13Z",
      "side": 1,
      "message": "nit: 2023 as this is a new file",
      "range": {
        "startLine": 2,
        "startChar": 17,
        "endLine": 2,
        "endChar": 21
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4f56e053_0c508627",
        "filename": "include/lib/extensions/simd_ctx.h",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 1000792
      },
      "writtenOn": "2023-09-15T14:42:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "44d0e08a_4add1499",
      "range": {
        "startLine": 2,
        "startChar": 17,
        "endLine": 2,
        "endChar": 21
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c058bc3b_f8c1706b",
        "filename": "include/lib/extensions/simd_ctx.h",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-09-13T15:31:13Z",
      "side": 1,
      "message": "nit:\n\n #endif /* SIMD_CTX_H */",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 6
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "11c366e9_1c27151d",
        "filename": "include/lib/extensions/simd_ctx.h",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000792
      },
      "writtenOn": "2023-09-15T14:42:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c058bc3b_f8c1706b",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 6
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd249e29_89c96342",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-09-13T15:31:13Z",
      "side": 1,
      "message": "2023",
      "range": {
        "startLine": 2,
        "startChar": 17,
        "endLine": 2,
        "endChar": 21
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "635915e8_2a3ea89e",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 2,
      "author": {
        "id": 1000792
      },
      "writtenOn": "2023-09-15T14:42:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bd249e29_89c96342",
      "range": {
        "startLine": 2,
        "startChar": 17,
        "endLine": 2,
        "endChar": 21
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fabc6ad2_c0f5c708",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-09-13T15:31:13Z",
      "side": 1,
      "message": "This should only apply to specific configuration e.g. EL3 SPMC\ne.g. We don\u0027t want to declare this when SEL2 SPMC is used.",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 25
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be6b7c67_e57089c3",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000792
      },
      "writtenOn": "2023-09-15T14:42:55Z",
      "side": 1,
      "message": "Do you suggest we check for dependency on SPMC_AT_EL3 in Makefile?",
      "parentUuid": "fabc6ad2_c0f5c708",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 16,
        "endChar": 25
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc85e01f_8856a804",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-09-14T16:06:39Z",
      "side": 1,
      "message": "Wonder what is the reasoning for using this macro?\n\nI get 2 * 8 * sizeof(simd_context) \u003d\u003d 143616 bytes\nThat won\u0027t fit on FVP platform as BL31 will overflow. Most probably if tested on FVP this will require increasing max. SRAM size by using FVP_TRUSTED_SRAM_SIZE option or move this section elsewhere.\n\nIs it required to save/restore the secure world context?\nThe only case I can think of is if the TEE is pre-empted without saving its state (e.g. a Group0 interrupt with SCR_EL3.FIQ\u003d1).\n\nJust to say saving only the non-secure context would cut this size requirement by half.",
      "range": {
        "startLine": 18,
        "startChar": 32,
        "endLine": 18,
        "endChar": 42
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e29c255c_97930846",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1000792
      },
      "writtenOn": "2023-09-15T14:42:55Z",
      "side": 1,
      "message": "This is something we discussed offline. Yes it is in case there is an unmanaged exit from TEE. At least Pixel platforms have Group 0 interrupts.\n\nRegarding size, we have simd_context in a separately relocatable section so that platforms can place it in DRAM or other memory where size is not too limited. Depending on vector size, even just one context might be significant size for some platforms.",
      "parentUuid": "dc85e01f_8856a804",
      "range": {
        "startLine": 18,
        "startChar": 32,
        "endLine": 18,
        "endChar": 42
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca506b3c_29f0025e",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-09-13T15:31:13Z",
      "side": 1,
      "message": "Remove. RME isn\u0027t related.",
      "range": {
        "startLine": 25,
        "startChar": 36,
        "endLine": 25,
        "endChar": 63
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e80e07ba_e871263a",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1000792
      },
      "writtenOn": "2023-09-15T14:42:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ca506b3c_29f0025e",
      "range": {
        "startLine": 25,
        "startChar": 36,
        "endLine": 25,
        "endChar": 63
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f268d990_c3385245",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-09-14T16:06:39Z",
      "side": 1,
      "message": "Use braces even for single lines statements.",
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "508a9990_d71ce66d",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1000792
      },
      "writtenOn": "2023-09-15T14:42:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f268d990_c3385245",
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a21ba30_eec7bfdc",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2023-09-14T16:06:39Z",
      "side": 1,
      "message": "Remove.",
      "range": {
        "startLine": 31,
        "startChar": 18,
        "endLine": 31,
        "endChar": 19
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cbffed1c_809fae70",
        "filename": "lib/extensions/sve/simd_ctx.c",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1000792
      },
      "writtenOn": "2023-09-15T14:42:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0a21ba30_eec7bfdc",
      "range": {
        "startLine": 31,
        "startChar": 18,
        "endLine": 31,
        "endChar": 19
      },
      "revId": "b1419d9f6d3afd05bc285d8dd78453d7d9a1fdc3",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}