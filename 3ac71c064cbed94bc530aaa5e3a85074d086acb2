{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6006a000_c6eebe0f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2021-06-12T02:19:38Z",
      "side": 1,
      "message": "i\u0027m not sure i agree with the premise. If BTI is enabled on the compiler, does not necessarily mean we are compiling for a v8.5 system. can we not use the latest compiler(which has BTI enabled) and compiled for platforms that dont have 8.5 support?\nOr am i misunderstanding the commit message?",
      "range": {
        "startLine": 9,
        "startChar": 30,
        "endLine": 9,
        "endChar": 63
      },
      "revId": "3ac71c064cbed94bc530aaa5e3a85074d086acb2",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2d94b8f1_191f0829",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000049
      },
      "writtenOn": "2021-04-27T07:49:46Z",
      "side": 1,
      "message": "Deferred until after v2.5 release",
      "revId": "3ac71c064cbed94bc530aaa5e3a85074d086acb2",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4397d16f_1caf30eb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000125
      },
      "writtenOn": "2021-06-11T20:21:29Z",
      "side": 1,
      "message": "OK, reasonable.",
      "revId": "3ac71c064cbed94bc530aaa5e3a85074d086acb2",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "85bfc328_787ca0d0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000125
      },
      "writtenOn": "2021-06-12T17:40:05Z",
      "side": 1,
      "message": "I was thinking similarly (that using a v8.5-capable compiler doesn\u0027t necessarily mean that the system supports BTI).  However, I gather there\u0027s a compiler switch \"-mbranch-protection\u003dpac-ret+bti\" to turn on that feature, or not.  So, I presumed it was not so much whether it\u0027s not only that it\u0027s a v8.5-capabile GCC, but also having that switch turned on.",
      "revId": "3ac71c064cbed94bc530aaa5e3a85074d086acb2",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b294a500_a168873f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2021-06-13T17:07:00Z",
      "side": 1,
      "message": "So the problem with that assumption is that just because we are compiling with the BTI switch, does not mean a binary will run on an v8.5 platform. BTI instructions are in the NOP space so the same binary can run on pre-v8.5 platforms without BTI as well. This is something we are considering for FF-A S-EL0 partitions. We will always compile a partition with BTI enabled but it can run with either BTI enabled or disabled.\nNow i\u0027m not saying that can happen with TF-A binaries but i dont see a strong reason to preclude it.\nHaving said all that, i dont have a strong opinion, just throwing it out there for consideration. If we think this is unlikely or we dont support it until someone asks for it, i\u0027m fine. This patch infact removes the check and enables the use case above. I guess i would like the commit message reworded to not assume if we ENABLE_BIT, we run on ARMv8.5 platform.",
      "parentUuid": "85bfc328_787ca0d0",
      "revId": "3ac71c064cbed94bc530aaa5e3a85074d086acb2",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb875eef_97facc8d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000125
      },
      "writtenOn": "2021-06-13T17:41:18Z",
      "side": 1,
      "message": "Yeah, I\u0027m not convinced either way as to what value this check has.  It seems to be little more than a consistency check on the build, but I don\u0027t see much value in removing it either.",
      "parentUuid": "b294a500_a168873f",
      "revId": "3ac71c064cbed94bc530aaa5e3a85074d086acb2",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}