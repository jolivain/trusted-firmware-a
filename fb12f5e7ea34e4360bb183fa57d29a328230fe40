{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4f1684a2_d3fc164d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000272
      },
      "writtenOn": "2024-02-05T14:18:22Z",
      "side": 1,
      "message": "-1 until the Ack\u0027d changes are made",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3e16a57_40dac8a3",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2024-01-31T09:19:32Z",
      "side": 1,
      "message": "If TF-A only supports metadata v2, then this should be checked in this function IMHO.",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c84a2c1e_6ba60567",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-01-31T09:25:54Z",
      "side": 1,
      "message": "Yes, will add that check here.",
      "parentUuid": "a3e16a57_40dac8a3",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1058a9cd_0bc60bc6",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2024-01-31T09:29:07Z",
      "side": 1,
      "message": "I mean:\n\n\tif (metadata.version !\u003d 2U) {\n\t\treturn -1;\n\t}",
      "parentUuid": "a3e16a57_40dac8a3",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9fd7dcfd_c52a3827",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-01-31T10:49:03Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "1058a9cd_0bc60bc6",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "38157775_10a0614b",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2024-01-31T11:20:25Z",
      "side": 1,
      "message": "Yes, this will be helpful as now on-wards we are allowing only FWU metadata version 1.",
      "parentUuid": "9fd7dcfd_c52a3827",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa7136aa_426785d4",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2024-02-06T17:29:28Z",
      "side": 1,
      "message": "Correcting typo, we are allowing now-onwards only **FWU metadata version 2**\nAdditionally, it would be beneficial to include a WARN message for each failure. This is because, with each failure returning \u0027-1\u0027, it can be challenging to pinpoint the exact location of the issue directly.",
      "parentUuid": "38157775_10a0614b",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f769cda1_3ee6683a",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2024-02-07T08:59:35Z",
      "side": 1,
      "message": "Also, I feel it is better to return standard error (``-EINVAL``?) instead of -1. What do you say?",
      "parentUuid": "aa7136aa_426785d4",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58a597f6_a76ecf4b",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2024-01-31T09:29:07Z",
      "side": 1,
      "message": "4U",
      "range": {
        "startLine": 68,
        "startChar": 34,
        "endLine": 68,
        "endChar": 35
      },
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b4f82fa9_42feec57",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-01-31T10:49:03Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "58a597f6_a76ecf4b",
      "range": {
        "startLine": 68,
        "startChar": 34,
        "endLine": 68,
        "endChar": 35
      },
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db61b781_96592313",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2024-01-31T09:29:07Z",
      "side": 1,
      "message": "0U",
      "range": {
        "startLine": 77,
        "startChar": 29,
        "endLine": 77,
        "endChar": 30
      },
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "888dce75_f9d17508",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-01-31T10:49:03Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "db61b781_96592313",
      "range": {
        "startLine": 77,
        "startChar": 29,
        "endLine": 77,
        "endChar": 30
      },
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4fddec6_fadc55c1",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2024-02-06T10:30:58Z",
      "side": 1,
      "message": "It think should be if (metadata.desc_offset !\u003d 20U) { return -1; }\nThere is no other valid offset value for this version of the metadata structure.",
      "range": {
        "startLine": 77,
        "startChar": 1,
        "endLine": 77,
        "endChar": 33
      },
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b25b8d4_03613920",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 77,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2024-02-06T17:29:28Z",
      "side": 1,
      "message": "Agree, this is as per FWU metadata version 2. This stricter check is even better.",
      "parentUuid": "f4fddec6_fadc55c1",
      "range": {
        "startLine": 77,
        "startChar": 1,
        "endLine": 77,
        "endChar": 33
      },
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4dcb7463_be4090b1",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2024-01-31T09:29:07Z",
      "side": 1,
      "message": "ditto",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ca509694_d72fedd1",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-01-31T10:49:03Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "4dcb7463_be4090b1",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f845b75b_e3115400",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 85,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2024-01-30T15:11:21Z",
      "side": 1,
      "message": "and also put compile time assertion to have NR_OF_FW_BANKS \u003c NR_OF_MAX_FW_BANKS.\nNR_OF_MAX_FW_BANKS we discussed in previous patch.",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61f01784_cc982587",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 85,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-01-31T09:25:54Z",
      "side": 1,
      "message": "\u003e and also put compile time assertion to have NR_OF_FW_BANKS \u003c NR_OF_MAX_FW_BANKS.\n\u003e NR_OF_MAX_FW_BANKS we discussed in previous patch.\n\nWe already have an assertion in the fwu_init() function which is doing that. The reason I kept it in the fwu_init() function is that this is a check which does not need a metadata read. So if a platform has gotten the NR_OF_FW_BANKS wrong, we can fail very early, without a need to read the metadata.",
      "parentUuid": "f845b75b_e3115400",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "78f5ba80_d9ce0d70",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 85,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-02-01T09:55:06Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "61f01784_cc982587",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71bde9f3_8b28fa11",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 186,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2024-01-31T09:29:07Z",
      "side": 1,
      "message": "As mentioned by Manish in his comment at line 85, this should be a compilation time assert, with CASSERT macro",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f161def_e75580ca",
        "filename": "drivers/fwu/fwu.c",
        "patchSetId": 2
      },
      "lineNbr": 186,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-01-31T10:49:03Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "71bde9f3_8b28fa11",
      "revId": "fb12f5e7ea34e4360bb183fa57d29a328230fe40",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}