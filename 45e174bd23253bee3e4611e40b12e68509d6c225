{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ec6eec21_76c1f94e",
        "filename": "docs/getting_started/build-options.rst",
        "patchSetId": 7
      },
      "lineNbr": 539,
      "author": {
        "id": 1000102
      },
      "writtenOn": "2022-04-08T12:51:13Z",
      "side": 1,
      "message": "Remove this dependency",
      "range": {
        "startLine": 539,
        "startChar": 47,
        "endLine": 539,
        "endChar": 65
      },
      "revId": "45e174bd23253bee3e4611e40b12e68509d6c225",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7ab95ec_61599509",
        "filename": "docs/getting_started/build-options.rst",
        "patchSetId": 7
      },
      "lineNbr": 539,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-04-14T17:02:28Z",
      "side": 1,
      "message": "i dont htink this should be removed for drtm..even for folks who simply want to run and test, it is best that thye know and enable trusted boot, and know that running without trusted boot would compromise integrity of DCRTM.\nAlso not sure the following statement is accurate. Trusted boot is only required to ensure integrity of the DCRTM no?\nseems weird that you need authenticated boot to trust data provided by dce preamble, which is untrusted..",
      "parentUuid": "ec6eec21_76c1f94e",
      "range": {
        "startLine": 539,
        "startChar": 47,
        "endLine": 539,
        "endChar": 65
      },
      "revId": "45e174bd23253bee3e4611e40b12e68509d6c225",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ad4bfa0_bd78656b",
        "filename": "docs/getting_started/build-options.rst",
        "patchSetId": 7
      },
      "lineNbr": 539,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-04-14T17:08:04Z",
      "side": 1,
      "message": "infact this is only required because DCRTM is BL31...if it was in some immutable rom or its integrity was ensured by other means, this wouldnt/shouldnt be required.",
      "parentUuid": "e7ab95ec_61599509",
      "range": {
        "startLine": 539,
        "startChar": 47,
        "endLine": 539,
        "endChar": 65
      },
      "revId": "45e174bd23253bee3e4611e40b12e68509d6c225",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c740d343_f36b4111",
        "filename": "docs/getting_started/build-options.rst",
        "patchSetId": 7
      },
      "lineNbr": 539,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-04-14T18:11:43Z",
      "side": 1,
      "message": "Hi Raghu, Thanks for putting your thoughts! Below is my understanding -\n1. TRUSTED_BOARD_BOOT dependency on DRTM is to ensure D-CRTM and DCE are trusted entities. Note: DCE and D-CRTM are not separate entities in the current implementation, and are part of BL31. This will change if the implementation evolve to have NS-DCE.\n\n2. D-CRTM accepts TCB hashes from early boot stage components running in NS-world (for UEFI based firmware it is prior to EndofDxe phase) and eventually pass them to DLME [1]. \nTo trust on these TCB hashes, it is important to trust this early boot stage component. My bad, the current statement does not provide these details, let me modify it to make it clear.\n\nAlso, agree if platform makes different provision to ensure integrity of the BL31 and early boot stage component of NS-world then TRUSTED_BOARD_BOOT dependency is not needed.\nI think of RESET_TO_BL31 case here where platform ensures integrity of BL31, and other NS-components via some other mean.\n\nI will retain this TRUSTED BOOT dependency on DRTM, but will add a statement that it is not needed if the platform ensures trustworthiness of BL31 and early boot stage component of NS-world component in their own way. Do you agree?\n\n[1] https://developer.arm.com/documentation/den0113/latest - Refer section 4.1",
      "parentUuid": "2ad4bfa0_bd78656b",
      "range": {
        "startLine": 539,
        "startChar": 47,
        "endLine": 539,
        "endChar": 65
      },
      "revId": "45e174bd23253bee3e4611e40b12e68509d6c225",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61352e17_f9cfd9e8",
        "filename": "docs/getting_started/build-options.rst",
        "patchSetId": 7
      },
      "lineNbr": 539,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-04-14T19:12:19Z",
      "side": 1,
      "message": "Agree with #1. Just to double check, you agree DCE Preamble is not trusted?\nI\u0027ve raised #2 as a concern with Stuart. The trusted tcb hashes need to be provided and authorized in a different manner and relying on trusted board boot to authorize that and on UEFI (who we are effectively trying to remove trust on), does not seem right. In fact, in [1], there is an explicit statement in section 2.2 - \u0027A key characteristic of DRTM is that the new TCB established by the DRTM boot chain does not have a trust dependency on the SRTM trust chain or anything else which executed prior to the DL Event. A dynamic launch can be initiated any number of times on a running system.\"\n\nDoes this design of providing tcb hashes violate the statement by having a trust dependency on \"anything else that executed prior to the dl event\"?\n\nIt is okay to have these TCB hashes as a signed blob that possibly has its own independent key and revocation/rollback policies that the dlme consumes, but it should not be made part of trusted board boot.",
      "parentUuid": "c740d343_f36b4111",
      "range": {
        "startLine": 539,
        "startChar": 47,
        "endLine": 539,
        "endChar": 65
      },
      "revId": "45e174bd23253bee3e4611e40b12e68509d6c225",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c71f6a14_639decd8",
        "filename": "docs/getting_started/build-options.rst",
        "patchSetId": 7
      },
      "lineNbr": 539,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-04-14T19:14:22Z",
      "side": 1,
      "message": "The important distinction is that we dont \"Trust UEFI code\" to provide the tcb hashes, that defeats DRTM entirely. If UEFI is exploited, trusting it to provide the right TCB hashes means a compromised UEFI can entirely compromise DRTM..",
      "parentUuid": "61352e17_f9cfd9e8",
      "range": {
        "startLine": 539,
        "startChar": 47,
        "endLine": 539,
        "endChar": 65
      },
      "revId": "45e174bd23253bee3e4611e40b12e68509d6c225",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "134d0441_6d309707",
        "filename": "docs/getting_started/build-options.rst",
        "patchSetId": 7
      },
      "lineNbr": 539,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-04-18T07:53:10Z",
      "side": 1,
      "message": "\u003e Agree with #1. Just to double check, you agree DCE Preamble is not trusted?\nAgree, the DCE preamble should not be trusted.\n\n\u003e The important distinction is that we dont \"Trust UEFI code\" to provide the tcb hashes, that defeats DRTM entirely. If UEFI is exploited, trusting it to provide the right TCB hashes means a compromised UEFI can entirely compromise DRTM..\nGot your point. I will check with the team internally again regarding the trustworthiness of the UEFI code in DRTM. \nI believe we both agreed that BL31 is a trusted one for DRTM, and so DRTM must rely on TRUSTED_BOARD_BOOT. The TRUSTED_BOARD_BOOT build option is meant for BL1,BL2, therefore this statement is invalid for platforms that reset to BL31 anyways (such platforms have their own methods for trusting BL31). Do you agree?",
      "parentUuid": "c71f6a14_639decd8",
      "range": {
        "startLine": 539,
        "startChar": 47,
        "endLine": 539,
        "endChar": 65
      },
      "revId": "45e174bd23253bee3e4611e40b12e68509d6c225",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}