{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "206fa22e_2a651753",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2024-01-30T10:00:14Z",
      "side": 1,
      "message": "Minor comment",
      "revId": "9fe39b200cd8710a460c30b91b4ae8145dba74fb",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53061c78_00c88376",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 2
      },
      "lineNbr": 662,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2024-02-01T10:50:42Z",
      "side": 1,
      "message": "I\u0027m a bit uncertain about this. Just because the bank is considered valid doesn\u0027t necessarily guarantee its acceptance. If we switch in this direction, there\u0027s no assurance that it will still function as expected. I think the intended course is to revert back to the \u0027valid, accepted\u0027 bank instead right?\n\nAs per specification-\n\n```\nprevious_active_index: integer indicating which firmware bank was active prior to the last successful update\nto the Firmware Store\n```",
      "range": {
        "startLine": 662,
        "startChar": 15,
        "endLine": 662,
        "endChar": 36
      },
      "revId": "9fe39b200cd8710a460c30b91b4ae8145dba74fb",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "323857d6_632df5ca",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 2
      },
      "lineNbr": 662,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-02-01T11:12:46Z",
      "side": 1,
      "message": "\u003e I\u0027m a bit uncertain about this. Just because the bank is considered valid doesn\u0027t necessarily guarantee its acceptance. If we switch in this direction, there\u0027s no assurance that it will still function as expected. I think the intended course is to revert back to the \u0027valid, accepted\u0027 bank instead right?\n\nYes, I do understand your point. The reason I kept this logic is to allow the platform to boot in absence of any other alternative Accepted bank. What I think can be done is to first check for any Accepted banks(maybe start with previous_active_bank), and if none are found, then try to boot the platform with a Valid bank.\n\nIdeally, this scenario should not play out. It is just ensuring that the platform is allowed to boot from a Valid bank(this is assuming that all other checks pass, like rollback protection etc).\n \n\u003e \n\u003e As per specification-\n\u003e \n\u003e ```\n\u003e previous_active_index: integer indicating which firmware bank was active prior to the last successful update\n\u003e to the Firmware Store\n\u003e ```\n\nTrue. But a platform may have more than 2 banks, and in such a scenario, it may want to try and boot from any alternate bank. But I do agree that we can first try to boot from an Accepted bank, and then try a boot from a Valid bank in case of no other alternative. What do you think?",
      "parentUuid": "53061c78_00c88376",
      "range": {
        "startLine": 662,
        "startChar": 15,
        "endLine": 662,
        "endChar": 36
      },
      "revId": "9fe39b200cd8710a460c30b91b4ae8145dba74fb",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61c8f6b2_eb816f5f",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 2
      },
      "lineNbr": 662,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2024-02-01T13:10:05Z",
      "side": 1,
      "message": "Ack, agree!",
      "parentUuid": "323857d6_632df5ca",
      "range": {
        "startLine": 662,
        "startChar": 15,
        "endLine": 662,
        "endChar": 36
      },
      "revId": "9fe39b200cd8710a460c30b91b4ae8145dba74fb",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5aff199_0b88a522",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 2
      },
      "lineNbr": 698,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2024-01-30T10:00:14Z",
      "side": 1,
      "message": "In the commit message you say it is a debug trace. It should be changed to VERBOSE then? Or do you think it is worth having this trace at each boot?",
      "range": {
        "startLine": 698,
        "startChar": 1,
        "endLine": 698,
        "endChar": 5
      },
      "revId": "9fe39b200cd8710a460c30b91b4ae8145dba74fb",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66586280_72a2687a",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 2
      },
      "lineNbr": 698,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-01-31T09:28:59Z",
      "side": 1,
      "message": "I think a VERBOSE should be fine. As for having this trace on every boot, I guess that can be skipped? But I don\u0027t have a strong opinion on this, as a platform owner, maybe you can suggest if this should be kept for every boot.",
      "parentUuid": "e5aff199_0b88a522",
      "range": {
        "startLine": 698,
        "startChar": 1,
        "endLine": 698,
        "endChar": 5
      },
      "revId": "9fe39b200cd8710a460c30b91b4ae8145dba74fb",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba7b80e9_8c06e495",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 2
      },
      "lineNbr": 698,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2024-01-31T09:34:34Z",
      "side": 1,
      "message": "VERBOSE should be used here.",
      "parentUuid": "66586280_72a2687a",
      "range": {
        "startLine": 698,
        "startChar": 1,
        "endLine": 698,
        "endChar": 5
      },
      "revId": "9fe39b200cd8710a460c30b91b4ae8145dba74fb",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e6b316a4_1f3da2e1",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 2
      },
      "lineNbr": 698,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-01-31T10:52:18Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "ba7b80e9_8c06e495",
      "range": {
        "startLine": 698,
        "startChar": 1,
        "endLine": 698,
        "endChar": 5
      },
      "revId": "9fe39b200cd8710a460c30b91b4ae8145dba74fb",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}