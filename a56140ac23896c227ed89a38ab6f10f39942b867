{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "13e5a89b_500f7bae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000120
      },
      "writtenOn": "2022-01-21T09:54:15Z",
      "side": 1,
      "message": "I\u0027ve tested this with OP-TEE on QEMU using some local patches.",
      "revId": "a56140ac23896c227ed89a38ab6f10f39942b867",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2704c895_a2ccf371",
        "filename": "services/std_svc/spm/spmc/spmc_shared_mem.c",
        "patchSetId": 3
      },
      "lineNbr": 518,
      "author": {
        "id": 1000120
      },
      "writtenOn": "2022-01-21T09:54:15Z",
      "side": 1,
      "message": "A lock for synchronization is needed around all uses of the spmc_shmem_obj_state. When testing with OP-TEE there are occasional errors in some concurrent test cases (especially xtest 2002).",
      "revId": "a56140ac23896c227ed89a38ab6f10f39942b867",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1aeed810_0aca9628",
        "filename": "services/std_svc/spm/spmc/spmc_shared_mem.c",
        "patchSetId": 3
      },
      "lineNbr": 518,
      "author": {
        "id": 1000290
      },
      "writtenOn": "2022-01-24T18:22:22Z",
      "side": 1,
      "message": "Thanks for catching this. Re-implemented the locking for the shmem object access along with additional minor fixes. Would you be able to retest this to see if the errors are resolved?",
      "parentUuid": "2704c895_a2ccf371",
      "revId": "a56140ac23896c227ed89a38ab6f10f39942b867",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b5599c3b_86b6e7af",
        "filename": "services/std_svc/spm/spmc/spmc_shared_mem.c",
        "patchSetId": 3
      },
      "lineNbr": 518,
      "author": {
        "id": 1000120
      },
      "writtenOn": "2022-01-25T08:02:19Z",
      "side": 1,
      "message": "The update works fine, thanks.",
      "parentUuid": "1aeed810_0aca9628",
      "revId": "a56140ac23896c227ed89a38ab6f10f39942b867",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48c590f7_21c01a61",
        "filename": "services/std_svc/spm/spmc/spmc_shared_mem.c",
        "patchSetId": 3
      },
      "lineNbr": 518,
      "author": {
        "id": 1000290
      },
      "writtenOn": "2022-01-26T10:20:27Z",
      "side": 1,
      "message": "Great, thanks for confirming.",
      "parentUuid": "b5599c3b_86b6e7af",
      "revId": "a56140ac23896c227ed89a38ab6f10f39942b867",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "086e0722_132016ac",
        "filename": "services/std_svc/spm/spmc/spmc_shared_mem.c",
        "patchSetId": 3
      },
      "lineNbr": 518,
      "author": {
        "id": 1000655
      },
      "writtenOn": "2022-02-04T12:47:29Z",
      "side": 1,
      "message": "Just to chime in, the fix for the locking also improves stability on Kinibi side.\nThanks for catching and fixing this!",
      "parentUuid": "48c590f7_21c01a61",
      "revId": "a56140ac23896c227ed89a38ab6f10f39942b867",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}