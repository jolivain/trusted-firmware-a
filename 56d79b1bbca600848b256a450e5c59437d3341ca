{
  "comments": [
    {
      "key": {
        "uuid": "c800f88d_de15b677",
        "filename": "drivers/debugfs/devpsci.c",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2019-11-06T22:09:47Z",
      "side": 1,
      "message": "What does size mean here? If it is the number of power domain levels, then PLAT_MAX_PWR_LVL can be used here.",
      "revId": "56d79b1bbca600848b256a450e5c59437d3341ca",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6edc4304_4fc8f508",
        "filename": "drivers/debugfs/devpsci.c",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2019-11-07T10:12:45Z",
      "side": 1,
      "message": "The intent is to expose the topology array as a debug information to above layers.\nsize is meant to reflect the size of the topology array.",
      "parentUuid": "c800f88d_de15b677",
      "revId": "56d79b1bbca600848b256a450e5c59437d3341ca",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "144a2f8c_9c9b5335",
        "filename": "drivers/debugfs/devpsci.c",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2019-11-07T15:34:42Z",
      "side": 1,
      "message": "It doesn\u0027t seem logical to me the way the size is computed. It is highly platform-specific and I believe it should use the macros defined in PSCI header file include/lib/psci/psci.h. PSCI_NUM_NON_CPU_PWR_DOMAINS looks like a good fit.\nFor ex: for rpi3, there are only 2 entries in the topology data structure. But size would be 2 +4 \u003d6.",
      "parentUuid": "6edc4304_4fc8f508",
      "revId": "56d79b1bbca600848b256a450e5c59437d3341ca",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c9006de_f3cde70c",
        "filename": "drivers/debugfs/devpsci.c",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2019-11-06T22:09:47Z",
      "side": 1,
      "message": "Entry 0 and 1 in power domain tree descriptor need not be root count and cluster count always. I think it depends on the SoC topology. For ex: for rpi3, entry 0 is cluster count and entry 1 is core count in a cluster.",
      "revId": "56d79b1bbca600848b256a450e5c59437d3341ca",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eb664e91_37a554fc",
        "filename": "drivers/debugfs/devpsci.c",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2019-11-07T10:12:45Z",
      "side": 1,
      "message": "I took PSCI PDD DEN0022D section 4.2/Fig.3 as an example but indeed it\u0027s just an example and importantly power domain topology is not necessarily the same as cpu/clusters topology.",
      "parentUuid": "8c9006de_f3cde70c",
      "revId": "56d79b1bbca600848b256a450e5c59437d3341ca",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "031db7ad_cc9cbfe4",
        "filename": "drivers/debugfs/devpsci.c",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2019-11-07T15:34:42Z",
      "side": 1,
      "message": "You are correct. Power domain topology need not be the same as cpu/cluster topology hierarchy. I understand the comments are just an example but they are not representative of a generic SoC.",
      "parentUuid": "eb664e91_37a554fc",
      "revId": "56d79b1bbca600848b256a450e5c59437d3341ca",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30fe5593_eab74106",
        "filename": "drivers/debugfs/devpsci.c",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2019-11-07T15:34:42Z",
      "side": 1,
      "message": "Why not \"for (index \u003d 0; index \u003c size; index++) {\"??\nLines 45 and 46 can be removed.",
      "revId": "56d79b1bbca600848b256a450e5c59437d3341ca",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}