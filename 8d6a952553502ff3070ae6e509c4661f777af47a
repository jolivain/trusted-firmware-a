{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "02eb7137_a1df3a36",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2021-04-21T23:59:41Z",
      "side": 1,
      "message": "Hi Raghu, Manish,\n\nThank you for the review. I have taken the ownership of the patch and have made necessary fixes. Please take a look.",
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "46540ac5_56dfb894",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2021-06-08T15:03:57Z",
      "side": 1,
      "message": "In progress.",
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "55add5b7_77cbc4eb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2021-07-06T01:13:40Z",
      "side": 1,
      "message": "I am still working on corresponding patches in SPM for secure interrupt management support. ",
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9bb31da8_7f41dbf6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2021-07-27T14:41:46Z",
      "side": 1,
      "message": "WIP",
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a0a3a6c_d8f5fbd6",
        "filename": "include/services/ffa_svc.h",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2021-04-22T16:24:22Z",
      "side": 1,
      "message": "Move after line 87 for consistency with func id numbering.",
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d86ddc5_80e60dcd",
        "filename": "services/std_svc/spmd/spmd_main.c",
        "patchSetId": 2
      },
      "lineNbr": 212,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2021-05-04T04:22:26Z",
      "side": 1,
      "message": "i assume there is a related change to hafnium? not sure i see where FFA_INTERRUPT is handled in the other_world loop that calls ffa_handler..",
      "range": {
        "startLine": 212,
        "startChar": 37,
        "endLine": 212,
        "endChar": 52
      },
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c105ba4c_cfdba2a2",
        "filename": "services/std_svc/spmd/spmd_main.c",
        "patchSetId": 2
      },
      "lineNbr": 212,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2021-05-04T21:15:00Z",
      "side": 1,
      "message": "Hi,\nWe are working on the corresponding patch in hafnium which processes the FFA_INTERRUPT call for secure interrupt handling and delegation to the target SP.",
      "parentUuid": "5d86ddc5_80e60dcd",
      "range": {
        "startLine": 212,
        "startChar": 37,
        "endLine": 212,
        "endChar": 52
      },
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "666cf08d_bd11ee58",
        "filename": "services/std_svc/spmd/spmd_main.c",
        "patchSetId": 2
      },
      "lineNbr": 224,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2021-04-23T19:24:47Z",
      "side": 1,
      "message": "why do we need a synchronous entry? why not unwind EL3 stack entirely and ERET directly to S-EL2?",
      "range": {
        "startLine": 224,
        "startChar": 6,
        "endLine": 224,
        "endChar": 29
      },
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78a2cb83_c98c0194",
        "filename": "services/std_svc/spmd/spmd_main.c",
        "patchSetId": 2
      },
      "lineNbr": 224,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2021-04-29T16:26:30Z",
      "side": 1,
      "message": "I see what you mean but eventually that\u0027s what the synchronous entry is doing, right?\nThe intent is to restore the secure contex from spmd_spm_core_sync_entry, enter the SPMC, and expect an exit through the FFA_NORMAL_WORLD_RESUME SMC dispatched line 724.\nExecution resumes at spmd_spm_core_sync_exit, then line 122, saves the secure context and continues line 225.\nWith a simple eret we miss the secure world restore/save operations.",
      "parentUuid": "666cf08d_bd11ee58",
      "range": {
        "startLine": 224,
        "startChar": 6,
        "endLine": 224,
        "endChar": 29
      },
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8033d77d_73569c39",
        "filename": "services/std_svc/spmd/spmd_main.c",
        "patchSetId": 2
      },
      "lineNbr": 224,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2021-05-04T04:13:48Z",
      "side": 1,
      "message": "Understand. What i\u0027m saying is you can achieve the same effect without the sync entry. Save nwd and restore secure world context in this function and do an eret.\nThe next smc will be nwd_resume and instead of sync exit, you do the restore of non secure context.\nI guess my question is why do you need the sync entry in this case? whta does the sync entry buy you that you cannot do without sync exit/?\ntspd for example does not use synchronous entry for a sel1 interrupt. Not saying we should do that buy i\u0027m trying to understand what do we gain by using a sync entry/exit.",
      "parentUuid": "78a2cb83_c98c0194",
      "range": {
        "startLine": 224,
        "startChar": 6,
        "endLine": 224,
        "endChar": 29
      },
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09d58925_58abe26a",
        "filename": "services/std_svc/spmd/spmd_main.c",
        "patchSetId": 2
      },
      "lineNbr": 224,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2021-09-29T17:57:45Z",
      "side": 1,
      "message": "Any thing to say on this? would be good to understand that rationale behind sync entry/exit.",
      "parentUuid": "8033d77d_73569c39",
      "range": {
        "startLine": 224,
        "startChar": 6,
        "endLine": 224,
        "endChar": 29
      },
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee6e3cc7_2b109d09",
        "filename": "services/std_svc/spmd/spmd_main.c",
        "patchSetId": 2
      },
      "lineNbr": 224,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2021-11-02T16:06:09Z",
      "side": 1,
      "message": "Hi Raghu, let us come back shortly with more details. But from a high level we think there is no added benefit of doing one way or the other (use the sync entry/exit or direct smc/ret). So this is mainly about choosing one method. Are you really concerned with the current choice, if yes, why?",
      "parentUuid": "09d58925_58abe26a",
      "range": {
        "startLine": 224,
        "startChar": 6,
        "endLine": 224,
        "endChar": 29
      },
      "revId": "8d6a952553502ff3070ae6e509c4661f777af47a",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}