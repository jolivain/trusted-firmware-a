{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d9ca00cf_12b61273",
        "filename": "plat/arm/board/fvp/aarch64/fvp_lsp_ras_sp.c",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1000102
      },
      "writtenOn": "2024-01-30T21:15:11Z",
      "side": 1,
      "message": "For your test i assume cactus is running at S-EL1 and it can access erxstatus_el1 register. Does it make sense to move it to test part?",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 74,
        "endChar": 29
      },
      "revId": "00f802436e85a6f3b48c8cca654d6d0626a8f0c6",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31ebb10c_6bdb49dd",
        "filename": "plat/arm/board/fvp/aarch64/fvp_lsp_ras_sp.c",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2024-01-30T23:28:27Z",
      "side": 1,
      "message": "Accessing this register from S-EL1 is leading to a trap to S-EL2 with ESR: 0x2000000\nI looked at the RAS spec but could not find a reason.",
      "parentUuid": "d9ca00cf_12b61273",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 74,
        "endChar": 29
      },
      "revId": "00f802436e85a6f3b48c8cca654d6d0626a8f0c6",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "222df64b_1b2c4db5",
        "filename": "plat/arm/board/fvp/aarch64/fvp_lsp_ras_sp.c",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2024-01-31T14:14:55Z",
      "side": 1,
      "message": "This is because RAS features are trapped to EL2 when accessed from EL1 for secondary VMs/SPs:\nhttps://git.trustedfirmware.org/hafnium/hafnium.git/tree/src/arch/aarch64/hypervisor/vm.c#n51\nhttps://git.trustedfirmware.org/hafnium/hafnium.git/tree/src/arch/aarch64/hypervisor/feature_id.c#n183\n\nI did the exercise of clearing HCR_EL2.TERR\u003d0 and moving lines 66-74 to the cactus RAS command handler and passed the test.\n\nI believe we can keep things as is for now, keeping in mind, this use case could be improved by doing a real delegation of RAS handling to the SP.",
      "parentUuid": "31ebb10c_6bdb49dd",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 74,
        "endChar": 29
      },
      "revId": "00f802436e85a6f3b48c8cca654d6d0626a8f0c6",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d2bf59e8_21c1c6b1",
        "filename": "plat/arm/board/fvp/aarch64/fvp_lsp_ras_sp.c",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2024-01-31T15:58:07Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "222df64b_1b2c4db5",
      "range": {
        "startLine": 62,
        "startChar": 0,
        "endLine": 74,
        "endChar": 29
      },
      "revId": "00f802436e85a6f3b48c8cca654d6d0626a8f0c6",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff4ea539_0a91da63",
        "filename": "plat/arm/board/fvp/aarch64/fvp_lsp_ras_sp.c",
        "patchSetId": 3
      },
      "lineNbr": 77,
      "author": {
        "id": 1000228
      },
      "writtenOn": "2024-01-31T14:14:55Z",
      "side": 1,
      "message": "Mention that for the purpose of testing, this corresponds to the first cactus partition of FF-A ID 0x8001 ?",
      "range": {
        "startLine": 77,
        "startChar": 47,
        "endLine": 77,
        "endChar": 53
      },
      "revId": "00f802436e85a6f3b48c8cca654d6d0626a8f0c6",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "63be458a_47fcbdef",
        "filename": "plat/arm/board/fvp/aarch64/fvp_lsp_ras_sp.c",
        "patchSetId": 3
      },
      "lineNbr": 77,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2024-01-31T15:58:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ff4ea539_0a91da63",
      "range": {
        "startLine": 77,
        "startChar": 47,
        "endLine": 77,
        "endChar": 53
      },
      "revId": "00f802436e85a6f3b48c8cca654d6d0626a8f0c6",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}