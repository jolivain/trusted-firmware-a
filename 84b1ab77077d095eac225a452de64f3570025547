{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ccda8d15_706cc83f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 11,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2022-11-08T07:59:59Z",
      "side": 1,
      "message": "this word should be on next line",
      "range": {
        "startLine": 11,
        "startChar": 64,
        "endLine": 11,
        "endChar": 74
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7cebf7a3_e5bb09d6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 11,
      "author": {
        "id": 1000144
      },
      "writtenOn": "2022-11-08T09:28:23Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ccda8d15_706cc83f",
      "range": {
        "startLine": 11,
        "startChar": 64,
        "endLine": 11,
        "endChar": 74
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0fcb14fe_4b2f4a66",
        "filename": "fdts/stm32mp1-cot-descriptors.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 144,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-02T21:06:09Z",
      "side": 1,
      "message": "Does ST platform use non-volatile counters like Arm platform?  If yes, then we need to move driver [1] to some common place or duplicate this driver code for ST platform.\n\nantirollback-counter in the manifests node above is an optional property, so if ST platforms does not use this counter so I prefer you remove this property from all above nodes along with this non_volatile_counters node.\n\n[1]: https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/plat/arm/common/fconf/fconf_nv_cntr_getter.c",
      "range": {
        "startLine": 144,
        "startChar": 1,
        "endLine": 144,
        "endChar": 42
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a8bdbf3_f47803b4",
        "filename": "fdts/stm32mp1-cot-descriptors.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 144,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2022-11-03T10:11:14Z",
      "side": 1,
      "message": "Hi Manish,\nI think those are there to have antirollback-counter set for certificates, and use it there:\nhttps://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/lib/fconf/fconf_cot_getter.c#n265\n\nBut I\u0027ll let Lionel comment on the details, when he is back on Monday.",
      "parentUuid": "0fcb14fe_4b2f4a66",
      "range": {
        "startLine": 144,
        "startChar": 1,
        "endLine": 144,
        "endChar": 42
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cb5d6631_2d67e90b",
        "filename": "fdts/stm32mp1-cot-descriptors.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 144,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-03T10:40:05Z",
      "side": 1,
      "message": "\u003e I think those are there to have antirollback-counter set for certificates, and use it there:\nhttps://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/lib/fconf/fconf_cot_getter.c#n265\n\nYes, of course! [1] does not require this property to be present in the manifest (it is an optional property). To retrieve the properties of nv-counter node, you still need another driver [1].\n\n[1]: https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/lib/fconf/fconf_cot_getter.c#n265\n[2]: https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/plat/arm/common/fconf/fconf_nv_cntr_getter.c",
      "parentUuid": "0a8bdbf3_f47803b4",
      "range": {
        "startLine": 144,
        "startChar": 1,
        "endLine": 144,
        "endChar": 42
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "49820e14_f0e43af0",
        "filename": "fdts/stm32mp1-cot-descriptors.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 144,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-03T11:24:45Z",
      "side": 1,
      "message": "\u003e To retrieve the properties of nv-counter node, you still need another driver [1].\n\nCorrecting the typo: To retrieve the properties of nv-counter node, you still need another driver [2].",
      "parentUuid": "cb5d6631_2d67e90b",
      "range": {
        "startLine": 144,
        "startChar": 1,
        "endLine": 144,
        "endChar": 42
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eab3b527_3a6f7bb0",
        "filename": "fdts/stm32mp1-cot-descriptors.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 144,
      "author": {
        "id": 1000144
      },
      "writtenOn": "2022-11-07T09:58:09Z",
      "side": 1,
      "message": "Manish, you\u0027re right.\n\nI\u0027ve planned to use the arm implementation but the finally, I\u0027ve quickly used a platform dedicated approach in a first time to fix the anti rollback counter addresses.\nI think, your fconf driver to retrieve the reg address for the counter might by common as it is a trivial reg address set, I\u0027ll be interested to move it to update that.\n\nCurrently, the rollback counter address are defined in the platform specific part [1], by the way, I need the node description to keep the binding of the CoT and use the generic get_oid functionality.\n\nIs it ok for you if I just remove the arm compatible from this node ?\n\n[1]: https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/17181/10/plat/st/common/stm32mp_trusted_boot.c#n172",
      "parentUuid": "49820e14_f0e43af0",
      "range": {
        "startLine": 144,
        "startChar": 1,
        "endLine": 144,
        "endChar": 42
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b752d56_c8da4ce3",
        "filename": "fdts/stm32mp1-cot-descriptors.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 144,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-07T14:39:28Z",
      "side": 1,
      "message": "Hi Lionel, thanks for sharing your intentions behind this change. In the context of nonvolatile counters, IIUC - \n\n1. CoT was used to add a non-volatile counter as an authentication method\n2. However, the NV-counter register information is not part of the device tree and you prefer to retrieve it through a platform-specific method (without needing the device tree).\n\nIt appears that NV-counter information is included in both the device tree and the platform-specific file. Better solution would be to have all NV-counter information in the device tree, which can be accomplished by making the NV-counter driver common in fconf.",
      "parentUuid": "eab3b527_3a6f7bb0",
      "range": {
        "startLine": 144,
        "startChar": 1,
        "endLine": 144,
        "endChar": 42
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20e92271_db1a6c1e",
        "filename": "fdts/stm32mp1-cot-descriptors.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 144,
      "author": {
        "id": 1000144
      },
      "writtenOn": "2022-11-08T09:28:23Z",
      "side": 1,
      "message": "Could it be done in two steps:\n\nFirst: Keep it as described (except the compatible to be removed) to maintain the NV counter references that are described in the device tree. Platform part is just hard coding the nv counter place. The way the auth framework retrieves the NV counter is to use the oid reference that is listed in the DT.\n\nSecond: In a future patchset, move your driver in the generic part and uses in the platform crypto library the FCONF accessor to get the NV counter location.\n\nDoes it make sense for you?",
      "parentUuid": "9b752d56_c8da4ce3",
      "range": {
        "startLine": 144,
        "startChar": 1,
        "endLine": 144,
        "endChar": 42
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7db93140_af45b48a",
        "filename": "fdts/stm32mp1-cot-descriptors.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 144,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-08T09:31:35Z",
      "side": 1,
      "message": "Okay, fine with this approach. Please go ahead and remove the compatible property for now.",
      "parentUuid": "20e92271_db1a6c1e",
      "range": {
        "startLine": 144,
        "startChar": 1,
        "endLine": 144,
        "endChar": 42
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a8d59d4f_2f13844c",
        "filename": "fdts/stm32mp1-cot-descriptors.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 144,
      "author": {
        "id": 1000144
      },
      "writtenOn": "2022-11-08T10:40:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "7db93140_af45b48a",
      "range": {
        "startLine": 144,
        "startChar": 1,
        "endLine": 144,
        "endChar": 42
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3746c8c5_39f54b44",
        "filename": "fdts/stm32mp13-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 80,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-02T21:06:09Z",
      "side": 1,
      "message": "Remove this comment if it is not placeholder.",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 80,
        "endChar": 5
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "40771285_507dee4e",
        "filename": "fdts/stm32mp13-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 80,
      "author": {
        "id": 1000144
      },
      "writtenOn": "2022-11-08T10:40:04Z",
      "side": 1,
      "message": "OK, I\u0027ll remove the comment.",
      "parentUuid": "3746c8c5_39f54b44",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 80,
        "endChar": 5
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e8fc29a_afc3a4e2",
        "filename": "fdts/stm32mp13-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 81,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-02T21:06:09Z",
      "side": 1,
      "message": "Is this typo?",
      "range": {
        "startLine": 81,
        "startChar": 43,
        "endLine": 81,
        "endChar": 53
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "862fe9e2_d952b354",
        "filename": "fdts/stm32mp13-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 81,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-02T21:06:09Z",
      "side": 1,
      "message": "Is this a placeholder or actual heap-address? \nIf it is a placeholder then I don\u0027t think mbedtls_heap_addr property gets written as writing this property is currently part of Arm platform code [1] (part of bl1 code)\n\n[1]: https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/plat/arm/common/arm_dyn_cfg.c#n73",
      "range": {
        "startLine": 81,
        "startChar": 27,
        "endLine": 81,
        "endChar": 37
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ce93672_b233cae4",
        "filename": "fdts/stm32mp13-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 81,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2022-11-03T10:11:14Z",
      "side": 1,
      "message": "On STM32MP13, there is only 128kB of SYSRAM, where we put TF-A. That\u0027s why we need to put MBEDTLS heap in another embedded SRAM: SRAM2 which starts at 0x30004000 and has a size of 8kB.\nThere is then no typo.\nThose values are used in ST code in a previous patch there:\nhttps://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/17181/10/plat/st/common/stm32mp_trusted_boot.c#188",
      "parentUuid": "862fe9e2_d952b354",
      "range": {
        "startLine": 81,
        "startChar": 27,
        "endLine": 81,
        "endChar": 37
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2ab72356_9e0527b3",
        "filename": "fdts/stm32mp13-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 81,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-03T10:25:11Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "2ce93672_b233cae4",
      "range": {
        "startLine": 81,
        "startChar": 27,
        "endLine": 81,
        "endChar": 37
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a1da22a1_b7edd05d",
        "filename": "fdts/stm32mp13-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 81,
      "author": {
        "id": 1000144
      },
      "writtenOn": "2022-11-08T10:40:04Z",
      "side": 1,
      "message": "As mentioned by Yann, no typo issue.",
      "parentUuid": "7e8fc29a_afc3a4e2",
      "range": {
        "startLine": 81,
        "startChar": 43,
        "endLine": 81,
        "endChar": 53
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78773175_cbffa916",
        "filename": "fdts/stm32mp13-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 82,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-02T21:06:09Z",
      "side": 1,
      "message": "Is this typo?",
      "range": {
        "startLine": 82,
        "startChar": 35,
        "endLine": 82,
        "endChar": 45
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39253ef5_180c5c89",
        "filename": "fdts/stm32mp13-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 82,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-02T21:06:09Z",
      "side": 1,
      "message": "ditto",
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "62577670_28438e5e",
        "filename": "fdts/stm32mp13-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 82,
      "author": {
        "id": 1000144
      },
      "writtenOn": "2022-11-08T10:40:04Z",
      "side": 1,
      "message": "Same as previous",
      "parentUuid": "39253ef5_180c5c89",
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0c0f3afe_cae4799f",
        "filename": "fdts/stm32mp13-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 82,
      "author": {
        "id": 1000144
      },
      "writtenOn": "2022-11-08T10:40:04Z",
      "side": 1,
      "message": "No",
      "parentUuid": "78773175_cbffa916",
      "range": {
        "startLine": 82,
        "startChar": 35,
        "endLine": 82,
        "endChar": 45
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6302c748_179b2a1e",
        "filename": "fdts/stm32mp15-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 111,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-02T21:06:09Z",
      "side": 1,
      "message": "Same comments applies here as given in this file: https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/17184/12/fdts/stm32mp13-bl2.dtsi",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 111,
        "endChar": 27
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b71adf5_089adea7",
        "filename": "fdts/stm32mp15-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 111,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2022-11-03T10:11:14Z",
      "side": 1,
      "message": "On STM32MP15, SYSRAM is 256kB, so we do not need to put the MbedTLS heap in a dedicated location.",
      "parentUuid": "6302c748_179b2a1e",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 111,
        "endChar": 27
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6cad56b_6fa32608",
        "filename": "fdts/stm32mp15-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 111,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-03T10:25:11Z",
      "side": 1,
      "message": "Then I wonder why we need these properties. Can we remove these properties from the device tree?",
      "parentUuid": "0b71adf5_089adea7",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 111,
        "endChar": 27
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "47773926_2b8a2803",
        "filename": "fdts/stm32mp15-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 111,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2022-11-03T10:33:01Z",
      "side": 1,
      "message": "Not having that will cause an error in fconf_populate_tbbr_dyn_config(). Maybe those should be optional, but then fconf_populate_tbbr_dyn_config() should be modified accordingly.",
      "parentUuid": "d6cad56b_6fa32608",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 111,
        "endChar": 27
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6a2566c4_c05205e0",
        "filename": "fdts/stm32mp15-bl2.dtsi",
        "patchSetId": 12
      },
      "lineNbr": 111,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2022-11-03T10:43:34Z",
      "side": 1,
      "message": "Ah, that makes sense! We can live with this for now as a placeholder. These properties should be refactored to optional properties in future.",
      "parentUuid": "47773926_2b8a2803",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 111,
        "endChar": 27
      },
      "revId": "84b1ab77077d095eac225a452de64f3570025547",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}