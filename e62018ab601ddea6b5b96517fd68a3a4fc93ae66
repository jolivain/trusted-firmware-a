{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "098c17a7_6e89435b",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 3
      },
      "lineNbr": 634,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2024-02-12T13:44:36Z",
      "side": 1,
      "message": "This should check that other unexpected value are not treated as VALID or ACCEPTED state:\n\n\tif ((data-\u003ebank_state[boot_idx] !\u003d FWU_BANK_STATE_ACCEPTED) \u0026\u0026\n\t    (data-\u003ebank_state[boot_idx] !\u003d FWU_BANK_STATE_VALID)) {",
      "range": {
        "startLine": 634,
        "startChar": 0,
        "endLine": 634,
        "endChar": 61
      },
      "revId": "e62018ab601ddea6b5b96517fd68a3a4fc93ae66",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "813f8f35_af1a0f74",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 3
      },
      "lineNbr": 634,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-02-13T07:27:37Z",
      "side": 1,
      "message": "\u003e This should check that other unexpected value are not treated as VALID or ACCEPTED state:\n\u003e \n\u003e \tif ((data-\u003ebank_state[boot_idx] !\u003d FWU_BANK_STATE_ACCEPTED) \u0026\u0026\n\u003e \t    (data-\u003ebank_state[boot_idx] !\u003d FWU_BANK_STATE_VALID)) {\n\nI can add this change, but this is superfluous. The Update Agent will be setting the bank_state to one of the three possible values(Valid, Invalid or Accepted). And if we are getting bit flips in the storage media, there are bigger things to worry about, which would render the platform bricked ðŸ˜Š. The crc field should also indicate that the metadata is corrupted, and the platform boot should not proceed.",
      "parentUuid": "098c17a7_6e89435b",
      "range": {
        "startLine": 634,
        "startChar": 0,
        "endLine": 634,
        "endChar": 61
      },
      "revId": "e62018ab601ddea6b5b96517fd68a3a4fc93ae66",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5d39ab21_d2c27bcb",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 3
      },
      "lineNbr": 634,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2024-02-19T15:58:16Z",
      "side": 1,
      "message": "Previous gerrit changes shows that TF-A cannot assume the update agent loads valid values in the metadata (see fwu_metadata_sanity_check()). Here, it\u0027s the same scope. We can\u0027t assume the update agent is fully consistent.",
      "parentUuid": "813f8f35_af1a0f74",
      "range": {
        "startLine": 634,
        "startChar": 0,
        "endLine": 634,
        "endChar": 61
      },
      "revId": "e62018ab601ddea6b5b96517fd68a3a4fc93ae66",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef7e06c7_e64b6d4d",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 3
      },
      "lineNbr": 638,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2024-02-12T13:44:36Z",
      "side": 1,
      "message": "\u0027goto\u0027 instruction not needed.",
      "range": {
        "startLine": 638,
        "startChar": 0,
        "endLine": 638,
        "endChar": 12
      },
      "revId": "e62018ab601ddea6b5b96517fd68a3a4fc93ae66",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd0b748f_600146f9",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 3
      },
      "lineNbr": 638,
      "author": {
        "id": 1000661
      },
      "writtenOn": "2024-02-13T07:27:37Z",
      "side": 1,
      "message": "\u003e \u0027goto\u0027 instruction not needed.\n\nYes, this is a remnant from an earlier logic which I changed as part of earlier reviews.",
      "parentUuid": "ef7e06c7_e64b6d4d",
      "range": {
        "startLine": 638,
        "startChar": 0,
        "endLine": 638,
        "endChar": 12
      },
      "revId": "e62018ab601ddea6b5b96517fd68a3a4fc93ae66",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "13d54847_1876dbfa",
        "filename": "plat/st/common/bl2_io_storage.c",
        "patchSetId": 3
      },
      "lineNbr": 638,
      "author": {
        "id": 1000269
      },
      "writtenOn": "2024-02-19T15:58:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dd0b748f_600146f9",
      "range": {
        "startLine": 638,
        "startChar": 0,
        "endLine": 638,
        "endChar": 12
      },
      "revId": "e62018ab601ddea6b5b96517fd68a3a4fc93ae66",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}