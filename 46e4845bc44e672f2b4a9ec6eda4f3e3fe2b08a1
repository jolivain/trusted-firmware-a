{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a32db884_1aa87bb1",
        "filename": "include/plat/arm/common/arm_def.h",
        "patchSetId": 6
      },
      "lineNbr": 37,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-10-09T14:00:15Z",
      "side": 1,
      "message": "I have a doubt about this else condition... Let me try to explain what I have in mind.\n\nTF_MBEDTLS_KEY_ALG_ID indicates which key algorithms TF-A supports. This drives which options we enable in mbedTLS config file (see [1] for example).\n\nThere are 3 options right now:\n* TF-A only supports RSA keys (TF_MBEDTLS_KEY_ALG_ID \u003d\u003d TF_MBEDTLS_RSA).\n* TF-A only supports ECDSA keys (TF_MBEDTLS_KEY_ALG_ID \u003d\u003d TF_MBEDTLS_ECDSA).\n* TF-A only supports both RSA and ECDSA keys (TF_MBEDTLS_KEY_ALG_ID \u003d\u003d TF_MBEDTLS_RSA_AND_ECDSA).\n\nThe first 2 cases are straight-forward. All keys, including the ROTPK, are of the same algorithm.\n\nHowever, in the last case, I think (and please correct me if I am wrong) that we might have a situation where we\u0027ve got an ECDSA ROTPK alongside with RSA subsidiary keys. In that case, we\u0027d define ARM_ROTPK_KEY_LEN to 294 bits, when it should be 120/91 bits depending on the exact variant.\n\nThis makes me think that basing this preprocessor condition on the value of the TF_MBEDTLS_KEY_ALG_ID macro might not be what we want. What we really want to know here is the ROTPK algorithm and as stated above TF_MBEDTLS_KEY_ALG_ID does not necessarily gives us this information.\n\nI think we\u0027d rather base this preprocessor condition on ARM_ROTPK_LOCATION_ID.\n\n[1] https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/include/drivers/auth/mbedtls/mbedtls_config-3.h#n62",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 37,
        "endChar": 6
      },
      "revId": "46e4845bc44e672f2b4a9ec6eda4f3e3fe2b08a1",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a409500_3d738192",
        "filename": "include/plat/arm/common/arm_def.h",
        "patchSetId": 6
      },
      "lineNbr": 37,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2023-10-11T12:56:33Z",
      "side": 1,
      "message": "Hi Lauren, \nIIUC, the ARM_ROTPK_KEY_LEN is primarily utilized in *.S files to verify the length of the statically defined ROTPK within those files. Besides this, I haven\u0027t identified any other use for it. I\u0027m inclined to suggest that we can safely remove this definition, as it doesn\u0027t appear to be crucial in terms of usage or am I missing something?",
      "parentUuid": "a32db884_1aa87bb1",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 37,
        "endChar": 6
      },
      "revId": "46e4845bc44e672f2b4a9ec6eda4f3e3fe2b08a1",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}