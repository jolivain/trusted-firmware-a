{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ef36f020_43cbd449",
        "filename": "plat/st/stm32mp1/bl2_plat_setup.c",
        "patchSetId": 1
      },
      "lineNbr": 346,
      "author": {
        "id": 1000120
      },
      "writtenOn": "2021-07-26T07:20:16Z",
      "side": 1,
      "message": "How about just breaking in case parse_optee_header() fails instead? What difference does this check to compared to that?",
      "revId": "1e4b0ca9fc62795f52853e05a9f330c7bcf49061",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "47cf7fd1_309e6324",
        "filename": "plat/st/stm32mp1/bl2_plat_setup.c",
        "patchSetId": 1
      },
      "lineNbr": 346,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2021-08-10T13:18:59Z",
      "side": 1,
      "message": "Hi Jens, thanks for your review. We\u0027ve checked on our side with Etienne.\nparse_optee_header() does not fail when the image is not an optee header (tee-header_v2.bin). The function currently returns 0 (success) when the image is NOT an optee header OR when it IS a valid header. It returns an error status (!\u003d0) only when the image looks like a valid header but provides information conflicting BL2 configuration (i.e. a load address not in secure RAM). Existing platforms may use this behavior to load/boot OP-TEE executable image (tee.bin) instead of OP-TEE multi image (tee-header_v2.bin + other tee-xxx_v2.bin).\n\nTherefore the change that exports tee_validate_header() helper function from lib/optee/optee_utils.c for the sole purpose of telling whether the image is or not an OP-TEE header.",
      "parentUuid": "ef36f020_43cbd449",
      "revId": "1e4b0ca9fc62795f52853e05a9f330c7bcf49061",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3fd04e76_d9896668",
        "filename": "plat/st/stm32mp1/bl2_plat_setup.c",
        "patchSetId": 1
      },
      "lineNbr": 346,
      "author": {
        "id": 1000120
      },
      "writtenOn": "2021-08-18T06:19:32Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "47cf7fd1_309e6324",
      "revId": "1e4b0ca9fc62795f52853e05a9f330c7bcf49061",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}