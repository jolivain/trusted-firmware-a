{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "92c8228e_b2d862be",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2021-04-09T02:15:55Z",
      "side": 1,
      "message": "I think the length of the message body needs to be reduced to fix the weird wrapping on gerrit.",
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bddf8c2d_c1424df7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 1000438
      },
      "writtenOn": "2021-04-09T17:37:27Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "92c8228e_b2d862be",
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0ce9941_05718a0b",
        "filename": "include/plat/common/platform.h",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2021-04-09T02:15:55Z",
      "side": 1,
      "message": "Why was this changed?",
      "range": {
        "startLine": 2,
        "startChar": 25,
        "endLine": 2,
        "endChar": 26
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed58be4b_9c6fc08a",
        "filename": "include/plat/common/platform.h",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1000438
      },
      "writtenOn": "2021-04-09T17:37:27Z",
      "side": 1,
      "message": "well, rebase was not done right. Will fix it. Thanks",
      "parentUuid": "f0ce9941_05718a0b",
      "range": {
        "startLine": 2,
        "startChar": 25,
        "endLine": 2,
        "endChar": 26
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b6d26cc_1b136554",
        "filename": "plat/arm/board/fvp/fvp_common.c",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2021-04-09T02:15:55Z",
      "side": 1,
      "message": "Why was this changed?",
      "range": {
        "startLine": 2,
        "startChar": 25,
        "endLine": 2,
        "endChar": 26
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d466e4e8_7aa72f28",
        "filename": "plat/arm/board/fvp/fvp_common.c",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1000438
      },
      "writtenOn": "2021-04-09T17:37:27Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6b6d26cc_1b136554",
      "range": {
        "startLine": 2,
        "startChar": 25,
        "endLine": 2,
        "endChar": 26
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4be116b6_117f909e",
        "filename": "plat/arm/css/sgi/sgi_plat.c",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2021-04-09T02:15:55Z",
      "side": 1,
      "message": "Why was this changed?",
      "range": {
        "startLine": 2,
        "startChar": 25,
        "endLine": 2,
        "endChar": 26
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ec77a376_69167d1f",
        "filename": "plat/arm/css/sgi/sgi_plat.c",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1000438
      },
      "writtenOn": "2021-04-09T17:37:27Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4be116b6_117f909e",
      "range": {
        "startLine": 2,
        "startChar": 25,
        "endLine": 2,
        "endChar": 26
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "481921ce_5f309d71",
        "filename": "services/std_svc/spm_mm/spm_mm_setup.c",
        "patchSetId": 2
      },
      "lineNbr": 210,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2021-04-09T02:15:55Z",
      "side": 1,
      "message": "IIUC \u0027sp_boot_info\u0027 contains the same information. Sorry, I didnt realize this earlier, but can we move this statement to the start of the function and then use \u0027sp_boot_info\u0027 member variables? If yes, we wont need the platform callback functions.",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 210,
        "endChar": 45
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "410d18c0_bdb99751",
        "filename": "services/std_svc/spm_mm/spm_mm_setup.c",
        "patchSetId": 2
      },
      "lineNbr": 210,
      "author": {
        "id": 1000438
      },
      "writtenOn": "2021-04-09T17:37:27Z",
      "side": 1,
      "message": "My understanding of code flow, sp_boot_info is passed to and consumed by SP. So spm_mm_setup function is first setting up context, page tables with memory regions and then calling for SP boot info which has this mem regions. So hence they have done it this way. Let me know if you think otherwise.",
      "parentUuid": "481921ce_5f309d71",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 210,
        "endChar": 45
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a6170083_a1d25819",
        "filename": "services/std_svc/spm_mm/spm_mm_setup.c",
        "patchSetId": 2
      },
      "lineNbr": 210,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2021-04-09T19:25:33Z",
      "side": 1,
      "message": "I dont think the memmap should affect the return value from plat_get_secure_partition_boot_info. This platform handler only returns a static configuration. The newly introduced platform handlers return the same values IIUC. I beleive if we call plat_get_secure_partition_boot_info() earlier, then we can use sp_boot_info member variables and can remove the usage of PLAT_SPM* macros from this function.",
      "parentUuid": "410d18c0_bdb99751",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 210,
        "endChar": 45
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9525b92_599f2c10",
        "filename": "services/std_svc/spm_mm/spm_mm_setup.c",
        "patchSetId": 2
      },
      "lineNbr": 210,
      "author": {
        "id": 1000438
      },
      "writtenOn": "2021-04-09T20:50:00Z",
      "side": 1,
      "message": "Well, thats not what I meant. I am talking about the flow which original code has adopted. The change which you are suggesting should have worked before new platform handlers were introduced too. But I think they chose to not do it that way because of the reason specified in my first comment.",
      "parentUuid": "a6170083_a1d25819",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 210,
        "endChar": 45
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19e6bbf6_4400d220",
        "filename": "services/std_svc/spm_mm/spm_mm_setup.c",
        "patchSetId": 2
      },
      "lineNbr": 210,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2021-04-09T21:58:44Z",
      "side": 1,
      "message": "I think that cleanup can be done as part of a separate patch. This patch is easy to review the way it is and a follow up patch could do what Varun is asking.",
      "parentUuid": "f9525b92_599f2c10",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 210,
        "endChar": 45
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "350cc15f_8d7436b6",
        "filename": "services/std_svc/spm_mm/spm_mm_setup.c",
        "patchSetId": 2
      },
      "lineNbr": 210,
      "author": {
        "id": 1000162
      },
      "writtenOn": "2021-04-09T22:21:31Z",
      "side": 1,
      "message": "I dont agree with your reasoning, Raghu and Mayur. My ask is simple, plat_get_secure_partition_boot_info() returns the same information as the newly added platform handlers. I dont see a need for these new platform handlers as we can use the member variables from sp_boot_info to achieve the same outcome.\n\nI dont see why it matters if we set the pagetables before or after a call to plat_get_secure_partition_boot_info()? This function only returns static information that will not change if the MMU is disabled/enabled.\n\nI think the original code should have used this approach.",
      "parentUuid": "19e6bbf6_4400d220",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 210,
        "endChar": 45
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "64064476_6551fc50",
        "filename": "services/std_svc/spm_mm/spm_mm_setup.c",
        "patchSetId": 2
      },
      "lineNbr": 210,
      "author": {
        "id": 1000438
      },
      "writtenOn": "2021-04-10T12:43:15Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "350cc15f_8d7436b6",
      "range": {
        "startLine": 209,
        "startChar": 0,
        "endLine": 210,
        "endChar": 45
      },
      "revId": "5106522c7dd5dd792d8e9ef51ccf7f7789812437",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}