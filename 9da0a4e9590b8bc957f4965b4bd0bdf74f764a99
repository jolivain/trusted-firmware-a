{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c80ce2db_7ce83127",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000328
      },
      "writtenOn": "2024-08-12T13:32:43Z",
      "side": 1,
      "message": "Hi Yann,\n\nThe FW config is primarily used for managing configuration Device Tree (DT) files across various firmware components. It should include the following:\n\nTB_FW_CONFIG: To be utilized by BL2.\nNT_FW_CONFIG: To be utilized by BL33.\nHW_CONFIG: To be securely used by BL31, and by BL33 through non-secure memory.\nTOS_FW_CONFIG: To be utilized by BL32.\n\nIdeally, this configuration should not contain details about the firmware to be loaded. If the device trees are already embedded within the firmware, explicit entries are unnecessary, as these DTs are part of the firmware and will be loaded by BL2 using memory descriptors. The primary purpose of FW_CONFIG is to provide a dynamic capability to load firmware configurations at the desired location.\n\nI saw from your patch that it is basically using FW_CONFIG DT to load the firmware by providing its load address. See how Arm FVP platform uses here [1].\n\nThis makes me think that on the ST platform, you\u0027ve chosen not to load BL32 and BL33 at fixed addresses. Please correct me if I\u0027m mistaken.\n\n\n[1]: https://review.trustedfirmware.org/plugins/gitiles/TF-A/trusted-firmware-a/+/refs/heads/master/plat/arm/board/fvp/fdts/fvp_fw_config.dts",
      "revId": "9da0a4e9590b8bc957f4965b4bd0bdf74f764a99",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e5ceb31_fb975179",
        "filename": "fdts/stm32mp25-fw-config.dtsi",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2024-08-09T17:55:32Z",
      "side": 1,
      "message": "shouldn\u0027t it be NT_FW_CONFIG_ID?",
      "range": {
        "startLine": 25,
        "startChar": 9,
        "endLine": 25,
        "endChar": 22
      },
      "revId": "9da0a4e9590b8bc957f4965b4bd0bdf74f764a99",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94dcc577_51c33d87",
        "filename": "fdts/stm32mp25-fw-config.dtsi",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2024-08-12T07:19:05Z",
      "side": 1,
      "message": "From what I understand, NT_FW_CONFIG_ID is for the config for Non-trusted firmware, not the firmware. The non-trusted firmware is U-Boot in our case, and its config would be U-Boot device tree. But we already use hw-config for this.",
      "parentUuid": "1e5ceb31_fb975179",
      "range": {
        "startLine": 25,
        "startChar": 9,
        "endLine": 25,
        "endChar": 22
      },
      "revId": "9da0a4e9590b8bc957f4965b4bd0bdf74f764a99",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d44b4435_96a5c5cf",
        "filename": "fdts/stm32mp25-fw-config.dtsi",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2024-08-09T17:55:32Z",
      "side": 1,
      "message": "TOS_FW_CONFIG_ID?",
      "range": {
        "startLine": 29,
        "startChar": 9,
        "endLine": 29,
        "endChar": 22
      },
      "revId": "9da0a4e9590b8bc957f4965b4bd0bdf74f764a99",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc20ffb5_c2836cc9",
        "filename": "fdts/stm32mp25-fw-config.dtsi",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1000103
      },
      "writtenOn": "2024-08-12T07:19:05Z",
      "side": 1,
      "message": "Same kind of thing here. TOS_FW_CONFIG_ID would be OP-TEE device tree for our use-case. But it is not possible (yet?) to load a separate DT for OP-TEE. The DT is embedded into OP-TEE binary.",
      "parentUuid": "d44b4435_96a5c5cf",
      "range": {
        "startLine": 29,
        "startChar": 9,
        "endLine": 29,
        "endChar": 22
      },
      "revId": "9da0a4e9590b8bc957f4965b4bd0bdf74f764a99",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}