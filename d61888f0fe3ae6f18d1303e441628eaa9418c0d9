{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9e08ecbf_05e56af2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000469
      },
      "writtenOn": "2023-09-27T08:31:11Z",
      "side": 1,
      "message": "I would expect also changes in struct console in include/drivers/console.h where link to getc is placed. And that would also find issue with drivers/arm/dcc/dcc_console.c and plat/socionext/uniphier/uniphier_console_setup.c which also define it.",
      "revId": "d61888f0fe3ae6f18d1303e441628eaa9418c0d9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b5e9d49_761b865f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-09-28T13:02:13Z",
      "side": 1,
      "message": "\u003e I would expect also changes in struct console in include/drivers/console.h where link to getc is placed.\n\nI was actually planning to leave the getc function pointer within the console structure, just set it to NULL when ENABLE_CONSOLE_GETC\u003d0. I admit this function pointer would be useless / would only take up space (although we\u0027re talking about 4 bytes only, a few more if the platform registers several console drivers), but my original intent was to change the multi-console framework as little as possible. Also, if we go with your suggestion then the console structure layout will differ across firmware builds (depending on whether getc is enabled/disabled), which could be undesirable in some cases.\n\n\u003e And that would also find issue with drivers/arm/dcc/dcc_console.c and plat/socionext/uniphier/uniphier_console_setup.c which also define it.\n\nOh right, I only took care of the console drivers which registered with the multi-console framework through the finish_console_register() asm macro and I overlooked  those which do it through the console_register() function. Thanks for pointing this out, I\u0027ll take care of these in the next version of the patch.\n\nYou\u0027re right that I would have caught this if I had removed the getc function pointer from the console structure. I\u0027ll explore this more.",
      "parentUuid": "9e08ecbf_05e56af2",
      "revId": "d61888f0fe3ae6f18d1303e441628eaa9418c0d9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ef505ff_602d227b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-09-28T13:02:13Z",
      "side": 1,
      "message": "Thank you both for the reviews!",
      "revId": "d61888f0fe3ae6f18d1303e441628eaa9418c0d9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23700cbe_930fcb0c",
        "filename": "include/arch/aarch64/console_macros.S",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1000060
      },
      "writtenOn": "2023-09-27T21:05:53Z",
      "side": 1,
      "message": "nit: why not just put the\n```\n#if !ENABLE_CONSOLE_GETC\n.error ...\n#endif\n```\nin here?",
      "revId": "d61888f0fe3ae6f18d1303e441628eaa9418c0d9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff480d39_46730027",
        "filename": "include/arch/aarch64/console_macros.S",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-09-28T13:02:13Z",
      "side": 1,
      "message": "Ack. I agree that should work too and would be a bit more concise. I\u0027ll incorporate this change in the next version.",
      "parentUuid": "23700cbe_930fcb0c",
      "revId": "d61888f0fe3ae6f18d1303e441628eaa9418c0d9",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}