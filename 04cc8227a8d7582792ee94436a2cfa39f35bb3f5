{
  "comments": [
    {
      "key": {
        "uuid": "742a9dc2_b6193372",
        "filename": "plat/arm/board/arm_fpga/aarch64/fpga_helpers.S",
        "patchSetId": 7
      },
      "lineNbr": 52,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2020-02-21T10:50:00Z",
      "side": 1,
      "message": "The comment on function fpga_cpu_standby@fpga_pm.c (line 65) states that it is good practice to add a dsb instruction before wfe. Shouldn\u0027t the same apply here?\nI would assume that on a cold boot that wouldn\u0027t be necessary, but have we double checked, just in case?",
      "range": {
        "startLine": 52,
        "startChar": 1,
        "endLine": 52,
        "endChar": 4
      },
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "176c4eec_ee6b8b2b",
        "filename": "plat/arm/board/arm_fpga/aarch64/fpga_helpers.S",
        "patchSetId": 7
      },
      "lineNbr": 52,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2020-03-06T15:26:24Z",
      "side": 1,
      "message": "I am not sure if there are any dependencies on previous contexts, as the wfe state is the very earliest state the secondary CPUs are placed in",
      "parentUuid": "742a9dc2_b6193372",
      "range": {
        "startLine": 52,
        "startChar": 1,
        "endLine": 52,
        "endChar": 4
      },
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49d60521_d6a2688c",
        "filename": "plat/arm/board/arm_fpga/aarch64/fpga_helpers.S",
        "patchSetId": 7
      },
      "lineNbr": 52,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2020-03-11T15:12:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "176c4eec_ee6b8b2b",
      "range": {
        "startLine": 52,
        "startChar": 1,
        "endLine": 52,
        "endChar": 4
      },
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8183f352_6358ae87",
        "filename": "plat/arm/board/arm_fpga/fpga_pm.c",
        "patchSetId": 7
      },
      "lineNbr": 48,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2020-02-26T00:45:38Z",
      "side": 1,
      "message": "I believe the contents of hold_base needs to be flushed to main memory.",
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c79ff4db_67c29d48",
        "filename": "plat/arm/board/arm_fpga/fpga_pm.c",
        "patchSetId": 7
      },
      "lineNbr": 48,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2020-03-06T15:26:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8183f352_6358ae87",
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a2953fc1_598c1116",
        "filename": "plat/arm/board/arm_fpga/fpga_pm.c",
        "patchSetId": 7
      },
      "lineNbr": 55,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2020-02-21T10:50:00Z",
      "side": 1,
      "message": "Shouldn\u0027t we add a dsb instruction here before entering the while loop?",
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7dc0604f_fbe10a99",
        "filename": "plat/arm/board/arm_fpga/fpga_pm.c",
        "patchSetId": 7
      },
      "lineNbr": 55,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2020-03-06T15:26:24Z",
      "side": 1,
      "message": "I seem to recall the recommendation being specific to where wfi() is used for the sleep mode, where the CPU can be expected to return and continue execution from a previous program context, and dsb preserves this state by guaranteeing all instructions have completed before proceeding\n\nWhereas this power off handler is somewhat of a placeholder that mimicks the off mode by placing the CPU in a permanent low-power state from which it will never return, and any context information that is lost to hardware optimization shouldn\u0027t matter, so I am not sure this is necessary",
      "parentUuid": "a2953fc1_598c1116",
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64c36330_67f61b21",
        "filename": "plat/arm/board/arm_fpga/fpga_pm.c",
        "patchSetId": 7
      },
      "lineNbr": 55,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2020-03-09T17:29:05Z",
      "side": 1,
      "message": "I too think dsb is not needed here.",
      "parentUuid": "7dc0604f_fbe10a99",
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e442a35_db88dea5",
        "filename": "plat/arm/board/arm_fpga/fpga_pm.c",
        "patchSetId": 7
      },
      "lineNbr": 55,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2020-03-11T15:12:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "64c36330_67f61b21",
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aa1c03ac_520f54a0",
        "filename": "plat/arm/board/arm_fpga/fpga_pm.c",
        "patchSetId": 7
      },
      "lineNbr": 68,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2020-02-26T00:45:38Z",
      "side": 1,
      "message": "Please make sure the Physical IRQ routing is enabled. \n\nu_register_t scr \u003d read_scr_el3();\nwrite_scr_el3(scr|SCR_IRQ_BIT);\ndsb();\nwfi();\nwrite_scr_el3(scr);",
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f076c99e_61ef2378",
        "filename": "plat/arm/board/arm_fpga/fpga_pm.c",
        "patchSetId": 7
      },
      "lineNbr": 68,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2020-03-06T15:26:24Z",
      "side": 1,
      "message": "I added isb() as well after changing scr, not sure if this is necessary?",
      "parentUuid": "aa1c03ac_520f54a0",
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7cfada2_b9e6e9cd",
        "filename": "plat/arm/board/arm_fpga/fpga_pm.c",
        "patchSetId": 7
      },
      "lineNbr": 68,
      "author": {
        "id": 1000098
      },
      "writtenOn": "2020-03-09T17:29:05Z",
      "side": 1,
      "message": "I believe isb is not needed here.",
      "parentUuid": "f076c99e_61ef2378",
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ccc7c4e_ab077f56",
        "filename": "plat/arm/board/arm_fpga/fpga_pm.c",
        "patchSetId": 7
      },
      "lineNbr": 68,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2020-03-23T18:01:30Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c7cfada2_b9e6e9cd",
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "91b33a84_4921db5c",
        "filename": "plat/arm/board/arm_fpga/fpga_topology.c",
        "patchSetId": 7
      },
      "lineNbr": 52,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2020-02-21T10:50:00Z",
      "side": 1,
      "message": "Wouldn\u0027t it be possible to refactor this a little bit? The assignments to cpu_id and cluster_id seem to be common to both branches.",
      "range": {
        "startLine": 44,
        "startChar": 1,
        "endLine": 52,
        "endChar": 2
      },
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c744143_77ea8de6",
        "filename": "plat/arm/board/arm_fpga/fpga_topology.c",
        "patchSetId": 7
      },
      "lineNbr": 52,
      "author": {
        "id": 1000262
      },
      "writtenOn": "2020-03-06T15:26:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91b33a84_4921db5c",
      "range": {
        "startLine": 44,
        "startChar": 1,
        "endLine": 52,
        "endChar": 2
      },
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b9e318f_8f036d08",
        "filename": "plat/arm/board/arm_fpga/fpga_topology.c",
        "patchSetId": 7
      },
      "lineNbr": 52,
      "author": {
        "id": 1000298
      },
      "writtenOn": "2020-03-11T15:12:22Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4c744143_77ea8de6",
      "range": {
        "startLine": 44,
        "startChar": 1,
        "endLine": 52,
        "endChar": 2
      },
      "revId": "04cc8227a8d7582792ee94436a2cfa39f35bb3f5",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": false
    }
  ]
}