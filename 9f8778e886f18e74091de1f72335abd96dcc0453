{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "38d8352f_df8721f6",
        "filename": "plat/allwinner/common/include/platform_def.h",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2021-07-22T10:44:29Z",
      "side": 1,
      "message": "So that brings especially the tight A64 build closer to its limit. Do we actually need to map all of this large SRAM?\nAnd are there other supposed users for this memory? DE/VE? Maybe we should at least logically partition this, to just take 128K or 256K for TF-A?",
      "revId": "9f8778e886f18e74091de1f72335abd96dcc0453",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f22fa119_54c2a184",
        "filename": "plat/allwinner/common/include/platform_def.h",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1000126
      },
      "writtenOn": "2021-07-25T13:16:06Z",
      "side": 1,
      "message": "Agreed, we should only map what we need to use. (Not just for code size, but also to prevent EL3 from interfering with other ELs, similar to PAN.)",
      "parentUuid": "38d8352f_df8721f6",
      "revId": "9f8778e886f18e74091de1f72335abd96dcc0453",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14052eea_1c95684f",
        "filename": "plat/allwinner/common/include/platform_def.h",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1000671
      },
      "writtenOn": "2021-07-25T16:18:38Z",
      "side": 1,
      "message": "Well, to be honest, I agree to only map a part.\n\nI think the SRAM is originally for the DSP, but we have nearly no possibility to use the DSP, because its development toolchain needs a NDA with Tensilica.\n\nIt might be possible to let the AIPU (NN accelerator, an IP from ARM China, and as I know ARM China is willing to be more open on it) use the SRAM.\n\nFor a partition, maybe 64K for SPL and 64K for ATF? (64K for SPL should be enough for a long time, but is 64K for ATF too tight? The partition is based on the user manual lists SRAM A2 size as 2*64K + 27*64K.)",
      "parentUuid": "f22fa119_54c2a184",
      "revId": "9f8778e886f18e74091de1f72335abd96dcc0453",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f84b2320_f23cc0ec",
        "filename": "plat/allwinner/common/include/platform_def.h",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1000118
      },
      "writtenOn": "2021-07-31T00:10:09Z",
      "side": 1,
      "message": "So for now I think 64K for BL31 should be fine, the A64 is limited to 48K (64K SRAM A2 - 16K SCP), so we have some space left. And we won\u0027t need SCP support in BL31, so even less code compared to the A64.\n\nWould the accelerators take their SRAM addresses from the DT? Then we could actually adjust this later, should we ever need to grow BL31 beyond 64K.\n\nSo to summarise: the BROM loads eGON/TOC0 into the SRAM at 0x100000? And BL31 should then be loaded to 0x110000, with a limit at 0x120000? And everything beyond that belongs to the accelerators?",
      "parentUuid": "14052eea_1c95684f",
      "revId": "9f8778e886f18e74091de1f72335abd96dcc0453",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}