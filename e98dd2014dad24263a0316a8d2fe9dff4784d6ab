{
  "comments": [
    {
      "key": {
        "uuid": "a4d54402_af3e9735",
        "filename": "plat/marvell/a8k/common/plat_pm.c",
        "patchSetId": 2
      },
      "lineNbr": 91,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-07-09T09:28:10Z",
      "side": 1,
      "message": "PWRC_CPUN_CR_PWR_DN_RQ_OFFSET is either 0 or 1 so there\u0027s no risk of overflow here, is there?",
      "range": {
        "startLine": 90,
        "startChar": 0,
        "endLine": 91,
        "endChar": 42
      },
      "revId": "e98dd2014dad24263a0316a8d2fe9dff4784d6ab",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d5ea485_1dd1c481",
        "filename": "plat/marvell/a8k/common/plat_pm.c",
        "patchSetId": 2
      },
      "lineNbr": 94,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-07-09T09:28:10Z",
      "side": 1,
      "message": "Same comment here, PWRC_CPUN_CR_ISO_ENABLE_OFFSET is 16 so (0x1 \u003c\u003c 16) was fine, wasn\u0027t it?",
      "range": {
        "startLine": 93,
        "startChar": 0,
        "endLine": 94,
        "endChar": 43
      },
      "revId": "e98dd2014dad24263a0316a8d2fe9dff4784d6ab",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f1f4be10_0f863f2e",
        "filename": "plat/marvell/a8k/common/plat_pm.c",
        "patchSetId": 2
      },
      "lineNbr": 94,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-07-09T10:05:44Z",
      "side": 1,
      "message": "It might be worth fixing this anyway, because MISRA requires the values to be unsigned. Also this will help us to enable the compiler flag by default.",
      "parentUuid": "1d5ea485_1dd1c481",
      "range": {
        "startLine": 93,
        "startChar": 0,
        "endLine": 94,
        "endChar": 43
      },
      "revId": "e98dd2014dad24263a0316a8d2fe9dff4784d6ab",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e787388_4d64769c",
        "filename": "plat/marvell/a8k/common/plat_pm.c",
        "patchSetId": 2
      },
      "lineNbr": 94,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-07-09T10:58:58Z",
      "side": 1,
      "message": "But then I would like to understand the scope of the changes here. There are lots of places throughout the code base where we shift signed values, a lot more than this patch stack attempts to fix. IIUC, MISRA would require all of the left operands to be unsigned, right? I thought the criteria in this patch stack was to fix only those shifts that actually trigger a C undefined behaviour (where the sign bit is pushed out of the value). Did I misunderstand? If not, how does line 94 constitute an undefined behaviour? Was the compiler complaining about this line?",
      "parentUuid": "f1f4be10_0f863f2e",
      "range": {
        "startLine": 93,
        "startChar": 0,
        "endLine": 94,
        "endChar": 43
      },
      "revId": "e98dd2014dad24263a0316a8d2fe9dff4784d6ab",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2bba6981_4ded7d89",
        "filename": "plat/marvell/a8k/common/plat_pm.c",
        "patchSetId": 2
      },
      "lineNbr": 94,
      "author": {
        "id": 1000056
      },
      "writtenOn": "2019-07-10T13:54:43Z",
      "side": 1,
      "message": "I assume these fixes are errors flagged by the compiler. I had a further look at the usage of the macro \"PWRC_CPUN_CR_ISO_ENABLE_MASK\" and there is a usage of this macro like this :\n\nreg_val \u0026\u003d ~PWRC_CPUN_CR_ISO_ENABLE_MASK;\n\nNow negation of a signed number doesn\u0027t look correct to me (I guess it depends whether negation property is utilized to relate to the 2\u0027s complement form or not) and perhaps that is why the compiler has chosen to flag this up and not other such macros in the file.",
      "parentUuid": "4e787388_4d64769c",
      "range": {
        "startLine": 93,
        "startChar": 0,
        "endLine": 94,
        "endChar": 43
      },
      "revId": "e98dd2014dad24263a0316a8d2fe9dff4784d6ab",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    }
  ]
}