{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "796f0574_0b44c165",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-01-03T14:49:04Z",
      "side": 1,
      "message": "Resolving typos and quick fixes for now.\nWill return to on-going discussions in next few days.",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f4e9e5d_73dbe967",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1167,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "legitimately",
      "range": {
        "startLine": 1167,
        "startChar": 45,
        "endLine": 1167,
        "endChar": 53
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "acf698e1_971e087e",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1167,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-01-03T14:49:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6f4e9e5d_73dbe967",
      "range": {
        "startLine": 1167,
        "startChar": 45,
        "endLine": 1167,
        "endChar": 53
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1783cd21_d98758e8",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1184,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "impact is very high to have DOS on server systems. Availability is much more important on server systems than on mobile devices, because on mobile devices you could simply \"pcoket restart\" to fix issues. Doing so in servers is extremely costly.\nThe impact has to be high for this.",
      "range": {
        "startLine": 1184,
        "startChar": 27,
        "endLine": 1184,
        "endChar": 34
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6bcb9a1b_82b1ec62",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1184,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-02-01T12:03:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1783cd21_d98758e8",
      "range": {
        "startLine": 1184,
        "startChar": 27,
        "endLine": 1184,
        "endChar": 34
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c55330db_af2eb0a2",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1186,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "likelihood should be high. this is very easy to do. from the SPMC threat model perspective, NS world is entirely untrusted, so a malicious hypervisor can mount this DOS attack very easily.",
      "range": {
        "startLine": 1186,
        "startChar": 27,
        "endLine": 1186,
        "endChar": 37
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "242b048f_7355e1da",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1186,
      "author": {
        "id": 1000935
      },
      "writtenOn": "2023-01-01T23:53:24Z",
      "side": 1,
      "message": "Under what threat models are DoS attacks by the NS hypervisor worth guarding against?  The NS world can typically reboot the system anyway, and I believe at least OP-TEE relies on the NS world for scheduling.  The only use-case I can think of where this has a nonzero severity is if a cloud provider is hosting their management software in the secure world and needs it to keep running no matter what the non-secure world does.  Such software should not be relying on shared memory with the NS world anyway.\n\nPersonally, I am much more concerned with DoS attacks by a secure partition.  Secure-world hypervisors should be able to protect themselves and the normal world from such attacks.",
      "parentUuid": "c55330db_af2eb0a2",
      "range": {
        "startLine": 1186,
        "startChar": 27,
        "endLine": 1186,
        "endChar": 37
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c642ef9_89315842",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1186,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-01-02T16:44:37Z",
      "side": 1,
      "message": "\u003e\u003eif a cloud provider is hosting their management software in the secure world and needs it to keep running no matter what the non-secure world does\n[RK] This is one the usage models and is very common.\n\n\u003e\u003eSuch software should not be relying on shared memory with the NS world anyway.\n[RK] Yes, that would be one way to solve it. In practice, that is a lot harder to do. My comment is saying that in practice, not having any communication with NWd is not practical, so this threat exists and the likelihood should be marked as such to inform readers that a mitigation does not exist, today.\n\n\u003e\u003e I am much more concerned with DoS attacks by a secure partition\n[RK] DoS of what? of the SPMC? other partitions? normal world? In generally, i agree this is a problem, and we have talked about this many times in the past, that the SPMC should be able to protect themselves. I\u0027m just saying it is non trivial to do, and has not been high on the list of things to yet. Patches are welcome of course, so long as the complexity of impl vs benefit is worth it.",
      "parentUuid": "242b048f_7355e1da",
      "range": {
        "startLine": 1186,
        "startChar": 27,
        "endLine": 1186,
        "endChar": 37
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "01c86cb9_8b48fdad",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1186,
      "author": {
        "id": 1000935
      },
      "writtenOn": "2023-01-03T06:43:56Z",
      "side": 1,
      "message": "\u003e [RK] This is one the usage models and is very common.\n\nCan you provide any specific examples of using the secure world for remote management in this way?\n\n\u003e \u003e Such software should not be relying on shared memory with the NS world anyway.\n\u003e \n\u003e [RK] Yes, that would be one way to solve it. In practice, that is a lot harder to do. My comment is saying that in practice, not having any communication with NWd is not practical, so this threat exists and the likelihood should be marked as such to inform readers that a mitigation does not exist, today.\n\nWhat I meant is that such software must not fail because the NS world exhausted resources used for cross-world communication.  The NS world could always just refuse to share any buffers, after all.",
      "parentUuid": "3c642ef9_89315842",
      "range": {
        "startLine": 1186,
        "startChar": 27,
        "endLine": 1186,
        "endChar": 37
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d476b4c0_17c91773",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1186,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-01-03T07:12:44Z",
      "side": 1,
      "message": "\u003e\u003eCan you provide any specific examples of using the secure world for remote management in this way?\n[RK] I wont be able to share publicly. We definitely do this and i\u0027m aware of other ARM server SoC vendors that do this as well.\n\n\u003e\u003eThe NS world could always just refuse to share any buffers, after all.\n[RK] Agree, we are on the same page. This is ultimately my point and i have added a comment to that effect in a related review as well. The DoS attack exists, the likelihood of it is high given the threat model, and no mitigation exists. So the document should ideally reflect that and warn vendors of this situation.",
      "parentUuid": "01c86cb9_8b48fdad",
      "range": {
        "startLine": 1186,
        "startChar": 27,
        "endLine": 1186,
        "endChar": 37
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1662970b_affe649a",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1188,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "change total risk rating based on above two?",
      "range": {
        "startLine": 1188,
        "startChar": 27,
        "endLine": 1188,
        "endChar": 34
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "96484dee_b70a2dae",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1188,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-02-01T12:03:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1662970b_affe649a",
      "range": {
        "startLine": 1188,
        "startChar": 27,
        "endLine": 1188,
        "endChar": 34
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c6d7f8a_c748a3a2",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1192,
      "author": {
        "id": 1000935
      },
      "writtenOn": "2022-12-30T02:30:08Z",
      "side": 1,
      "message": "“this could”",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eff3615c_bd602438",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1192,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-02-01T12:03:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c6d7f8a_c748a3a2",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f45742e3_ee7aa73b",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1193,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "insufficient",
      "range": {
        "startLine": 1193,
        "startChar": 34,
        "endLine": 1193,
        "endChar": 46
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc04b485_afbdc5d8",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1193,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-01-03T14:49:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f45742e3_ee7aa73b",
      "range": {
        "startLine": 1193,
        "startChar": 34,
        "endLine": 1193,
        "endChar": 46
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64e75629_8c15a400",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1196,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "so basically there is no mitigation. I would suggest to add that this is a possibility and there is no current mitigation. In general this is a problem for systems that need to use memory sharing extensively. It might also be worth calling out that the resources for memory sharing are separate from other functionality, so even if this DOS occurs, rest of the SPMC can work.\nAS i understand from the FF-A SRA, it seems like availability is not a comprehensive goal for FFA and hafnium is an implementation of the SPMC, and that might help justify why we are okay with not implementing a mitigation.",
      "range": {
        "startLine": 1196,
        "startChar": 37,
        "endLine": 1196,
        "endChar": 75
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78127477_b7e2b8aa",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1196,
      "author": {
        "id": 1000935
      },
      "writtenOn": "2023-01-01T23:53:24Z",
      "side": 1,
      "message": "I know nothing about hafnium, but seL4 ought to be able to run in the secure world and is not subject to this vulnerability.",
      "parentUuid": "64e75629_8c15a400",
      "range": {
        "startLine": 1196,
        "startChar": 37,
        "endLine": 1196,
        "endChar": 75
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b0d458f_8aee49f8",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1196,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-01-02T16:44:37Z",
      "side": 1,
      "message": "afaik, hafnium is neither competing with sel4, nor is it trying to provide the same guarantees. They may be similar. Agree that it would be great to be not subject to this, but until such time, the document can/should accurately reflect the reality. If we do fix it, this can be updated to reflect that reality.",
      "parentUuid": "78127477_b7e2b8aa",
      "range": {
        "startLine": 1196,
        "startChar": 37,
        "endLine": 1196,
        "endChar": 75
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "acd1b739_b59a3c2c",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1196,
      "author": {
        "id": 1000935
      },
      "writtenOn": "2023-01-03T06:43:56Z",
      "side": 1,
      "message": "Makes sense.",
      "parentUuid": "4b0d458f_8aee49f8",
      "range": {
        "startLine": 1196,
        "startChar": 37,
        "endLine": 1196,
        "endChar": 75
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ca9982b_e0a9adf3",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1204,
      "author": {
        "id": 1000935
      },
      "writtenOn": "2022-12-30T02:30:08Z",
      "side": 1,
      "message": "typo: withouth ⇒ without",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2322b3a6_ac264ea1",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1204,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-01-03T14:49:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3ca9982b_e0a9adf3",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed10e227_5d843850",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1206,
      "author": {
        "id": 1000935
      },
      "writtenOn": "2022-12-30T02:30:08Z",
      "side": 1,
      "message": "grammar nit: comma not needed here.",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "83404224_1222b780",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1206,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-01-03T14:49:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ed10e227_5d843850",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5f3ac56_f3b2d8ba",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1221,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "generally, impact to servers w.r.t to DOS is medium or high. extremely expensive to reboot for example, to recover from it.",
      "range": {
        "startLine": 1221,
        "startChar": 27,
        "endLine": 1221,
        "endChar": 35
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9bf5f1b2_b8450b19",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1221,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-02-01T12:03:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b5f3ac56_f3b2d8ba",
      "range": {
        "startLine": 1221,
        "startChar": 27,
        "endLine": 1221,
        "endChar": 35
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a81f6e1b_ba70d2c3",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1229,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "themselves",
      "range": {
        "startLine": 1229,
        "startChar": 57,
        "endLine": 1229,
        "endChar": 65
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b04a52ea_5978c257",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1229,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-01-03T14:49:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a81f6e1b_ba70d2c3",
      "range": {
        "startLine": 1229,
        "startChar": 57,
        "endLine": 1229,
        "endChar": 65
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86bf0c74_af20ce4a",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1231,
      "author": {
        "id": 1000935
      },
      "writtenOn": "2022-12-30T02:30:08Z",
      "side": 1,
      "message": "This allows one secure partition to DoS another secure partition.  This is a potentially significant problem in some scenarios, such as secure worlds that allow the non-secure world to upload arbitrary trustlets and provide a means of attesting these trustlets.  I consider it the responsibility of each secure partition’s kernel to ensure that all resources are cleaned up if a process crashes.  The hypervisor should also be able to enforce quotas on each partition.",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bcf1365a_35bcd322",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1231,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "Agree with the comment in general but, DoS is generally hard to prevent without adding significant complexity and as a general rule, bad partition behaviors are very difficult to monitor and prevent against, specially if they are dynamically loaded.\nFF-A also does not put preventing DoS very high on the list of security goals afaik.",
      "parentUuid": "86bf0c74_af20ce4a",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36a3a6bc_d7982758",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1231,
      "author": {
        "id": 1000935
      },
      "writtenOn": "2023-01-01T23:53:24Z",
      "side": 1,
      "message": "seL4 in the secure world is more than capable of doing this.  That said, an SPMC could provide a “Destroy this trustlet NOW!” endpoint to the NS world, and release the resources of a trustlet so destroyed.",
      "parentUuid": "bcf1365a_35bcd322",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f1c9df5_8fe01074",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1231,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-01-02T16:44:37Z",
      "side": 1,
      "message": "same as above, sel4 is not hf and vice versa, and i dont believe the goals are to compete with one another or be the same as one another. There may be overlapping goals.\nWouldnt destroy this trustlet (\"partition\" in FF-A parlance) create yet another DoS? NWd is considered untrusted in the TrustZone threat model (although people are free to invert it) and providing such an API/Interface, would simply mean NWd kills of trustlets and cause DoS on services that partitions typically provide.\nCould you elaborate more on how you envision \"Destroy this trustlet NOW?\" be used? Not sure i follow your comment entirely.",
      "parentUuid": "36a3a6bc_d7982758",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a6886ff_4541f164",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1231,
      "author": {
        "id": 1000935
      },
      "writtenOn": "2023-01-03T06:43:56Z",
      "side": 1,
      "message": "\u003e Wouldnt destroy this trustlet (\"partition\" in FF-A parlance) create yet another DoS? NWd is considered untrusted in the TrustZone threat model (although people are free to invert it) and providing such an API/Interface, would simply mean NWd kills of trustlets and cause DoS on services that partitions typically provide.\n\nWhat services are these?  Can you point to open-source projects that rely on NWd not being able to DoS SWd?  In the devices I am somewhat familiar with (Android), the device is completely unusable without NWd and NWd is allowed to reboot the system.  SWd exists only to protect information that is considered too sensitive for NWd to be allowed to access.  In fact, I believe OP-TEE relies entirely on NWd for scheduling.\n\n\u003e Could you elaborate more on how you envision \"Destroy this trustlet NOW?\" be used? Not sure i follow your comment entirely.\n\nSome SWd TEEs allow NWd to provide trustlets for SWd to execute, with signature checks being used to ensure that only valid, signed trustlets are loaded.  In this model, it is perfectly reasonable for NWd to wish to terminate a trustlet that it loaded and reclaim the trustlet’s resources.\n\nOne could even imagine a scenario in which SWd allows NWd to create secure partitions at will (provided suitable resources are available) and to destroy the partitions that it created (but not others).  Integrity and confidentiality of these partitions’ data would be guaranteed by cryptographic attestation.  This is the exact same threat model as ARM CCA realms or AMD SEV-SNP or Intel TDX guests: the hypervisor can deny service at will, but cannot access or tamper with guest guest code or data.",
      "parentUuid": "7f1c9df5_8fe01074",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b169df8_97cbd920",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1231,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-01-03T07:12:44Z",
      "side": 1,
      "message": "\u003e\u003eWhat services are these?  Can you point to open-source projects that rely on NWd not being able to DoS SWd? \n[RK] No open source projects, but as mentioned, we have use cases for remote management where allowing NWd to kill secure partitions would kill out of band services/management for example. Yes, reboot is always an option for NWd to DoS the system in such cases, so adding such an API would need some access control, say via the partition manifest, to signal whether killing via NWd is allowed or not, and may not blanket apply to all partitions.\nAnd yes, most, but not all partitions rely on NWd for scehduling, yet again, we have purely secure interrupt driven services, that dont have any reliance on NWd for scheduling but provide critical system services. OPTEE is one example of a secure OS and what you are thinking of is one form of system design ( mobile focused). Generally server focused designs have different constraints and use cases, leading to different outcomes that dont fit very well into the paradigm you may be thinking about.\n\n\u003e\u003e In this model, it is perfectly reasonable for NWd to wish to terminate a trustlet that it loaded and reclaim the trustlet’s resources.\n[RK] Agree, perhaps there are multiple classes of partitions, ones that you are thinking about for which killing is reasonable, and ones i\u0027m, thinking about, which is a mix of those that can be killed without impact, and those that cannot.\n\n\u003e\u003e the hypervisor can deny service at will, but cannot access or tamper with guest guest code or data.\n[RK] Agree, but as mentioned above, not all use cases fit well into that model, where DoS/killing of the service is acceptable.",
      "parentUuid": "9a6886ff_4541f164",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e4b66da_a7f1b947",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1231,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2023-01-03T07:30:00Z",
      "side": 1,
      "message": "also about the reboot, in theory, NWd calls PSCI to reboot the system and cannot directly reboot via access to, say, SoC registers, and it is entirely possible for PSCI, for example, to query some of these critical partitions if a reboot is acceptable and approve or deny reboot requests. Yet again, TZ is generally more privileged and we could have authorization mechanisms to prevent normal world from running amok, so while it is typical for NWd to be able to reboot, yet again, not always the case. Some of those designs may accept security risks that comes with it.",
      "parentUuid": "0b169df8_97cbd920",
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03bea01f_4e0d6596",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1267,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "threat",
      "range": {
        "startLine": 1267,
        "startChar": 55,
        "endLine": 1267,
        "endChar": 61
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6e8e56ec_a945b21e",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1267,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-01-03T14:49:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "03bea01f_4e0d6596",
      "range": {
        "startLine": 1267,
        "startChar": 55,
        "endLine": 1267,
        "endChar": 61
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0cdb483_cdf5792f",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1275,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "threat",
      "range": {
        "startLine": 1275,
        "startChar": 56,
        "endLine": 1275,
        "endChar": 63
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24c1a185_b78aa865",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1275,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-01-03T14:49:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c0cdb483_cdf5792f",
      "range": {
        "startLine": 1275,
        "startChar": 56,
        "endLine": 1275,
        "endChar": 63
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26b179f8_6da68cd6",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1310,
      "author": {
        "id": 1000114
      },
      "writtenOn": "2022-12-31T22:16:48Z",
      "side": 1,
      "message": "performing",
      "range": {
        "startLine": 1310,
        "startChar": 66,
        "endLine": 1310,
        "endChar": 71
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5427c67b_b90aec42",
        "filename": "docs/threat_model/threat_model_spm.rst",
        "patchSetId": 1
      },
      "lineNbr": 1310,
      "author": {
        "id": 1000341
      },
      "writtenOn": "2023-01-03T14:49:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "26b179f8_6da68cd6",
      "range": {
        "startLine": 1310,
        "startChar": 66,
        "endLine": 1310,
        "endChar": 71
      },
      "revId": "199a6c7e92be99165da9e35393777337266a1ea4",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}