{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "383d799c_c931632e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1000541
      },
      "writtenOn": "2023-05-31T14:20:59Z",
      "side": 1,
      "message": "I\u0027m happy with this. Many thanks for the rework, it\u0027ll help future development.",
      "revId": "755f61a4c81cee53716881a6b036cbef5b3aeecf",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "76c6c6ed_09df15f8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1000443
      },
      "writtenOn": "2023-05-31T16:46:44Z",
      "side": 1,
      "message": "CI would probably complain about sbsa_gic.c being new.",
      "revId": "755f61a4c81cee53716881a6b036cbef5b3aeecf",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "edfde821_e0bf1268",
        "filename": "plat/qemu/qemu_sbsa/sbsa_gic.c",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1000120
      },
      "writtenOn": "2023-06-01T07:01:36Z",
      "side": 1,
      "message": "What is this cast hoping to achieve?",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 22
      },
      "revId": "755f61a4c81cee53716881a6b036cbef5b3aeecf",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b65e6b5_a403f00a",
        "filename": "plat/qemu/qemu_sbsa/sbsa_gic.c",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1000443
      },
      "writtenOn": "2023-06-01T08:07:41Z",
      "side": 1,
      "message": "to be honest: no idea, copied it from other platform in tf-a",
      "parentUuid": "edfde821_e0bf1268",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 22
      },
      "revId": "755f61a4c81cee53716881a6b036cbef5b3aeecf",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e3a3464_50b4005a",
        "filename": "plat/qemu/qemu_sbsa/sbsa_gic.c",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2023-06-05T12:08:53Z",
      "side": 1,
      "message": "I suspect other platforms added this cast for MISRA compliance. plat_core_pos_by_mpidr() returns a signed int (can return -1 if mpidr passed in argument is invalid) and MISRA considers signed int and unsigned int as 2 distinct \"essential\" types, requiring the usage of an explicit cast if you want to convert from one to the other.\n\nThat being said, MISRA compliance is only required for generic code. For platform code, this decision is left to the platform maintainers.\n\nBTW, looking at plat/qemu/common/topology.c, plat_core_pos_by_mpidr() can return -1 on QEMU... Have you considered what would happen if sbsa_gic_driver_data.mpidr_to_core_pos() returned ((unsigned int) -1)? Its return value seems to be further used as an index into an array in gicv3_main.c [1], which I guess would not go well... I\u0027ve not looked much further, I might be missing something completely obvious but thought I\u0027d better raise it just in case...\n\n[1] https://git.trustedfirmware.org/TF-A/trusted-firmware-a.git/tree/drivers/arm/gic/v3/gicv3_main.c#n1343",
      "parentUuid": "1b65e6b5_a403f00a",
      "range": {
        "startLine": 19,
        "startChar": 8,
        "endLine": 19,
        "endChar": 22
      },
      "revId": "755f61a4c81cee53716881a6b036cbef5b3aeecf",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}