{
  "comments": [
    {
      "key": {
        "uuid": "a30b92e9_df4d2ccd",
        "filename": "plat/hisilicon/hikey960/drivers/pwrc/hisi_pwrc.c",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-04-08T08:47:08Z",
      "side": 1,
      "message": "It looks like this function argument is no longer used. Should it be removed?",
      "range": {
        "startLine": 150,
        "startChar": 30,
        "endLine": 150,
        "endChar": 50
      },
      "revId": "bcc284c04972b0e7dbd981aca574fe25f20bab25",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47f9f33d_dcf9f79b",
        "filename": "plat/hisilicon/hikey960/drivers/pwrc/hisi_pwrc.c",
        "patchSetId": 1
      },
      "lineNbr": 173,
      "author": {
        "id": 1000043
      },
      "writtenOn": "2019-04-08T08:47:08Z",
      "side": 1,
      "message": "I think you might have to use 0x3U here. In the case where cluster \u003d\u003d 1, the shift operation here will be equivalent to (0x3 \u003c\u003c 30), which is an undefined behaviour in C if 0x3 is a signed integer.\n\nGCC UBSan seems to agree. I\u0027ve tried to compile the following sample code with -fsanitize\u003dundefined:\n\n int main(void) {\n\tunsigned int cluster \u003d 1;\n\tunsigned int val \u003d 0x3 \u003c\u003c ((2 * cluster) + 28);\n\treturn val;\n }\n\nAnd I got the following runtime error:\n\n test.c:3:25: runtime error: left shift of 3 by 30 places cannot be represented in type \u0027int\u0027",
      "range": {
        "startLine": 173,
        "startChar": 10,
        "endLine": 173,
        "endChar": 13
      },
      "revId": "bcc284c04972b0e7dbd981aca574fe25f20bab25",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda",
      "unresolved": true
    }
  ]
}