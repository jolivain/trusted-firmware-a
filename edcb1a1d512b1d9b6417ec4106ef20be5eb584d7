{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "33aa67fc_a21f2644",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000695
      },
      "writtenOn": "2021-10-06T05:31:12Z",
      "side": 1,
      "message": "Note: ufshc_reset() follows the pattern used in Linux, with inner and outer retries. See ufshcd_hba_execute_hce() defined in Linux\u0027s ufshcd.c\n\n- https://elixir.bootlin.com/linux/latest/source/drivers/scsi/ufs/ufshcd.c#L4526",
      "revId": "edcb1a1d512b1d9b6417ec4106ef20be5eb584d7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c74d33e7_00f038c3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000149
      },
      "writtenOn": "2021-10-06T05:42:03Z",
      "side": 1,
      "message": "Might be worth adding this detail to the commit message or source?\n(if so, also use a URL that specifies a kernel version as for future readers, the line numbers may change with the latest link)",
      "parentUuid": "33aa67fc_a21f2644",
      "revId": "edcb1a1d512b1d9b6417ec4106ef20be5eb584d7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed807154_e213fe23",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000695
      },
      "writtenOn": "2021-10-06T22:38:11Z",
      "side": 1,
      "message": "If it\u0027s okay with you, I\u0027m going to wait for feedback/comments from the UFS owner before deciding how to move forward.\n\nI like the idea of referencing where this idea came from though.",
      "parentUuid": "c74d33e7_00f038c3",
      "revId": "edcb1a1d512b1d9b6417ec4106ef20be5eb584d7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "907f74ae_5b19e1d2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000695
      },
      "writtenOn": "2021-10-11T23:15:24Z",
      "side": 1,
      "message": "Coming back to this after Haojian\u0027s review.\n\nHere\u0027s a link with kernel version: https://elixir.bootlin.com/linux/v5.14.11/source/drivers/scsi/ufs/ufshcd.c#L4525\n\nI generally avoid adding URLs to commit messages and source code because they change often (bootlin could change their domain name, how they do file paths, or go away some day), so I added a high level explanation in the commit message instead.\n\n\"The inner and outer retry pattern is based on Linux\u0027s ufshcd_hba_execute_hce function.\"\n\nIs this sufficient? If you prefer adding the URL in the commit message or source, could you give an example showing how you would do it?\n\nFor more information, developers can always read the code review comments in https://review.trustedfirmware.org/c/TF-A/trusted-firmware-a/+/11740.",
      "parentUuid": "ed807154_e213fe23",
      "revId": "edcb1a1d512b1d9b6417ec4106ef20be5eb584d7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32040a6e_c3a23913",
        "filename": "drivers/ufs/ufs.c",
        "patchSetId": 5
      },
      "lineNbr": 815,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2021-10-09T05:51:36Z",
      "side": 1,
      "message": "Assert only works in debug mode.\nWhile an error is detected in release mode, I assume it should abandon to init UFS right now. But the code is continue to init UFS.",
      "revId": "edcb1a1d512b1d9b6417ec4106ef20be5eb584d7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6ca04a8_a4d2a66d",
        "filename": "drivers/ufs/ufs.c",
        "patchSetId": 5
      },
      "lineNbr": 815,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2021-10-09T06:09:51Z",
      "side": 1,
      "message": "I mean if ufs_reset() returns the error, either you try it again or abandon to init it. But the code is continue to init UFS.",
      "parentUuid": "32040a6e_c3a23913",
      "revId": "edcb1a1d512b1d9b6417ec4106ef20be5eb584d7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8dd62d5_346b76e2",
        "filename": "drivers/ufs/ufs.c",
        "patchSetId": 5
      },
      "lineNbr": 815,
      "author": {
        "id": 1000350
      },
      "writtenOn": "2021-10-09T06:30:26Z",
      "side": 1,
      "message": "If you have an additional patch to replace all asserts by some error handler, it would be great.\nI\u0027m fine on this patch.",
      "parentUuid": "c6ca04a8_a4d2a66d",
      "revId": "edcb1a1d512b1d9b6417ec4106ef20be5eb584d7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f64e488_96b3a854",
        "filename": "drivers/ufs/ufs.c",
        "patchSetId": 5
      },
      "lineNbr": 815,
      "author": {
        "id": 1000695
      },
      "writtenOn": "2021-10-11T21:57:58Z",
      "side": 1,
      "message": "Thanks for the input Haojian. Yes, I am planning to upload another patch that replaces all asserts with an error handler. Coming soon...",
      "parentUuid": "a8dd62d5_346b76e2",
      "revId": "edcb1a1d512b1d9b6417ec4106ef20be5eb584d7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "da639171_9bc72d99",
        "filename": "drivers/ufs/ufs.c",
        "patchSetId": 5
      },
      "lineNbr": 815,
      "author": {
        "id": 1000695
      },
      "writtenOn": "2021-10-11T22:09:38Z",
      "side": 1,
      "message": "Marking as resolved.",
      "parentUuid": "0f64e488_96b3a854",
      "revId": "edcb1a1d512b1d9b6417ec4106ef20be5eb584d7",
      "serverId": "8f6f209b-db1a-4cbf-aa44-c8bc30e9bfda"
    }
  ]
}